2025-08-26 15:36:27 [INFO]: Server running in development mode on port 5000
2025-08-26 15:36:27 [INFO]: MongoDB Connected: localhost
2025-08-26 15:39:33 [INFO]: Connected to MongoDB
2025-08-26 15:39:33 [INFO]: Setting up admin user...

2025-08-26 15:42:02 [INFO]: 
âœ… Admin user created successfully!
2025-08-26 15:42:25 [WARN]: MongoDB disconnected
2025-08-26 15:42:38 [INFO]: Server running in development mode on port 5000
2025-08-26 15:42:38 [INFO]: MongoDB Connected: localhost
2025-08-26 15:43:35 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-26 15:45:38 [ERROR]: Update user error: Cast to ObjectId failed for value "profile" (type string) at path "_id" for model "User"
CastError: Cast to ObjectId failed for value "profile" (type string) at path "_id" for model "User"
    at SchemaObjectId.cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schema\objectId.js:251:11)
    at SchemaType.applySetters (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1258:12)
    at SchemaType.castForQuery (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1694:17)
    at cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\cast.js:390:32)
    at Query.cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:5060:12)
    at Query._castConditions (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2374:10)
    at model.Query._findOne (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2697:8)
    at model.Query.exec (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:4627:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async C:\Users\Admin\Documents\new\server\routes\users.js:114:16
{
  "stringValue": "\"profile\"",
  "kind": "ObjectId",
  "value": "profile",
  "path": "_id",
  "reason": {},
  "valueType": "string"
}
2025-08-26 15:45:57 [ERROR]: Update user error: Cast to ObjectId failed for value "preferences" (type string) at path "_id" for model "User"
CastError: Cast to ObjectId failed for value "preferences" (type string) at path "_id" for model "User"
    at SchemaObjectId.cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schema\objectId.js:251:11)
    at SchemaType.applySetters (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1258:12)
    at SchemaType.castForQuery (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1694:17)
    at cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\cast.js:390:32)
    at Query.cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:5060:12)
    at Query._castConditions (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2374:10)
    at model.Query._findOne (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2697:8)
    at model.Query.exec (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:4627:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async C:\Users\Admin\Documents\new\server\routes\users.js:114:16
{
  "stringValue": "\"preferences\"",
  "kind": "ObjectId",
  "value": "preferences",
  "path": "_id",
  "reason": {},
  "valueType": "string"
}
2025-08-26 15:46:16 [ERROR]: Update user error: Cast to ObjectId failed for value "preferences" (type string) at path "_id" for model "User"
CastError: Cast to ObjectId failed for value "preferences" (type string) at path "_id" for model "User"
    at SchemaObjectId.cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schema\objectId.js:251:11)
    at SchemaType.applySetters (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1258:12)
    at SchemaType.castForQuery (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1694:17)
    at cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\cast.js:390:32)
    at Query.cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:5060:12)
    at Query._castConditions (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2374:10)
    at model.Query._findOne (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2697:8)
    at model.Query.exec (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:4627:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async C:\Users\Admin\Documents\new\server\routes\users.js:114:16
{
  "stringValue": "\"preferences\"",
  "kind": "ObjectId",
  "value": "preferences",
  "path": "_id",
  "reason": {},
  "valueType": "string"
}
2025-08-26 15:46:24 [ERROR]: Update user error: Cast to ObjectId failed for value "preferences" (type string) at path "_id" for model "User"
CastError: Cast to ObjectId failed for value "preferences" (type string) at path "_id" for model "User"
    at SchemaObjectId.cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schema\objectId.js:251:11)
    at SchemaType.applySetters (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1258:12)
    at SchemaType.castForQuery (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1694:17)
    at cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\cast.js:390:32)
    at Query.cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:5060:12)
    at Query._castConditions (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2374:10)
    at model.Query._findOne (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2697:8)
    at model.Query.exec (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:4627:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async C:\Users\Admin\Documents\new\server\routes\users.js:114:16
{
  "stringValue": "\"preferences\"",
  "kind": "ObjectId",
  "value": "preferences",
  "path": "_id",
  "reason": {},
  "valueType": "string"
}
2025-08-26 15:52:40 [ERROR]: Error sending verification email: sendEmail is not a function
TypeError: sendEmail is not a function
    at C:\Users\Admin\Documents\new\server\routes\auth.js:84:13
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-26 15:56:42 [INFO]: Authentication attempt
{
  "email": "aminashabani227@gmail.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-26 15:58:26 [ERROR]: Update user error: Cast to ObjectId failed for value "profile" (type string) at path "_id" for model "User"
CastError: Cast to ObjectId failed for value "profile" (type string) at path "_id" for model "User"
    at SchemaObjectId.cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schema\objectId.js:251:11)
    at SchemaType.applySetters (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1258:12)
    at SchemaType.castForQuery (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1694:17)
    at cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\cast.js:390:32)
    at Query.cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:5060:12)
    at Query._castConditions (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2374:10)
    at model.Query._findOne (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2697:8)
    at model.Query.exec (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:4627:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async C:\Users\Admin\Documents\new\server\routes\users.js:114:16
{
  "stringValue": "\"profile\"",
  "kind": "ObjectId",
  "value": "profile",
  "path": "_id",
  "reason": {},
  "valueType": "string"
}
2025-08-26 16:41:11 [INFO]: Connected to MongoDB
2025-08-26 16:41:12 [INFO]: Admin user already exists
2025-08-26 16:42:26 [WARN]: MongoDB disconnected
2025-08-26 16:46:04 [INFO]: Server running in development mode on port 5000
2025-08-26 16:46:04 [INFO]: MongoDB Connected: localhost
2025-08-26 16:47:13 [INFO]: Authentication attempt
{
  "email": "aminashabani227@gmail.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-26 16:47:14 [ERROR]: Login error: option expires is invalid
TypeError: option expires is invalid
    at Object.serialize (C:\Users\Admin\Documents\new\server\node_modules\cookie\index.js:234:13)
    at res.cookie (C:\Users\Admin\Documents\new\server\node_modules\express\lib\response.js:892:36)
    at C:\Users\Admin\Documents\new\server\routes\auth.js:200:9
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-26 16:47:31 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-26 16:47:31 [ERROR]: Login error: option expires is invalid
TypeError: option expires is invalid
    at Object.serialize (C:\Users\Admin\Documents\new\server\node_modules\cookie\index.js:234:13)
    at res.cookie (C:\Users\Admin\Documents\new\server\node_modules\express\lib\response.js:892:36)
    at C:\Users\Admin\Documents\new\server\routes\auth.js:200:9
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-26 16:49:06 [INFO]: Connected to MongoDB
2025-08-26 16:49:06 [INFO]: Admin user already exists
2025-08-26 16:49:21 [WARN]: MongoDB disconnected
2025-08-26 16:49:26 [INFO]: Server running in development mode on port 5000
2025-08-26 16:49:26 [INFO]: MongoDB Connected: localhost
2025-08-26 16:49:41 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-26 16:49:41 [ERROR]: Login error: option expires is invalid
TypeError: option expires is invalid
    at Object.serialize (C:\Users\Admin\Documents\new\server\node_modules\cookie\index.js:234:13)
    at res.cookie (C:\Users\Admin\Documents\new\server\node_modules\express\lib\response.js:892:36)
    at C:\Users\Admin\Documents\new\server\routes\auth.js:200:9
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-26 16:51:33 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-26 16:51:33 [ERROR]: Login error: option expires is invalid
TypeError: option expires is invalid
    at Object.serialize (C:\Users\Admin\Documents\new\server\node_modules\cookie\index.js:234:13)
    at res.cookie (C:\Users\Admin\Documents\new\server\node_modules\express\lib\response.js:892:36)
    at C:\Users\Admin\Documents\new\server\routes\auth.js:200:9
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-26 16:51:42 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-26 16:51:54 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-26 16:51:55 [ERROR]: Login error: option expires is invalid
TypeError: option expires is invalid
    at Object.serialize (C:\Users\Admin\Documents\new\server\node_modules\cookie\index.js:234:13)
    at res.cookie (C:\Users\Admin\Documents\new\server\node_modules\express\lib\response.js:892:36)
    at C:\Users\Admin\Documents\new\server\routes\auth.js:200:9
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-26 16:52:11 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-26 16:53:06 [WARN]: MongoDB disconnected
2025-08-26 16:53:14 [INFO]: Server running in development mode on port 5000
2025-08-26 16:53:14 [INFO]: MongoDB Connected: localhost
2025-08-26 16:53:25 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-26 16:53:26 [ERROR]: Login error: option expires is invalid
TypeError: option expires is invalid
    at Object.serialize (C:\Users\Admin\Documents\new\server\node_modules\cookie\index.js:234:13)
    at res.cookie (C:\Users\Admin\Documents\new\server\node_modules\express\lib\response.js:892:36)
    at C:\Users\Admin\Documents\new\server\routes\auth.js:200:9
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-26 16:55:30 [WARN]: MongoDB disconnected
2025-08-26 16:56:23 [INFO]: Server running in development mode on port 5000
2025-08-26 16:56:23 [INFO]: MongoDB Connected: localhost
2025-08-26 16:56:37 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-26 16:57:39 [WARN]: MongoDB disconnected
2025-08-26 20:04:08 [INFO]: Server running in development mode on port 5000
2025-08-26 20:04:08 [INFO]: MongoDB Connected: localhost
2025-08-26 20:09:51 [ERROR]: Error sending verification email: sendEmail is not a function
TypeError: sendEmail is not a function
    at C:\Users\Admin\Documents\new\server\routes\auth.js:84:13
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-26 20:10:55 [INFO]: Authentication attempt
{
  "email": "kelvinalfred56@gmail.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-26 20:41:46 [WARN]: MongoDB disconnected
2025-08-27 01:51:15 [INFO]: Server running in development mode on port 5000
2025-08-27 01:51:15 [INFO]: MongoDB Connected: localhost
2025-08-27 01:52:30 [INFO]: Server running in development mode on port 5000
2025-08-27 01:52:30 [INFO]: MongoDB Connected: localhost
2025-08-27 01:59:29 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-27 02:00:26 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-28 11:27:19 [INFO]: Server running in development mode on port 5000
2025-08-28 11:27:24 [ERROR]: Database connection failed: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017
MongooseServerSelectionError: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017
    at _handleConnectionErrors (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\connection.js:1165:11)
    at NativeConnection.openUri (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\connection.js:1096:11)
    at async connectDB (C:\Users\Admin\Documents\new\server\config\database.js:6:18)
{
  "errorLabelSet": {},
  "reason": {
    "type": "Unknown",
    "servers": {
      "localhost:27017": {
        "address": "localhost:27017",
        "type": "Unknown",
        "hosts": [],
        "passives": [],
        "arbiters": [],
        "tags": {},
        "minWireVersion": 0,
        "maxWireVersion": 0,
        "roundTripTime": -1,
        "minRoundTripTime": 0,
        "lastUpdateTime": 50914654,
        "lastWriteDate": 0,
        "error": {
          "errorLabelSet": {},
          "beforeHandshake": false
        },
        "topologyVersion": null,
        "setName": null,
        "setVersion": null,
        "electionId": null,
        "logicalSessionTimeoutMinutes": null,
        "maxMessageSizeBytes": null,
        "maxWriteBatchSize": null,
        "maxBsonObjectSize": null,
        "primary": null,
        "me": null,
        "$clusterTime": null,
        "iscryptd": false
      }
    },
    "stale": false,
    "compatible": true,
    "heartbeatFrequencyMS": 10000,
    "localThresholdMS": 15,
    "setName": null,
    "maxElectionId": null,
    "maxSetVersion": null,
    "commonWireVersion": 0,
    "logicalSessionTimeoutMinutes": null
  },
  "cause": {
    "type": "Unknown",
    "servers": {
      "localhost:27017": {
        "address": "localhost:27017",
        "type": "Unknown",
        "hosts": [],
        "passives": [],
        "arbiters": [],
        "tags": {},
        "minWireVersion": 0,
        "maxWireVersion": 0,
        "roundTripTime": -1,
        "minRoundTripTime": 0,
        "lastUpdateTime": 50914654,
        "lastWriteDate": 0,
        "error": {
          "errorLabelSet": {},
          "beforeHandshake": false
        },
        "topologyVersion": null,
        "setName": null,
        "setVersion": null,
        "electionId": null,
        "logicalSessionTimeoutMinutes": null,
        "maxMessageSizeBytes": null,
        "maxWriteBatchSize": null,
        "maxBsonObjectSize": null,
        "primary": null,
        "me": null,
        "$clusterTime": null,
        "iscryptd": false
      }
    },
    "stale": false,
    "compatible": true,
    "heartbeatFrequencyMS": 10000,
    "localThresholdMS": 15,
    "setName": null,
    "maxElectionId": null,
    "maxSetVersion": null,
    "commonWireVersion": 0,
    "logicalSessionTimeoutMinutes": null
  }
}
2025-08-28 11:28:19 [INFO]: Server running in development mode on port 5000
2025-08-28 11:28:20 [ERROR]: Database connection failed: Authentication failed.
MongoServerError: Authentication failed.
    at Connection.sendCommand (C:\Users\Admin\Documents\new\server\node_modules\mongodb\lib\cmap\connection.js:305:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async Connection.command (C:\Users\Admin\Documents\new\server\node_modules\mongodb\lib\cmap\connection.js:333:26)
    at async continueScramConversation (C:\Users\Admin\Documents\new\server\node_modules\mongodb\lib\cmap\auth\scram.js:131:15)
    at async ScramSHA256.auth (C:\Users\Admin\Documents\new\server\node_modules\mongodb\lib\cmap\auth\scram.js:37:20)
    at async performInitialHandshake (C:\Users\Admin\Documents\new\server\node_modules\mongodb\lib\cmap\connect.js:104:13)
    at async connect (C:\Users\Admin\Documents\new\server\node_modules\mongodb\lib\cmap\connect.js:24:9)
{
  "errorLabelSet": {},
  "errorResponse": {
    "ok": 0,
    "errmsg": "Authentication failed.",
    "code": 18,
    "codeName": "AuthenticationFailed"
  },
  "ok": 0,
  "code": 18,
  "codeName": "AuthenticationFailed",
  "connectionGeneration": 0
}
2025-08-28 11:30:19 [INFO]: Server running in development mode on port 5000
2025-08-28 11:30:24 [ERROR]: Database connection failed: getaddrinfo ENOTFOUND 123
MongooseServerSelectionError: getaddrinfo ENOTFOUND 123
    at _handleConnectionErrors (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\connection.js:1165:11)
    at NativeConnection.openUri (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\connection.js:1096:11)
    at async connectDB (C:\Users\Admin\Documents\new\server\config\database.js:6:18)
{
  "errorLabelSet": {},
  "reason": {
    "type": "Unknown",
    "servers": {
      "123:27017": {
        "address": "123:27017",
        "type": "Unknown",
        "hosts": [],
        "passives": [],
        "arbiters": [],
        "tags": {},
        "minWireVersion": 0,
        "maxWireVersion": 0,
        "roundTripTime": -1,
        "minRoundTripTime": 0,
        "lastUpdateTime": 51094375,
        "lastWriteDate": 0,
        "error": {
          "errorLabelSet": {},
          "beforeHandshake": false
        },
        "topologyVersion": null,
        "setName": null,
        "setVersion": null,
        "electionId": null,
        "logicalSessionTimeoutMinutes": null,
        "maxMessageSizeBytes": null,
        "maxWriteBatchSize": null,
        "maxBsonObjectSize": null,
        "primary": null,
        "me": null,
        "$clusterTime": null,
        "iscryptd": false
      }
    },
    "stale": false,
    "compatible": true,
    "heartbeatFrequencyMS": 10000,
    "localThresholdMS": 15,
    "setName": null,
    "maxElectionId": null,
    "maxSetVersion": null,
    "commonWireVersion": 0,
    "logicalSessionTimeoutMinutes": null
  },
  "cause": {
    "type": "Unknown",
    "servers": {
      "123:27017": {
        "address": "123:27017",
        "type": "Unknown",
        "hosts": [],
        "passives": [],
        "arbiters": [],
        "tags": {},
        "minWireVersion": 0,
        "maxWireVersion": 0,
        "roundTripTime": -1,
        "minRoundTripTime": 0,
        "lastUpdateTime": 51094375,
        "lastWriteDate": 0,
        "error": {
          "errorLabelSet": {},
          "beforeHandshake": false
        },
        "topologyVersion": null,
        "setName": null,
        "setVersion": null,
        "electionId": null,
        "logicalSessionTimeoutMinutes": null,
        "maxMessageSizeBytes": null,
        "maxWriteBatchSize": null,
        "maxBsonObjectSize": null,
        "primary": null,
        "me": null,
        "$clusterTime": null,
        "iscryptd": false
      }
    },
    "stale": false,
    "compatible": true,
    "heartbeatFrequencyMS": 10000,
    "localThresholdMS": 15,
    "setName": null,
    "maxElectionId": null,
    "maxSetVersion": null,
    "commonWireVersion": 0,
    "logicalSessionTimeoutMinutes": null
  }
}
2025-08-28 11:31:15 [INFO]: Server running in development mode on port 5000
2025-08-28 11:31:15 [INFO]: MongoDB Connected: localhost
2025-08-28 11:49:32 [INFO]: Server running in development mode on port 5000
2025-08-28 11:49:37 [ERROR]: Database connection failed: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017
MongooseServerSelectionError: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017
    at _handleConnectionErrors (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\connection.js:1165:11)
    at NativeConnection.openUri (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\connection.js:1096:11)
    at async connectDB (C:\Users\Admin\Documents\new\server\config\database.js:6:18)
{
  "errorLabelSet": {},
  "reason": {
    "type": "Unknown",
    "servers": {
      "localhost:27017": {
        "address": "localhost:27017",
        "type": "Unknown",
        "hosts": [],
        "passives": [],
        "arbiters": [],
        "tags": {},
        "minWireVersion": 0,
        "maxWireVersion": 0,
        "roundTripTime": -1,
        "minRoundTripTime": 0,
        "lastUpdateTime": 813161,
        "lastWriteDate": 0,
        "error": {
          "errorLabelSet": {},
          "beforeHandshake": false
        },
        "topologyVersion": null,
        "setName": null,
        "setVersion": null,
        "electionId": null,
        "logicalSessionTimeoutMinutes": null,
        "maxMessageSizeBytes": null,
        "maxWriteBatchSize": null,
        "maxBsonObjectSize": null,
        "primary": null,
        "me": null,
        "$clusterTime": null,
        "iscryptd": false
      }
    },
    "stale": false,
    "compatible": true,
    "heartbeatFrequencyMS": 10000,
    "localThresholdMS": 15,
    "setName": null,
    "maxElectionId": null,
    "maxSetVersion": null,
    "commonWireVersion": 0,
    "logicalSessionTimeoutMinutes": null
  },
  "cause": {
    "type": "Unknown",
    "servers": {
      "localhost:27017": {
        "address": "localhost:27017",
        "type": "Unknown",
        "hosts": [],
        "passives": [],
        "arbiters": [],
        "tags": {},
        "minWireVersion": 0,
        "maxWireVersion": 0,
        "roundTripTime": -1,
        "minRoundTripTime": 0,
        "lastUpdateTime": 813161,
        "lastWriteDate": 0,
        "error": {
          "errorLabelSet": {},
          "beforeHandshake": false
        },
        "topologyVersion": null,
        "setName": null,
        "setVersion": null,
        "electionId": null,
        "logicalSessionTimeoutMinutes": null,
        "maxMessageSizeBytes": null,
        "maxWriteBatchSize": null,
        "maxBsonObjectSize": null,
        "primary": null,
        "me": null,
        "$clusterTime": null,
        "iscryptd": false
      }
    },
    "stale": false,
    "compatible": true,
    "heartbeatFrequencyMS": 10000,
    "localThresholdMS": 15,
    "setName": null,
    "maxElectionId": null,
    "maxSetVersion": null,
    "commonWireVersion": 0,
    "logicalSessionTimeoutMinutes": null
  }
}
2025-08-28 11:51:15 [INFO]: Server running in development mode on port 5000
2025-08-28 11:51:16 [INFO]: MongoDB Connected: localhost
2025-08-28 11:53:13 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-28 11:53:27 [INFO]: Authentication attempt
{
  "email": "johnsonemmanuel1425@gmail.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-28 11:53:45 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-28 11:53:58 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-28 11:54:20 [INFO]: Authentication attempt
{
  "email": "johnsonemmanuel1425@gmail.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-28 11:57:06 [WARN]: MongoDB disconnected
2025-08-28 11:57:13 [INFO]: Server running in development mode on port 5000
2025-08-28 11:57:13 [INFO]: MongoDB Connected: localhost
2025-08-28 11:57:26 [INFO]: Authentication attempt
{
  "email": "aminashabani227@gmail.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-28 11:57:34 [INFO]: Authentication attempt
{
  "email": "aminashabani227@gmail.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-28 11:57:47 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-28 11:58:14 [ERROR]: Update user error: Cast to ObjectId failed for value "preferences" (type string) at path "_id" for model "User"
CastError: Cast to ObjectId failed for value "preferences" (type string) at path "_id" for model "User"
    at SchemaObjectId.cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schema\objectId.js:251:11)
    at SchemaType.applySetters (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1258:12)
    at SchemaType.castForQuery (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1694:17)
    at cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\cast.js:390:32)
    at Query.cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:5060:12)
    at Query._castConditions (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2374:10)
    at model.Query._findOne (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2697:8)
    at model.Query.exec (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:4627:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async C:\Users\Admin\Documents\new\server\routes\users.js:114:16
{
  "stringValue": "\"preferences\"",
  "kind": "ObjectId",
  "value": "preferences",
  "path": "_id",
  "reason": {},
  "valueType": "string"
}
2025-08-28 11:59:07 [ERROR]: Update user error: Cast to ObjectId failed for value "change-password" (type string) at path "_id" for model "User"
CastError: Cast to ObjectId failed for value "change-password" (type string) at path "_id" for model "User"
    at SchemaObjectId.cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schema\objectId.js:251:11)
    at SchemaType.applySetters (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1258:12)
    at SchemaType.castForQuery (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1694:17)
    at cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\cast.js:390:32)
    at Query.cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:5060:12)
    at Query._castConditions (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2374:10)
    at model.Query._findOne (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2697:8)
    at model.Query.exec (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:4627:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async C:\Users\Admin\Documents\new\server\routes\users.js:114:16
{
  "stringValue": "\"change-password\"",
  "kind": "ObjectId",
  "value": "change-password",
  "path": "_id",
  "reason": {},
  "valueType": "string"
}
2025-08-28 11:59:21 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-28 11:59:33 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-28 12:00:23 [WARN]: MongoDB disconnected
2025-08-28 12:00:29 [INFO]: Server running in development mode on port 5000
2025-08-28 12:00:29 [INFO]: MongoDB Connected: localhost
2025-08-28 12:00:45 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-28 12:06:19 [WARN]: MongoDB disconnected
2025-08-28 12:06:50 [INFO]: Server running in development mode on port 5000
2025-08-28 12:06:50 [INFO]: MongoDB Connected: localhost
2025-08-28 12:06:58 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-28 12:07:12 [WARN]: MongoDB disconnected
2025-08-29 00:08:21 [INFO]: Server running in development mode on port 5000
2025-08-29 00:08:22 [INFO]: MongoDB Connected: localhost
2025-08-29 00:26:05 [ERROR]: Email sending error:
{
  "error": "nodemailer.createTransporter is not a function",
  "recipient": "johnsonemmanuel1425@gmail.com",
  "subject": "Password Reset Request - Hospital Management System"
}
2025-08-29 00:26:05 [ERROR]: Error sending password reset email: nodemailer.createTransporter is not a function
TypeError: nodemailer.createTransporter is not a function
    at sendEmail (C:\Users\Admin\Documents\new\server\utils\sendEmail.js:7:36)
    at C:\Users\Admin\Documents\new\server\routes\auth.js:333:13
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-29 00:26:49 [ERROR]: Email sending error:
{
  "error": "nodemailer.createTransporter is not a function",
  "recipient": "johnson1425@hospital.com",
  "subject": "Password Reset Request - Hospital Management System"
}
2025-08-29 00:26:49 [ERROR]: Error sending password reset email: nodemailer.createTransporter is not a function
TypeError: nodemailer.createTransporter is not a function
    at sendEmail (C:\Users\Admin\Documents\new\server\utils\sendEmail.js:7:36)
    at C:\Users\Admin\Documents\new\server\routes\auth.js:333:13
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-29 00:47:33 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-29 00:48:01 [ERROR]: Update user error: Cast to ObjectId failed for value "preferences" (type string) at path "_id" for model "User"
CastError: Cast to ObjectId failed for value "preferences" (type string) at path "_id" for model "User"
    at SchemaObjectId.cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schema\objectId.js:251:11)
    at SchemaType.applySetters (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1258:12)
    at SchemaType.castForQuery (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1694:17)
    at cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\cast.js:390:32)
    at Query.cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:5060:12)
    at Query._castConditions (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2374:10)
    at model.Query._findOne (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2697:8)
    at model.Query.exec (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:4627:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async C:\Users\Admin\Documents\new\server\routes\users.js:114:16
{
  "stringValue": "\"preferences\"",
  "kind": "ObjectId",
  "value": "preferences",
  "path": "_id",
  "reason": {},
  "valueType": "string"
}
2025-08-29 00:48:32 [ERROR]: Email sending error:
{
  "error": "nodemailer.createTransporter is not a function",
  "recipient": "johnson1425@hospital.com",
  "subject": "Password Reset Request - Hospital Management System"
}
2025-08-29 00:48:32 [ERROR]: Error sending password reset email: nodemailer.createTransporter is not a function
TypeError: nodemailer.createTransporter is not a function
    at sendEmail (C:\Users\Admin\Documents\new\server\utils\sendEmail.js:7:36)
    at C:\Users\Admin\Documents\new\server\routes\auth.js:333:13
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-29 00:48:53 [WARN]: MongoDB disconnected
2025-08-30 18:27:15 [INFO]: Server running in development mode on port 5000
2025-08-30 18:27:15 [INFO]: MongoDB Connected: localhost
2025-08-30 18:29:43 [INFO]: Authentication attempt
{
  "email": "mozejohn5@gmail.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-30 18:29:58 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-30 18:29:58 [ERROR]: Login error: user.isLocked is not a function
TypeError: user.isLocked is not a function
    at C:\Users\Admin\Documents\new\server\routes\auth.js:164:14
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-30 18:32:20 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-30 18:32:20 [ERROR]: Login error: user.isLocked is not a function
TypeError: user.isLocked is not a function
    at C:\Users\Admin\Documents\new\server\routes\auth.js:164:14
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-30 18:34:27 [WARN]: MongoDB disconnected
2025-08-30 18:35:08 [INFO]: Server running in development mode on port 5000
2025-08-30 18:35:08 [INFO]: MongoDB Connected: localhost
2025-08-30 18:35:23 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-30 18:35:23 [ERROR]: Login error: user.isLocked is not a function
TypeError: user.isLocked is not a function
    at C:\Users\Admin\Documents\new\server\routes\auth.js:164:14
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-30 18:35:38 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-30 18:35:38 [ERROR]: Login error: user.isLocked is not a function
TypeError: user.isLocked is not a function
    at C:\Users\Admin\Documents\new\server\routes\auth.js:164:14
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-30 18:37:46 [INFO]: Connected to MongoDB
2025-08-30 18:37:46 [INFO]: Admin user already exists
2025-08-30 18:40:29 [INFO]: Connected to MongoDB
2025-08-30 18:40:29 [ERROR]: Error setting up admin user: User validation failed: gender: `other` is not a valid enum value for path `gender`., permissions.12: `read:dashboard` is not a valid enum value for path `permissions.12`., permissions.13: `write:dashboard` is not a valid enum value for path `permissions.13`., permissions.21: `start:visits` is not a valid enum value for path `permissions.21`., permissions.22: `end:visits` is not a valid enum value for path `permissions.22`.
ValidationError: User validation failed: gender: `other` is not a valid enum value for path `gender`., permissions.12: `read:dashboard` is not a valid enum value for path `permissions.12`., permissions.13: `write:dashboard` is not a valid enum value for path `permissions.13`., permissions.21: `start:visits` is not a valid enum value for path `permissions.21`., permissions.22: `end:visits` is not a valid enum value for path `permissions.22`.
    at Document.invalidate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3358:32)
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3119:17
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1416:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
{
  "errors": {
    "gender": {
      "name": "ValidatorError",
      "message": "`other` is not a valid enum value for path `gender`.",
      "properties": {
        "message": "`other` is not a valid enum value for path `gender`.",
        "type": "enum",
        "enumValues": [
          "Male",
          "Female",
          "Other"
        ],
        "path": "gender",
        "value": "other",
        "length": 5
      },
      "kind": "enum",
      "path": "gender",
      "value": "other"
    },
    "permissions.12": {
      "name": "ValidatorError",
      "message": "`read:dashboard` is not a valid enum value for path `permissions.12`.",
      "properties": {
        "message": "`read:dashboard` is not a valid enum value for path `permissions.12`.",
        "type": "enum",
        "enumValues": [
          "read:patients",
          "write:patients",
          "delete:patients",
          "read:doctors",
          "write:doctors",
          "delete:doctors",
          "read:appointments",
          "write:appointments",
          "delete:appointments",
          "read:visits",
          "write:visits",
          "delete:visits",
          "read:users",
          "write:users",
          "delete:users",
          "read:reports",
          "write:reports",
          "read:settings",
          "write:settings",
          "admin:all"
        ],
        "path": "permissions.12",
        "value": "read:dashboard",
        "length": 14
      },
      "kind": "enum",
      "path": "permissions.12",
      "value": "read:dashboard"
    },
    "permissions.13": {
      "name": "ValidatorError",
      "message": "`write:dashboard` is not a valid enum value for path `permissions.13`.",
      "properties": {
        "message": "`write:dashboard` is not a valid enum value for path `permissions.13`.",
        "type": "enum",
        "enumValues": [
          "read:patients",
          "write:patients",
          "delete:patients",
          "read:doctors",
          "write:doctors",
          "delete:doctors",
          "read:appointments",
          "write:appointments",
          "delete:appointments",
          "read:visits",
          "write:visits",
          "delete:visits",
          "read:users",
          "write:users",
          "delete:users",
          "read:reports",
          "write:reports",
          "read:settings",
          "write:settings",
          "admin:all"
        ],
        "path": "permissions.13",
        "value": "write:dashboard",
        "length": 15
      },
      "kind": "enum",
      "path": "permissions.13",
      "value": "write:dashboard"
    },
    "permissions.21": {
      "name": "ValidatorError",
      "message": "`start:visits` is not a valid enum value for path `permissions.21`.",
      "properties": {
        "message": "`start:visits` is not a valid enum value for path `permissions.21`.",
        "type": "enum",
        "enumValues": [
          "read:patients",
          "write:patients",
          "delete:patients",
          "read:doctors",
          "write:doctors",
          "delete:doctors",
          "read:appointments",
          "write:appointments",
          "delete:appointments",
          "read:visits",
          "write:visits",
          "delete:visits",
          "read:users",
          "write:users",
          "delete:users",
          "read:reports",
          "write:reports",
          "read:settings",
          "write:settings",
          "admin:all"
        ],
        "path": "permissions.21",
        "value": "start:visits",
        "length": 12
      },
      "kind": "enum",
      "path": "permissions.21",
      "value": "start:visits"
    },
    "permissions.22": {
      "name": "ValidatorError",
      "message": "`end:visits` is not a valid enum value for path `permissions.22`.",
      "properties": {
        "message": "`end:visits` is not a valid enum value for path `permissions.22`.",
        "type": "enum",
        "enumValues": [
          "read:patients",
          "write:patients",
          "delete:patients",
          "read:doctors",
          "write:doctors",
          "delete:doctors",
          "read:appointments",
          "write:appointments",
          "delete:appointments",
          "read:visits",
          "write:visits",
          "delete:visits",
          "read:users",
          "write:users",
          "delete:users",
          "read:reports",
          "write:reports",
          "read:settings",
          "write:settings",
          "admin:all"
        ],
        "path": "permissions.22",
        "value": "end:visits",
        "length": 10
      },
      "kind": "enum",
      "path": "permissions.22",
      "value": "end:visits"
    }
  },
  "_message": "User validation failed"
}
2025-08-30 18:41:16 [INFO]: Connected to MongoDB
2025-08-30 18:41:16 [INFO]: Setting up admin user...

2025-08-30 18:41:52 [ERROR]: Error setting up admin user: User validation failed: gender: `other` is not a valid enum value for path `gender`., permissions.12: `read:dashboard` is not a valid enum value for path `permissions.12`., permissions.13: `write:dashboard` is not a valid enum value for path `permissions.13`., permissions.21: `start:visits` is not a valid enum value for path `permissions.21`., permissions.22: `end:visits` is not a valid enum value for path `permissions.22`.
ValidationError: User validation failed: gender: `other` is not a valid enum value for path `gender`., permissions.12: `read:dashboard` is not a valid enum value for path `permissions.12`., permissions.13: `write:dashboard` is not a valid enum value for path `permissions.13`., permissions.21: `start:visits` is not a valid enum value for path `permissions.21`., permissions.22: `end:visits` is not a valid enum value for path `permissions.22`.
    at Document.invalidate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3358:32)
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3119:17
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1416:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
{
  "errors": {
    "gender": {
      "name": "ValidatorError",
      "message": "`other` is not a valid enum value for path `gender`.",
      "properties": {
        "message": "`other` is not a valid enum value for path `gender`.",
        "type": "enum",
        "enumValues": [
          "Male",
          "Female",
          "Other"
        ],
        "path": "gender",
        "value": "other",
        "length": 5
      },
      "kind": "enum",
      "path": "gender",
      "value": "other"
    },
    "permissions.12": {
      "name": "ValidatorError",
      "message": "`read:dashboard` is not a valid enum value for path `permissions.12`.",
      "properties": {
        "message": "`read:dashboard` is not a valid enum value for path `permissions.12`.",
        "type": "enum",
        "enumValues": [
          "read:patients",
          "write:patients",
          "delete:patients",
          "read:doctors",
          "write:doctors",
          "delete:doctors",
          "read:appointments",
          "write:appointments",
          "delete:appointments",
          "read:visits",
          "write:visits",
          "delete:visits",
          "read:users",
          "write:users",
          "delete:users",
          "read:reports",
          "write:reports",
          "read:settings",
          "write:settings",
          "admin:all"
        ],
        "path": "permissions.12",
        "value": "read:dashboard",
        "length": 14
      },
      "kind": "enum",
      "path": "permissions.12",
      "value": "read:dashboard"
    },
    "permissions.13": {
      "name": "ValidatorError",
      "message": "`write:dashboard` is not a valid enum value for path `permissions.13`.",
      "properties": {
        "message": "`write:dashboard` is not a valid enum value for path `permissions.13`.",
        "type": "enum",
        "enumValues": [
          "read:patients",
          "write:patients",
          "delete:patients",
          "read:doctors",
          "write:doctors",
          "delete:doctors",
          "read:appointments",
          "write:appointments",
          "delete:appointments",
          "read:visits",
          "write:visits",
          "delete:visits",
          "read:users",
          "write:users",
          "delete:users",
          "read:reports",
          "write:reports",
          "read:settings",
          "write:settings",
          "admin:all"
        ],
        "path": "permissions.13",
        "value": "write:dashboard",
        "length": 15
      },
      "kind": "enum",
      "path": "permissions.13",
      "value": "write:dashboard"
    },
    "permissions.21": {
      "name": "ValidatorError",
      "message": "`start:visits` is not a valid enum value for path `permissions.21`.",
      "properties": {
        "message": "`start:visits` is not a valid enum value for path `permissions.21`.",
        "type": "enum",
        "enumValues": [
          "read:patients",
          "write:patients",
          "delete:patients",
          "read:doctors",
          "write:doctors",
          "delete:doctors",
          "read:appointments",
          "write:appointments",
          "delete:appointments",
          "read:visits",
          "write:visits",
          "delete:visits",
          "read:users",
          "write:users",
          "delete:users",
          "read:reports",
          "write:reports",
          "read:settings",
          "write:settings",
          "admin:all"
        ],
        "path": "permissions.21",
        "value": "start:visits",
        "length": 12
      },
      "kind": "enum",
      "path": "permissions.21",
      "value": "start:visits"
    },
    "permissions.22": {
      "name": "ValidatorError",
      "message": "`end:visits` is not a valid enum value for path `permissions.22`.",
      "properties": {
        "message": "`end:visits` is not a valid enum value for path `permissions.22`.",
        "type": "enum",
        "enumValues": [
          "read:patients",
          "write:patients",
          "delete:patients",
          "read:doctors",
          "write:doctors",
          "delete:doctors",
          "read:appointments",
          "write:appointments",
          "delete:appointments",
          "read:visits",
          "write:visits",
          "delete:visits",
          "read:users",
          "write:users",
          "delete:users",
          "read:reports",
          "write:reports",
          "read:settings",
          "write:settings",
          "admin:all"
        ],
        "path": "permissions.22",
        "value": "end:visits",
        "length": 10
      },
      "kind": "enum",
      "path": "permissions.22",
      "value": "end:visits"
    }
  },
  "_message": "User validation failed"
}
2025-08-30 18:44:19 [WARN]: MongoDB disconnected
2025-08-30 18:44:27 [INFO]: Connected to MongoDB
2025-08-30 18:44:27 [ERROR]: Error setting up admin user: User validation failed: gender: `other` is not a valid enum value for path `gender`., permissions.12: `read:dashboard` is not a valid enum value for path `permissions.12`., permissions.13: `write:dashboard` is not a valid enum value for path `permissions.13`., permissions.21: `start:visits` is not a valid enum value for path `permissions.21`., permissions.22: `end:visits` is not a valid enum value for path `permissions.22`.
ValidationError: User validation failed: gender: `other` is not a valid enum value for path `gender`., permissions.12: `read:dashboard` is not a valid enum value for path `permissions.12`., permissions.13: `write:dashboard` is not a valid enum value for path `permissions.13`., permissions.21: `start:visits` is not a valid enum value for path `permissions.21`., permissions.22: `end:visits` is not a valid enum value for path `permissions.22`.
    at Document.invalidate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3358:32)
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3119:17
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1416:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
{
  "errors": {
    "gender": {
      "name": "ValidatorError",
      "message": "`other` is not a valid enum value for path `gender`.",
      "properties": {
        "message": "`other` is not a valid enum value for path `gender`.",
        "type": "enum",
        "enumValues": [
          "Male",
          "Female",
          "Other"
        ],
        "path": "gender",
        "value": "other",
        "length": 5
      },
      "kind": "enum",
      "path": "gender",
      "value": "other"
    },
    "permissions.12": {
      "name": "ValidatorError",
      "message": "`read:dashboard` is not a valid enum value for path `permissions.12`.",
      "properties": {
        "message": "`read:dashboard` is not a valid enum value for path `permissions.12`.",
        "type": "enum",
        "enumValues": [
          "read:patients",
          "write:patients",
          "delete:patients",
          "read:doctors",
          "write:doctors",
          "delete:doctors",
          "read:appointments",
          "write:appointments",
          "delete:appointments",
          "read:visits",
          "write:visits",
          "delete:visits",
          "read:users",
          "write:users",
          "delete:users",
          "read:reports",
          "write:reports",
          "read:settings",
          "write:settings",
          "admin:all"
        ],
        "path": "permissions.12",
        "value": "read:dashboard",
        "length": 14
      },
      "kind": "enum",
      "path": "permissions.12",
      "value": "read:dashboard"
    },
    "permissions.13": {
      "name": "ValidatorError",
      "message": "`write:dashboard` is not a valid enum value for path `permissions.13`.",
      "properties": {
        "message": "`write:dashboard` is not a valid enum value for path `permissions.13`.",
        "type": "enum",
        "enumValues": [
          "read:patients",
          "write:patients",
          "delete:patients",
          "read:doctors",
          "write:doctors",
          "delete:doctors",
          "read:appointments",
          "write:appointments",
          "delete:appointments",
          "read:visits",
          "write:visits",
          "delete:visits",
          "read:users",
          "write:users",
          "delete:users",
          "read:reports",
          "write:reports",
          "read:settings",
          "write:settings",
          "admin:all"
        ],
        "path": "permissions.13",
        "value": "write:dashboard",
        "length": 15
      },
      "kind": "enum",
      "path": "permissions.13",
      "value": "write:dashboard"
    },
    "permissions.21": {
      "name": "ValidatorError",
      "message": "`start:visits` is not a valid enum value for path `permissions.21`.",
      "properties": {
        "message": "`start:visits` is not a valid enum value for path `permissions.21`.",
        "type": "enum",
        "enumValues": [
          "read:patients",
          "write:patients",
          "delete:patients",
          "read:doctors",
          "write:doctors",
          "delete:doctors",
          "read:appointments",
          "write:appointments",
          "delete:appointments",
          "read:visits",
          "write:visits",
          "delete:visits",
          "read:users",
          "write:users",
          "delete:users",
          "read:reports",
          "write:reports",
          "read:settings",
          "write:settings",
          "admin:all"
        ],
        "path": "permissions.21",
        "value": "start:visits",
        "length": 12
      },
      "kind": "enum",
      "path": "permissions.21",
      "value": "start:visits"
    },
    "permissions.22": {
      "name": "ValidatorError",
      "message": "`end:visits` is not a valid enum value for path `permissions.22`.",
      "properties": {
        "message": "`end:visits` is not a valid enum value for path `permissions.22`.",
        "type": "enum",
        "enumValues": [
          "read:patients",
          "write:patients",
          "delete:patients",
          "read:doctors",
          "write:doctors",
          "delete:doctors",
          "read:appointments",
          "write:appointments",
          "delete:appointments",
          "read:visits",
          "write:visits",
          "delete:visits",
          "read:users",
          "write:users",
          "delete:users",
          "read:reports",
          "write:reports",
          "read:settings",
          "write:settings",
          "admin:all"
        ],
        "path": "permissions.22",
        "value": "end:visits",
        "length": 10
      },
      "kind": "enum",
      "path": "permissions.22",
      "value": "end:visits"
    }
  },
  "_message": "User validation failed"
}
2025-08-30 18:46:09 [INFO]: Connected to MongoDB
2025-08-30 18:46:09 [INFO]: Setting up admin user...

2025-08-30 18:46:26 [ERROR]: Error setting up admin user: User validation failed: gender: `male` is not a valid enum value for path `gender`., permissions.12: `read:dashboard` is not a valid enum value for path `permissions.12`., permissions.13: `write:dashboard` is not a valid enum value for path `permissions.13`., permissions.21: `start:visits` is not a valid enum value for path `permissions.21`., permissions.22: `end:visits` is not a valid enum value for path `permissions.22`.
ValidationError: User validation failed: gender: `male` is not a valid enum value for path `gender`., permissions.12: `read:dashboard` is not a valid enum value for path `permissions.12`., permissions.13: `write:dashboard` is not a valid enum value for path `permissions.13`., permissions.21: `start:visits` is not a valid enum value for path `permissions.21`., permissions.22: `end:visits` is not a valid enum value for path `permissions.22`.
    at Document.invalidate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3358:32)
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3119:17
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1416:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
{
  "errors": {
    "gender": {
      "name": "ValidatorError",
      "message": "`male` is not a valid enum value for path `gender`.",
      "properties": {
        "message": "`male` is not a valid enum value for path `gender`.",
        "type": "enum",
        "enumValues": [
          "Male",
          "Female",
          "Other"
        ],
        "path": "gender",
        "value": "male",
        "length": 4
      },
      "kind": "enum",
      "path": "gender",
      "value": "male"
    },
    "permissions.12": {
      "name": "ValidatorError",
      "message": "`read:dashboard` is not a valid enum value for path `permissions.12`.",
      "properties": {
        "message": "`read:dashboard` is not a valid enum value for path `permissions.12`.",
        "type": "enum",
        "enumValues": [
          "read:patients",
          "write:patients",
          "delete:patients",
          "read:doctors",
          "write:doctors",
          "delete:doctors",
          "read:appointments",
          "write:appointments",
          "delete:appointments",
          "read:visits",
          "write:visits",
          "delete:visits",
          "read:users",
          "write:users",
          "delete:users",
          "read:reports",
          "write:reports",
          "read:settings",
          "write:settings",
          "admin:all"
        ],
        "path": "permissions.12",
        "value": "read:dashboard",
        "length": 14
      },
      "kind": "enum",
      "path": "permissions.12",
      "value": "read:dashboard"
    },
    "permissions.13": {
      "name": "ValidatorError",
      "message": "`write:dashboard` is not a valid enum value for path `permissions.13`.",
      "properties": {
        "message": "`write:dashboard` is not a valid enum value for path `permissions.13`.",
        "type": "enum",
        "enumValues": [
          "read:patients",
          "write:patients",
          "delete:patients",
          "read:doctors",
          "write:doctors",
          "delete:doctors",
          "read:appointments",
          "write:appointments",
          "delete:appointments",
          "read:visits",
          "write:visits",
          "delete:visits",
          "read:users",
          "write:users",
          "delete:users",
          "read:reports",
          "write:reports",
          "read:settings",
          "write:settings",
          "admin:all"
        ],
        "path": "permissions.13",
        "value": "write:dashboard",
        "length": 15
      },
      "kind": "enum",
      "path": "permissions.13",
      "value": "write:dashboard"
    },
    "permissions.21": {
      "name": "ValidatorError",
      "message": "`start:visits` is not a valid enum value for path `permissions.21`.",
      "properties": {
        "message": "`start:visits` is not a valid enum value for path `permissions.21`.",
        "type": "enum",
        "enumValues": [
          "read:patients",
          "write:patients",
          "delete:patients",
          "read:doctors",
          "write:doctors",
          "delete:doctors",
          "read:appointments",
          "write:appointments",
          "delete:appointments",
          "read:visits",
          "write:visits",
          "delete:visits",
          "read:users",
          "write:users",
          "delete:users",
          "read:reports",
          "write:reports",
          "read:settings",
          "write:settings",
          "admin:all"
        ],
        "path": "permissions.21",
        "value": "start:visits",
        "length": 12
      },
      "kind": "enum",
      "path": "permissions.21",
      "value": "start:visits"
    },
    "permissions.22": {
      "name": "ValidatorError",
      "message": "`end:visits` is not a valid enum value for path `permissions.22`.",
      "properties": {
        "message": "`end:visits` is not a valid enum value for path `permissions.22`.",
        "type": "enum",
        "enumValues": [
          "read:patients",
          "write:patients",
          "delete:patients",
          "read:doctors",
          "write:doctors",
          "delete:doctors",
          "read:appointments",
          "write:appointments",
          "delete:appointments",
          "read:visits",
          "write:visits",
          "delete:visits",
          "read:users",
          "write:users",
          "delete:users",
          "read:reports",
          "write:reports",
          "read:settings",
          "write:settings",
          "admin:all"
        ],
        "path": "permissions.22",
        "value": "end:visits",
        "length": 10
      },
      "kind": "enum",
      "path": "permissions.22",
      "value": "end:visits"
    }
  },
  "_message": "User validation failed"
}
2025-08-30 18:46:53 [INFO]: Connected to MongoDB
2025-08-30 18:46:53 [INFO]: Setting up admin user...

2025-08-30 18:48:18 [ERROR]: Error setting up admin user: User validation failed: gender: `male` is not a valid enum value for path `gender`., permissions.12: `read:dashboard` is not a valid enum value for path `permissions.12`., permissions.13: `write:dashboard` is not a valid enum value for path `permissions.13`., permissions.21: `start:visits` is not a valid enum value for path `permissions.21`., permissions.22: `end:visits` is not a valid enum value for path `permissions.22`.
ValidationError: User validation failed: gender: `male` is not a valid enum value for path `gender`., permissions.12: `read:dashboard` is not a valid enum value for path `permissions.12`., permissions.13: `write:dashboard` is not a valid enum value for path `permissions.13`., permissions.21: `start:visits` is not a valid enum value for path `permissions.21`., permissions.22: `end:visits` is not a valid enum value for path `permissions.22`.
    at Document.invalidate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3358:32)
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3119:17
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1416:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
{
  "errors": {
    "gender": {
      "name": "ValidatorError",
      "message": "`male` is not a valid enum value for path `gender`.",
      "properties": {
        "message": "`male` is not a valid enum value for path `gender`.",
        "type": "enum",
        "enumValues": [
          "Male",
          "Female",
          "Other"
        ],
        "path": "gender",
        "value": "male",
        "length": 4
      },
      "kind": "enum",
      "path": "gender",
      "value": "male"
    },
    "permissions.12": {
      "name": "ValidatorError",
      "message": "`read:dashboard` is not a valid enum value for path `permissions.12`.",
      "properties": {
        "message": "`read:dashboard` is not a valid enum value for path `permissions.12`.",
        "type": "enum",
        "enumValues": [
          "read:patients",
          "write:patients",
          "delete:patients",
          "read:doctors",
          "write:doctors",
          "delete:doctors",
          "read:appointments",
          "write:appointments",
          "delete:appointments",
          "read:visits",
          "write:visits",
          "delete:visits",
          "read:users",
          "write:users",
          "delete:users",
          "read:reports",
          "write:reports",
          "read:settings",
          "write:settings",
          "admin:all"
        ],
        "path": "permissions.12",
        "value": "read:dashboard",
        "length": 14
      },
      "kind": "enum",
      "path": "permissions.12",
      "value": "read:dashboard"
    },
    "permissions.13": {
      "name": "ValidatorError",
      "message": "`write:dashboard` is not a valid enum value for path `permissions.13`.",
      "properties": {
        "message": "`write:dashboard` is not a valid enum value for path `permissions.13`.",
        "type": "enum",
        "enumValues": [
          "read:patients",
          "write:patients",
          "delete:patients",
          "read:doctors",
          "write:doctors",
          "delete:doctors",
          "read:appointments",
          "write:appointments",
          "delete:appointments",
          "read:visits",
          "write:visits",
          "delete:visits",
          "read:users",
          "write:users",
          "delete:users",
          "read:reports",
          "write:reports",
          "read:settings",
          "write:settings",
          "admin:all"
        ],
        "path": "permissions.13",
        "value": "write:dashboard",
        "length": 15
      },
      "kind": "enum",
      "path": "permissions.13",
      "value": "write:dashboard"
    },
    "permissions.21": {
      "name": "ValidatorError",
      "message": "`start:visits` is not a valid enum value for path `permissions.21`.",
      "properties": {
        "message": "`start:visits` is not a valid enum value for path `permissions.21`.",
        "type": "enum",
        "enumValues": [
          "read:patients",
          "write:patients",
          "delete:patients",
          "read:doctors",
          "write:doctors",
          "delete:doctors",
          "read:appointments",
          "write:appointments",
          "delete:appointments",
          "read:visits",
          "write:visits",
          "delete:visits",
          "read:users",
          "write:users",
          "delete:users",
          "read:reports",
          "write:reports",
          "read:settings",
          "write:settings",
          "admin:all"
        ],
        "path": "permissions.21",
        "value": "start:visits",
        "length": 12
      },
      "kind": "enum",
      "path": "permissions.21",
      "value": "start:visits"
    },
    "permissions.22": {
      "name": "ValidatorError",
      "message": "`end:visits` is not a valid enum value for path `permissions.22`.",
      "properties": {
        "message": "`end:visits` is not a valid enum value for path `permissions.22`.",
        "type": "enum",
        "enumValues": [
          "read:patients",
          "write:patients",
          "delete:patients",
          "read:doctors",
          "write:doctors",
          "delete:doctors",
          "read:appointments",
          "write:appointments",
          "delete:appointments",
          "read:visits",
          "write:visits",
          "delete:visits",
          "read:users",
          "write:users",
          "delete:users",
          "read:reports",
          "write:reports",
          "read:settings",
          "write:settings",
          "admin:all"
        ],
        "path": "permissions.22",
        "value": "end:visits",
        "length": 10
      },
      "kind": "enum",
      "path": "permissions.22",
      "value": "end:visits"
    }
  },
  "_message": "User validation failed"
}
2025-08-30 18:49:19 [INFO]: Connected to MongoDB
2025-08-30 18:49:19 [INFO]: Setting up admin user...

2025-08-30 18:49:23 [ERROR]: Error setting up admin user: User validation failed: gender: `male` is not a valid enum value for path `gender`.
ValidationError: User validation failed: gender: `male` is not a valid enum value for path `gender`.
    at Document.invalidate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3358:32)
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3119:17
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1416:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
{
  "errors": {
    "gender": {
      "name": "ValidatorError",
      "message": "`male` is not a valid enum value for path `gender`.",
      "properties": {
        "message": "`male` is not a valid enum value for path `gender`.",
        "type": "enum",
        "enumValues": [
          "Male",
          "Female",
          "Other"
        ],
        "path": "gender",
        "value": "male",
        "length": 4
      },
      "kind": "enum",
      "path": "gender",
      "value": "male"
    }
  },
  "_message": "User validation failed"
}
2025-08-30 18:53:42 [INFO]: Connected to MongoDB
2025-08-30 18:53:42 [INFO]: Setting up admin user...

2025-08-30 18:53:45 [ERROR]: Error setting up admin user: User validation failed: permissions.12: `read:dashboard` is not a valid enum value for path `permissions.12`., permissions.13: `write:dashboard` is not a valid enum value for path `permissions.13`., permissions.21: `start:visits` is not a valid enum value for path `permissions.21`., permissions.22: `end:visits` is not a valid enum value for path `permissions.22`.
ValidationError: User validation failed: permissions.12: `read:dashboard` is not a valid enum value for path `permissions.12`., permissions.13: `write:dashboard` is not a valid enum value for path `permissions.13`., permissions.21: `start:visits` is not a valid enum value for path `permissions.21`., permissions.22: `end:visits` is not a valid enum value for path `permissions.22`.
    at Document.invalidate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3358:32)
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3119:17
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1416:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
{
  "errors": {
    "permissions.12": {
      "name": "ValidatorError",
      "message": "`read:dashboard` is not a valid enum value for path `permissions.12`.",
      "properties": {
        "message": "`read:dashboard` is not a valid enum value for path `permissions.12`.",
        "type": "enum",
        "enumValues": [
          "read:patients",
          "write:patients",
          "delete:patients",
          "read:doctors",
          "write:doctors",
          "delete:doctors",
          "read:appointments",
          "write:appointments",
          "delete:appointments",
          "read:visits",
          "write:visits",
          "delete:visits",
          "read:users",
          "write:users",
          "delete:users",
          "read:reports",
          "write:reports",
          "read:settings",
          "write:settings",
          "admin:all"
        ],
        "path": "permissions.12",
        "value": "read:dashboard",
        "length": 14
      },
      "kind": "enum",
      "path": "permissions.12",
      "value": "read:dashboard"
    },
    "permissions.13": {
      "name": "ValidatorError",
      "message": "`write:dashboard` is not a valid enum value for path `permissions.13`.",
      "properties": {
        "message": "`write:dashboard` is not a valid enum value for path `permissions.13`.",
        "type": "enum",
        "enumValues": [
          "read:patients",
          "write:patients",
          "delete:patients",
          "read:doctors",
          "write:doctors",
          "delete:doctors",
          "read:appointments",
          "write:appointments",
          "delete:appointments",
          "read:visits",
          "write:visits",
          "delete:visits",
          "read:users",
          "write:users",
          "delete:users",
          "read:reports",
          "write:reports",
          "read:settings",
          "write:settings",
          "admin:all"
        ],
        "path": "permissions.13",
        "value": "write:dashboard",
        "length": 15
      },
      "kind": "enum",
      "path": "permissions.13",
      "value": "write:dashboard"
    },
    "permissions.21": {
      "name": "ValidatorError",
      "message": "`start:visits` is not a valid enum value for path `permissions.21`.",
      "properties": {
        "message": "`start:visits` is not a valid enum value for path `permissions.21`.",
        "type": "enum",
        "enumValues": [
          "read:patients",
          "write:patients",
          "delete:patients",
          "read:doctors",
          "write:doctors",
          "delete:doctors",
          "read:appointments",
          "write:appointments",
          "delete:appointments",
          "read:visits",
          "write:visits",
          "delete:visits",
          "read:users",
          "write:users",
          "delete:users",
          "read:reports",
          "write:reports",
          "read:settings",
          "write:settings",
          "admin:all"
        ],
        "path": "permissions.21",
        "value": "start:visits",
        "length": 12
      },
      "kind": "enum",
      "path": "permissions.21",
      "value": "start:visits"
    },
    "permissions.22": {
      "name": "ValidatorError",
      "message": "`end:visits` is not a valid enum value for path `permissions.22`.",
      "properties": {
        "message": "`end:visits` is not a valid enum value for path `permissions.22`.",
        "type": "enum",
        "enumValues": [
          "read:patients",
          "write:patients",
          "delete:patients",
          "read:doctors",
          "write:doctors",
          "delete:doctors",
          "read:appointments",
          "write:appointments",
          "delete:appointments",
          "read:visits",
          "write:visits",
          "delete:visits",
          "read:users",
          "write:users",
          "delete:users",
          "read:reports",
          "write:reports",
          "read:settings",
          "write:settings",
          "admin:all"
        ],
        "path": "permissions.22",
        "value": "end:visits",
        "length": 10
      },
      "kind": "enum",
      "path": "permissions.22",
      "value": "end:visits"
    }
  },
  "_message": "User validation failed"
}
2025-08-30 19:02:08 [INFO]: Connected to MongoDB
2025-08-30 19:02:08 [INFO]: Setting up admin user...

2025-08-30 19:03:40 [INFO]: 
âœ… Admin user created successfully!
2025-08-30 19:05:55 [INFO]: Server running in development mode on port 5000
2025-08-30 19:05:56 [INFO]: MongoDB Connected: localhost
2025-08-30 19:06:08 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-30 19:06:08 [ERROR]: Login error: user.isLocked is not a function
TypeError: user.isLocked is not a function
    at C:\Users\Admin\Documents\new\server\routes\auth.js:164:14
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-30 19:07:00 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-30 19:07:00 [ERROR]: Login error: user.isLocked is not a function
TypeError: user.isLocked is not a function
    at C:\Users\Admin\Documents\new\server\routes\auth.js:164:14
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-30 19:07:18 [WARN]: MongoDB disconnected
2025-08-30 19:07:22 [INFO]: Server running in development mode on port 5000
2025-08-30 19:07:22 [INFO]: MongoDB Connected: localhost
2025-08-30 19:07:34 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-30 19:07:35 [ERROR]: Login error: user.resetLoginAttempts is not a function
TypeError: user.resetLoginAttempts is not a function
    at C:\Users\Admin\Documents\new\server\routes\auth.js:185:16
2025-08-30 19:08:14 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-30 19:08:15 [ERROR]: Login error: user.resetLoginAttempts is not a function
TypeError: user.resetLoginAttempts is not a function
    at C:\Users\Admin\Documents\new\server\routes\auth.js:185:16
2025-08-30 19:08:32 [WARN]: MongoDB disconnected
2025-08-30 19:08:36 [INFO]: Server running in development mode on port 5000
2025-08-30 19:08:36 [INFO]: MongoDB Connected: localhost
2025-08-30 19:08:46 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-30 19:11:36 [WARN]: MongoDB disconnected
2025-08-30 19:11:41 [INFO]: Server running in development mode on port 5000
2025-08-30 19:11:41 [INFO]: MongoDB Connected: localhost
2025-08-30 19:11:47 [ERROR]: Token verification failed: user.isLocked is not a function
TypeError: user.isLocked is not a function
    at protect (C:\Users\Admin\Documents\new\server\middleware\auth.js:49:14)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-30 19:11:47 [ERROR]: Token verification failed: user.isLocked is not a function
TypeError: user.isLocked is not a function
    at protect (C:\Users\Admin\Documents\new\server\middleware\auth.js:49:14)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-30 19:11:55 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-30 19:14:17 [WARN]: MongoDB disconnected
2025-08-30 19:14:20 [INFO]: Server running in development mode on port 5000
2025-08-30 19:14:20 [INFO]: MongoDB Connected: localhost
2025-08-30 19:14:59 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-30 19:15:00 [ERROR]: Login error: user.incLoginAttempts is not a function
TypeError: user.incLoginAttempts is not a function
    at C:\Users\Admin\Documents\new\server\routes\auth.js:176:18
2025-08-30 19:15:08 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-30 22:51:50 [INFO]: Server running in development mode on port 5000
2025-08-30 22:51:50 [INFO]: MongoDB Connected: localhost
2025-08-30 22:59:07 [INFO]: Server running in development mode on port 5000
2025-08-30 22:59:07 [INFO]: MongoDB Connected: localhost
2025-08-30 22:59:10 [INFO]: Server running in development mode on port 5000
2025-08-30 22:59:10 [INFO]: MongoDB Connected: localhost
2025-08-30 22:59:20 [INFO]: Server running in development mode on port 5000
2025-08-30 22:59:21 [INFO]: MongoDB Connected: localhost
2025-08-30 22:59:24 [INFO]: Server running in development mode on port 5000
2025-08-30 22:59:24 [INFO]: MongoDB Connected: localhost
2025-08-30 22:59:40 [INFO]: Server running in development mode on port 5000
2025-08-30 22:59:40 [INFO]: MongoDB Connected: localhost
2025-08-30 23:01:02 [ERROR]: Token verification failed: user.isLocked is not a function
TypeError: user.isLocked is not a function
    at protect (C:\Users\Admin\Documents\new\server\middleware\auth.js:49:14)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-30 23:01:02 [ERROR]: Token verification failed: user.isLocked is not a function
TypeError: user.isLocked is not a function
    at protect (C:\Users\Admin\Documents\new\server\middleware\auth.js:49:14)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-30 23:05:00 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-30 23:05:01 [ERROR]: Login error: user.isLocked is not a function
TypeError: user.isLocked is not a function
    at C:\Users\Admin\Documents\new\server\routes\auth.js:164:14
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-30 23:18:14 [INFO]: Server running in development mode on port 5000
2025-08-30 23:18:15 [INFO]: MongoDB Connected: localhost
2025-08-30 23:18:34 [INFO]: Server running in development mode on port 5000
2025-08-30 23:18:34 [INFO]: MongoDB Connected: localhost
2025-08-30 23:20:07 [INFO]: Server running in development mode on port 5000
2025-08-30 23:20:07 [INFO]: MongoDB Connected: localhost
2025-08-30 23:20:12 [INFO]: Server running in development mode on port 5000
2025-08-30 23:20:12 [INFO]: MongoDB Connected: localhost
2025-08-30 23:20:25 [INFO]: Server running in development mode on port 5000
2025-08-30 23:20:25 [INFO]: MongoDB Connected: localhost
2025-08-30 23:20:27 [INFO]: Server running in development mode on port 5000
2025-08-30 23:20:27 [INFO]: MongoDB Connected: localhost
2025-08-30 23:27:35 [INFO]: Server running in development mode on port 5000
2025-08-30 23:27:35 [INFO]: MongoDB Connected: localhost
2025-08-30 23:27:37 [INFO]: Server running in development mode on port 5000
2025-08-30 23:27:37 [INFO]: MongoDB Connected: localhost
2025-08-30 23:27:40 [INFO]: Server running in development mode on port 5000
2025-08-30 23:27:40 [INFO]: MongoDB Connected: localhost
2025-08-30 23:27:42 [INFO]: Server running in development mode on port 5000
2025-08-30 23:27:42 [INFO]: MongoDB Connected: localhost
2025-08-30 23:27:46 [INFO]: Server running in development mode on port 5000
2025-08-30 23:27:46 [INFO]: MongoDB Connected: localhost
2025-08-30 23:27:47 [INFO]: Server running in development mode on port 5000
2025-08-30 23:27:47 [INFO]: MongoDB Connected: localhost
2025-08-30 23:27:57 [INFO]: Server running in development mode on port 5000
2025-08-30 23:27:57 [INFO]: MongoDB Connected: localhost
2025-08-30 23:29:12 [INFO]: Server running in development mode on port 5000
2025-08-30 23:29:12 [INFO]: MongoDB Connected: localhost
2025-08-30 23:29:17 [INFO]: Server running in development mode on port 5000
2025-08-30 23:29:17 [INFO]: MongoDB Connected: localhost
2025-08-30 23:29:25 [INFO]: Server running in development mode on port 5000
2025-08-30 23:29:25 [INFO]: MongoDB Connected: localhost
2025-08-30 23:29:49 [INFO]: Server running in development mode on port 5000
2025-08-30 23:29:49 [INFO]: MongoDB Connected: localhost
2025-08-30 23:29:58 [INFO]: Server running in development mode on port 5000
2025-08-30 23:29:59 [INFO]: MongoDB Connected: localhost
2025-08-30 23:30:03 [INFO]: Server running in development mode on port 5000
2025-08-30 23:30:03 [INFO]: MongoDB Connected: localhost
2025-08-30 23:30:45 [INFO]: Server running in development mode on port 5000
2025-08-30 23:30:45 [INFO]: MongoDB Connected: localhost
2025-08-30 23:31:26 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-30 23:35:31 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-30 23:35:46 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-30 23:39:28 [ERROR]: Registration error: User validation failed: gender: `female` is not a valid enum value for path `gender`.
ValidationError: User validation failed: gender: `female` is not a valid enum value for path `gender`.
    at Document.invalidate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3358:32)
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3119:17
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1416:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
{
  "errors": {
    "gender": {
      "name": "ValidatorError",
      "message": "`female` is not a valid enum value for path `gender`.",
      "properties": {
        "message": "`female` is not a valid enum value for path `gender`.",
        "type": "enum",
        "enumValues": [
          "Male",
          "Female",
          "Other"
        ],
        "path": "gender",
        "value": "female",
        "length": 6
      },
      "kind": "enum",
      "path": "gender",
      "value": "female"
    }
  },
  "_message": "User validation failed"
}
2025-08-30 23:41:45 [WARN]: MongoDB disconnected
2025-08-30 23:41:58 [INFO]: Server running in development mode on port 5000
2025-08-30 23:41:58 [INFO]: MongoDB Connected: localhost
2025-08-30 23:42:15 [INFO]: Authentication attempt
{
  "email": "aminashabani227@gmail.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-31 00:14:17 [INFO]: Server running in development mode on port 5000
2025-08-31 00:14:17 [INFO]: MongoDB Connected: localhost
2025-08-31 00:14:19 [INFO]: Server running in development mode on port 5000
2025-08-31 00:14:19 [INFO]: MongoDB Connected: localhost
2025-08-31 00:14:25 [INFO]: Server running in development mode on port 5000
2025-08-31 00:14:25 [INFO]: MongoDB Connected: localhost
2025-08-31 00:14:28 [INFO]: Server running in development mode on port 5000
2025-08-31 00:14:28 [INFO]: MongoDB Connected: localhost
2025-08-31 00:14:40 [INFO]: Server running in development mode on port 5000
2025-08-31 00:14:40 [INFO]: MongoDB Connected: localhost
2025-08-31 00:20:10 [INFO]: Server running in development mode on port 5000
2025-08-31 00:20:10 [INFO]: MongoDB Connected: localhost
2025-08-31 00:21:47 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-31 00:29:45 [INFO]: Server running in development mode on port 5000
2025-08-31 00:29:45 [INFO]: MongoDB Connected: localhost
2025-08-31 00:29:52 [INFO]: Server running in development mode on port 5000
2025-08-31 00:29:52 [INFO]: MongoDB Connected: localhost
2025-08-31 00:29:57 [INFO]: Server running in development mode on port 5000
2025-08-31 00:29:57 [INFO]: MongoDB Connected: localhost
2025-08-31 00:30:01 [INFO]: Server running in development mode on port 5000
2025-08-31 00:30:01 [INFO]: MongoDB Connected: localhost
2025-08-31 00:30:40 [INFO]: Server running in development mode on port 5000
2025-08-31 00:30:40 [INFO]: MongoDB Connected: localhost
2025-08-31 00:38:20 [ERROR]: Create patient error: Patient validation failed: medicalHistory: Cast to embedded failed for value "Diabetes" (type string) at path "medicalHistory" because of "ObjectParameterError", allergies: Parameter "obj" to Document() must be an object, got "" (type string), patientId: Path `patientId` is required.
ValidationError: Patient validation failed: medicalHistory: Cast to embedded failed for value "Diabetes" (type string) at path "medicalHistory" because of "ObjectParameterError", allergies: Parameter "obj" to Document() must be an object, got "" (type string), patientId: Path `patientId` is required.
    at Document.invalidate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3358:32)
    at model.$set (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:1480:12)
    at model.$set (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:1132:16)
    at model.Document (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:178:12)
    at model.Model (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\model.js:127:12)
    at new model (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\model.js:4834:15)
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\model.js:2775:20
    at Array.map (<anonymous>)
    at Function.create (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\model.js:2763:34)
    at C:\Users\Admin\Documents\new\server\routes\patients.js:124:35
{
  "errors": {
    "medicalHistory": {
      "stringValue": "\"Diabetes\"",
      "valueType": "string",
      "kind": "embedded",
      "value": "Diabetes",
      "path": "medicalHistory",
      "reason": {},
      "name": "CastError",
      "message": "Cast to embedded failed for value \"Diabetes\" (type string) at path \"medicalHistory\" because of \"ObjectParameterError\""
    },
    "allergies": {},
    "patientId": {
      "name": "ValidatorError",
      "message": "Path `patientId` is required.",
      "properties": {
        "message": "Path `patientId` is required.",
        "type": "required",
        "path": "patientId"
      },
      "kind": "required",
      "path": "patientId"
    }
  },
  "_message": "Patient validation failed"
}
2025-08-31 00:58:13 [INFO]: Server running in development mode on port 5000
2025-08-31 00:58:14 [INFO]: MongoDB Connected: localhost
2025-08-31 00:58:57 [INFO]: Server running in development mode on port 5000
2025-08-31 00:58:57 [INFO]: MongoDB Connected: localhost
2025-08-31 00:59:04 [INFO]: Server running in development mode on port 5000
2025-08-31 00:59:04 [INFO]: MongoDB Connected: localhost
2025-08-31 00:59:36 [INFO]: Server running in development mode on port 5000
2025-08-31 00:59:36 [INFO]: MongoDB Connected: localhost
2025-08-31 01:00:00 [ERROR]: Create patient error: Patient validation failed: allergies: Parameter "obj" to Document() must be an object, got "" (type string)
ValidationError: Patient validation failed: allergies: Parameter "obj" to Document() must be an object, got "" (type string)
    at Document.invalidate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3358:32)
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3119:17
    at SchemaDocumentArray.doValidate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schema\documentArray.js:247:12)
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3111:18
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
{
  "errors": {
    "allergies": {}
  },
  "_message": "Patient validation failed"
}
2025-08-31 01:01:14 [INFO]: Server running in development mode on port 5000
2025-08-31 01:01:14 [INFO]: MongoDB Connected: localhost
2025-08-31 01:01:36 [INFO]: Server running in development mode on port 5000
2025-08-31 01:01:36 [INFO]: MongoDB Connected: localhost
2025-08-31 01:01:43 [INFO]: Server running in development mode on port 5000
2025-08-31 01:01:43 [INFO]: MongoDB Connected: localhost
2025-08-31 01:01:56 [INFO]: Server running in development mode on port 5000
2025-08-31 01:01:56 [INFO]: MongoDB Connected: localhost
2025-08-31 01:11:02 [INFO]: Authentication attempt
{
  "email": "aminashabani227@gmail.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-31 01:11:33 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-31 01:51:59 [WARN]: MongoDB disconnected
2025-08-31 01:52:28 [INFO]: Server running in development mode on port 5000
2025-08-31 01:52:28 [INFO]: MongoDB Connected: localhost
2025-08-31 01:53:17 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-31 01:57:00 [INFO]: Authentication attempt
{
  "email": "aminashabani227@gmail.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-31 01:58:06 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-31 02:01:41 [ERROR]: Get appointments error: Cannot populate path `patient` because it is not in your schema. Set the `strictPopulate` option to false to override.
StrictPopulateError: Cannot populate path `patient` because it is not in your schema. Set the `strictPopulate` option to false to override.
    at getModelsMapForPopulate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\helpers\populate\getModelsMapForPopulate.js:50:12)
    at _populatePath (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\model.js:4466:21)
    at Function.populate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\model.js:4433:21)
    at model.Query._find (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2456:20)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async model.Query.exec (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:4627:63)
    at async C:\Users\Admin\Documents\new\server\routes\appointments.js:20:26
{
  "path": "patient"
}
2025-08-31 15:20:24 [INFO]: Server running in development mode on port 5000
2025-08-31 15:20:24 [INFO]: MongoDB Connected: localhost
2025-08-31 15:21:15 [INFO]: Authentication attempt
{
  "email": "aminashabani227@gmail.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-31 15:21:46 [INFO]: Authentication attempt
{
  "email": "aminashabani227@gmail.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-31 15:22:44 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-31 15:32:54 [INFO]: Server running in development mode on port 5000
2025-08-31 15:32:54 [INFO]: MongoDB Connected: localhost
2025-08-31 15:33:02 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-31 15:53:24 [INFO]: Server running in development mode on port 5000
2025-08-31 15:53:24 [INFO]: MongoDB Connected: localhost
2025-08-31 16:21:06 [INFO]: Server running in development mode on port 5000
2025-08-31 16:21:06 [INFO]: MongoDB Connected: localhost
2025-08-31 16:29:15 [ERROR]: Get patient error: Cast to ObjectId failed for value "search" (type string) at path "_id" for model "Patient"
CastError: Cast to ObjectId failed for value "search" (type string) at path "_id" for model "Patient"
    at SchemaObjectId.cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schema\objectId.js:251:11)
    at SchemaType.applySetters (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1258:12)
    at SchemaType.castForQuery (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1694:17)
    at cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\cast.js:390:32)
    at Query.cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:5060:12)
    at Query._castConditions (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2374:10)
    at model.Query._findOne (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2697:8)
    at model.Query.exec (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:4627:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async C:\Users\Admin\Documents\new\server\routes\patients.js:62:21
{
  "stringValue": "\"search\"",
  "kind": "ObjectId",
  "value": "search",
  "path": "_id",
  "reason": {},
  "valueType": "string"
}
2025-08-31 16:29:18 [ERROR]: Get patient error: Cast to ObjectId failed for value "search" (type string) at path "_id" for model "Patient"
CastError: Cast to ObjectId failed for value "search" (type string) at path "_id" for model "Patient"
    at SchemaObjectId.cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schema\objectId.js:251:11)
    at SchemaType.applySetters (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1258:12)
    at SchemaType.castForQuery (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1694:17)
    at cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\cast.js:390:32)
    at Query.cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:5060:12)
    at Query._castConditions (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2374:10)
    at model.Query._findOne (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2697:8)
    at model.Query.exec (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:4627:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async C:\Users\Admin\Documents\new\server\routes\patients.js:62:21
{
  "stringValue": "\"search\"",
  "kind": "ObjectId",
  "value": "search",
  "path": "_id",
  "reason": {},
  "valueType": "string"
}
2025-08-31 16:33:54 [ERROR]: Get patient error: Cast to ObjectId failed for value "search" (type string) at path "_id" for model "Patient"
CastError: Cast to ObjectId failed for value "search" (type string) at path "_id" for model "Patient"
    at SchemaObjectId.cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schema\objectId.js:251:11)
    at SchemaType.applySetters (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1258:12)
    at SchemaType.castForQuery (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1694:17)
    at cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\cast.js:390:32)
    at Query.cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:5060:12)
    at Query._castConditions (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2374:10)
    at model.Query._findOne (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2697:8)
    at model.Query.exec (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:4627:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async C:\Users\Admin\Documents\new\server\routes\patients.js:62:21
{
  "stringValue": "\"search\"",
  "kind": "ObjectId",
  "value": "search",
  "path": "_id",
  "reason": {},
  "valueType": "string"
}
2025-08-31 16:33:54 [ERROR]: Get patient error: Cast to ObjectId failed for value "search" (type string) at path "_id" for model "Patient"
CastError: Cast to ObjectId failed for value "search" (type string) at path "_id" for model "Patient"
    at SchemaObjectId.cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schema\objectId.js:251:11)
    at SchemaType.applySetters (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1258:12)
    at SchemaType.castForQuery (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1694:17)
    at cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\cast.js:390:32)
    at Query.cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:5060:12)
    at Query._castConditions (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2374:10)
    at model.Query._findOne (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2697:8)
    at model.Query.exec (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:4627:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async C:\Users\Admin\Documents\new\server\routes\patients.js:62:21
{
  "stringValue": "\"search\"",
  "kind": "ObjectId",
  "value": "search",
  "path": "_id",
  "reason": {},
  "valueType": "string"
}
2025-08-31 16:36:00 [WARN]: MongoDB disconnected
2025-08-31 16:36:22 [INFO]: Server running in development mode on port 5000
2025-08-31 16:36:22 [INFO]: MongoDB Connected: localhost
2025-08-31 16:36:39 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-31 16:36:55 [ERROR]: Get patient error: Cast to ObjectId failed for value "search" (type string) at path "_id" for model "Patient"
CastError: Cast to ObjectId failed for value "search" (type string) at path "_id" for model "Patient"
    at SchemaObjectId.cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schema\objectId.js:251:11)
    at SchemaType.applySetters (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1258:12)
    at SchemaType.castForQuery (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1694:17)
    at cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\cast.js:390:32)
    at Query.cast (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:5060:12)
    at Query._castConditions (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2374:10)
    at model.Query._findOne (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2697:8)
    at model.Query.exec (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:4627:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async C:\Users\Admin\Documents\new\server\routes\patients.js:62:21
{
  "stringValue": "\"search\"",
  "kind": "ObjectId",
  "value": "search",
  "path": "_id",
  "reason": {},
  "valueType": "string"
}
2025-08-31 16:44:17 [INFO]: Server running in development mode on port 5000
2025-08-31 16:44:17 [INFO]: MongoDB Connected: localhost
2025-08-31 16:44:29 [INFO]: Server running in development mode on port 5000
2025-08-31 16:44:29 [INFO]: MongoDB Connected: localhost
2025-08-31 16:44:31 [INFO]: Server running in development mode on port 5000
2025-08-31 16:44:31 [INFO]: MongoDB Connected: localhost
2025-08-31 16:44:34 [INFO]: Server running in development mode on port 5000
2025-08-31 16:44:34 [INFO]: MongoDB Connected: localhost
2025-08-31 16:45:08 [INFO]: Server running in development mode on port 5000
2025-08-31 16:45:08 [INFO]: MongoDB Connected: localhost
2025-08-31 16:45:31 [INFO]: Server running in development mode on port 5000
2025-08-31 16:45:31 [INFO]: MongoDB Connected: localhost
2025-08-31 16:49:59 [ERROR]: Registration error: User validation failed: department: `Radiology` is not a valid enum value for path `department`., gender: `male` is not a valid enum value for path `gender`.
ValidationError: User validation failed: department: `Radiology` is not a valid enum value for path `department`., gender: `male` is not a valid enum value for path `gender`.
    at Document.invalidate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3358:32)
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3119:17
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1416:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
{
  "errors": {
    "department": {
      "name": "ValidatorError",
      "message": "`Radiology` is not a valid enum value for path `department`.",
      "properties": {
        "message": "`Radiology` is not a valid enum value for path `department`.",
        "type": "enum",
        "enumValues": [
          "General Medicine",
          "Cardiology",
          "Neurology",
          "Orthopedics",
          "Pediatrics",
          "Gynecology",
          "Dermatology",
          "Ophthalmology",
          "ENT",
          "Psychiatry",
          "Administration",
          "Nursing",
          "Reception"
        ],
        "path": "department",
        "value": "Radiology",
        "length": 9
      },
      "kind": "enum",
      "path": "department",
      "value": "Radiology"
    },
    "gender": {
      "name": "ValidatorError",
      "message": "`male` is not a valid enum value for path `gender`.",
      "properties": {
        "message": "`male` is not a valid enum value for path `gender`.",
        "type": "enum",
        "enumValues": [
          "Male",
          "Female",
          "Other"
        ],
        "path": "gender",
        "value": "male",
        "length": 4
      },
      "kind": "enum",
      "path": "gender",
      "value": "male"
    }
  },
  "_message": "User validation failed"
}
2025-08-31 16:54:04 [INFO]: Server running in development mode on port 5000
2025-08-31 16:54:04 [INFO]: MongoDB Connected: localhost
2025-08-31 16:54:08 [INFO]: Server running in development mode on port 5000
2025-08-31 16:54:09 [INFO]: MongoDB Connected: localhost
2025-08-31 16:54:11 [INFO]: Server running in development mode on port 5000
2025-08-31 16:54:11 [INFO]: MongoDB Connected: localhost
2025-08-31 16:54:13 [INFO]: Server running in development mode on port 5000
2025-08-31 16:54:13 [INFO]: MongoDB Connected: localhost
2025-08-31 16:54:56 [ERROR]: Token verification failed: User validation failed: gender: `Male` is not a valid enum value for path `gender`.
ValidationError: User validation failed: gender: `Male` is not a valid enum value for path `gender`.
    at Document.invalidate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3358:32)
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3119:17
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1416:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
{
  "errors": {
    "gender": {
      "name": "ValidatorError",
      "message": "`Male` is not a valid enum value for path `gender`.",
      "properties": {
        "message": "`Male` is not a valid enum value for path `gender`.",
        "type": "enum",
        "enumValues": [
          "male",
          "female",
          "other"
        ],
        "path": "gender",
        "value": "Male",
        "length": 4
      },
      "kind": "enum",
      "path": "gender",
      "value": "Male"
    }
  },
  "_message": "User validation failed"
}
2025-08-31 16:55:05 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-31 16:55:05 [ERROR]: Login error: User validation failed: gender: `Male` is not a valid enum value for path `gender`.
ValidationError: User validation failed: gender: `Male` is not a valid enum value for path `gender`.
    at Document.invalidate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3358:32)
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3119:17
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1416:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
{
  "errors": {
    "gender": {
      "name": "ValidatorError",
      "message": "`Male` is not a valid enum value for path `gender`.",
      "properties": {
        "message": "`Male` is not a valid enum value for path `gender`.",
        "type": "enum",
        "enumValues": [
          "male",
          "female",
          "other"
        ],
        "path": "gender",
        "value": "Male",
        "length": 4
      },
      "kind": "enum",
      "path": "gender",
      "value": "Male"
    }
  },
  "_message": "User validation failed"
}
2025-08-31 16:55:18 [WARN]: MongoDB disconnected
2025-08-31 16:55:22 [INFO]: Server running in development mode on port 5000
2025-08-31 16:55:22 [INFO]: MongoDB Connected: localhost
2025-08-31 16:55:36 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-31 16:55:36 [ERROR]: Login error: User validation failed: gender: `Male` is not a valid enum value for path `gender`.
ValidationError: User validation failed: gender: `Male` is not a valid enum value for path `gender`.
    at Document.invalidate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3358:32)
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3119:17
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1416:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
{
  "errors": {
    "gender": {
      "name": "ValidatorError",
      "message": "`Male` is not a valid enum value for path `gender`.",
      "properties": {
        "message": "`Male` is not a valid enum value for path `gender`.",
        "type": "enum",
        "enumValues": [
          "male",
          "female",
          "other"
        ],
        "path": "gender",
        "value": "Male",
        "length": 4
      },
      "kind": "enum",
      "path": "gender",
      "value": "Male"
    }
  },
  "_message": "User validation failed"
}
2025-08-31 16:56:32 [WARN]: MongoDB disconnected
2025-08-31 16:56:43 [INFO]: Server running in development mode on port 5000
2025-08-31 16:56:44 [INFO]: MongoDB Connected: localhost
2025-08-31 16:57:23 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-31 16:57:23 [ERROR]: Login error: User validation failed: gender: `Male` is not a valid enum value for path `gender`.
ValidationError: User validation failed: gender: `Male` is not a valid enum value for path `gender`.
    at Document.invalidate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3358:32)
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3119:17
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1416:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
{
  "errors": {
    "gender": {
      "name": "ValidatorError",
      "message": "`Male` is not a valid enum value for path `gender`.",
      "properties": {
        "message": "`Male` is not a valid enum value for path `gender`.",
        "type": "enum",
        "enumValues": [
          "male",
          "female",
          "other"
        ],
        "path": "gender",
        "value": "Male",
        "length": 4
      },
      "kind": "enum",
      "path": "gender",
      "value": "Male"
    }
  },
  "_message": "User validation failed"
}
2025-08-31 16:58:12 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-31 16:58:12 [ERROR]: Login error: User validation failed: gender: `Male` is not a valid enum value for path `gender`.
ValidationError: User validation failed: gender: `Male` is not a valid enum value for path `gender`.
    at Document.invalidate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3358:32)
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3119:17
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1416:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
{
  "errors": {
    "gender": {
      "name": "ValidatorError",
      "message": "`Male` is not a valid enum value for path `gender`.",
      "properties": {
        "message": "`Male` is not a valid enum value for path `gender`.",
        "type": "enum",
        "enumValues": [
          "male",
          "female",
          "other"
        ],
        "path": "gender",
        "value": "Male",
        "length": 4
      },
      "kind": "enum",
      "path": "gender",
      "value": "Male"
    }
  },
  "_message": "User validation failed"
}
2025-08-31 17:00:24 [INFO]: Server running in development mode on port 5000
2025-08-31 17:00:24 [INFO]: MongoDB Connected: localhost
2025-08-31 17:00:42 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-31 17:03:03 [ERROR]: Registration error: User validation failed: gender: `male` is not a valid enum value for path `gender`.
ValidationError: User validation failed: gender: `male` is not a valid enum value for path `gender`.
    at Document.invalidate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3358:32)
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3119:17
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1416:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
{
  "errors": {
    "gender": {
      "name": "ValidatorError",
      "message": "`male` is not a valid enum value for path `gender`.",
      "properties": {
        "message": "`male` is not a valid enum value for path `gender`.",
        "type": "enum",
        "enumValues": [
          "Male",
          "Female",
          "Other"
        ],
        "path": "gender",
        "value": "male",
        "length": 4
      },
      "kind": "enum",
      "path": "gender",
      "value": "male"
    }
  },
  "_message": "User validation failed"
}
2025-08-31 17:03:28 [ERROR]: Registration error: User validation failed: gender: `male` is not a valid enum value for path `gender`.
ValidationError: User validation failed: gender: `male` is not a valid enum value for path `gender`.
    at Document.invalidate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3358:32)
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3119:17
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1416:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
{
  "errors": {
    "gender": {
      "name": "ValidatorError",
      "message": "`male` is not a valid enum value for path `gender`.",
      "properties": {
        "message": "`male` is not a valid enum value for path `gender`.",
        "type": "enum",
        "enumValues": [
          "Male",
          "Female",
          "Other"
        ],
        "path": "gender",
        "value": "male",
        "length": 4
      },
      "kind": "enum",
      "path": "gender",
      "value": "male"
    }
  },
  "_message": "User validation failed"
}
2025-08-31 17:07:51 [ERROR]: Registration error: User validation failed: gender: `male` is not a valid enum value for path `gender`.
ValidationError: User validation failed: gender: `male` is not a valid enum value for path `gender`.
    at Document.invalidate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3358:32)
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3119:17
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1416:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
{
  "errors": {
    "gender": {
      "name": "ValidatorError",
      "message": "`male` is not a valid enum value for path `gender`.",
      "properties": {
        "message": "`male` is not a valid enum value for path `gender`.",
        "type": "enum",
        "enumValues": [
          "Male",
          "Female",
          "Other"
        ],
        "path": "gender",
        "value": "male",
        "length": 4
      },
      "kind": "enum",
      "path": "gender",
      "value": "male"
    }
  },
  "_message": "User validation failed"
}
2025-08-31 17:58:07 [WARN]: MongoDB disconnected
2025-08-31 17:58:15 [INFO]: Server running in development mode on port 5000
2025-08-31 17:58:15 [INFO]: MongoDB Connected: localhost
2025-08-31 17:59:30 [ERROR]: Email sending error:
{
  "error": "nodemailer.createTransporter is not a function",
  "recipient": "kelvinalfred56@gmail.com",
  "subject": "Welcome! Please Verify Your Email Address"
}
2025-08-31 17:59:30 [ERROR]: Error sending verification email: nodemailer.createTransporter is not a function
TypeError: nodemailer.createTransporter is not a function
    at sendEmail (C:\Users\Admin\Documents\new\server\utils\sendEmail.js:7:36)
    at C:\Users\Admin\Documents\new\server\routes\auth.js:98:13
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-31 18:06:24 [ERROR]: Email sending error:
{
  "error": "nodemailer.createTransporter is not a function",
  "recipient": "rachelvedastus@gmail.com",
  "subject": "Welcome! Please Verify Your Email Address"
}
2025-08-31 18:06:24 [ERROR]: Error sending verification email: nodemailer.createTransporter is not a function
TypeError: nodemailer.createTransporter is not a function
    at sendEmail (C:\Users\Admin\Documents\new\server\utils\sendEmail.js:7:36)
    at C:\Users\Admin\Documents\new\server\routes\auth.js:98:13
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-31 18:08:11 [INFO]: Authentication attempt
{
  "email": "rachelvedastus@gmail.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-31 18:09:13 [INFO]: Authentication attempt
{
  "email": "kelvinalfred56@gmail.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-31 18:09:32 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-31 18:10:45 [WARN]: MongoDB disconnected
2025-08-31 18:10:49 [INFO]: Server running in development mode on port 5000
2025-08-31 18:10:49 [INFO]: MongoDB Connected: localhost
2025-08-31 18:11:26 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-31 18:51:14 [INFO]: Authentication attempt
{
  "email": "kelvinalfred56@gmail.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-31 18:52:06 [INFO]: Authentication attempt
{
  "email": "rachelvedastus@gmail.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-31 18:54:04 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-31 18:54:18 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-31 18:56:53 [WARN]: MongoDB disconnected
2025-08-31 18:56:57 [INFO]: Server running in development mode on port 5000
2025-08-31 18:56:57 [INFO]: MongoDB Connected: localhost
2025-08-31 18:57:11 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-09-01 00:16:21 [INFO]: Authentication attempt
{
  "email": "rachelvedastus@gmail.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-09-01 00:16:43 [INFO]: Authentication attempt
{
  "email": "rachelvedastus@gmail.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-09-01 00:17:02 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-09-01 00:28:27 [WARN]: MongoDB disconnected
2025-09-01 00:29:28 [INFO]: Server running in development mode on port 5000
2025-09-01 00:29:28 [INFO]: MongoDB Connected: localhost
2025-09-01 00:38:59 [ERROR]: Error starting visit: Visit validation failed: createdBy: Path `createdBy` is required., visitDate: Path `visitDate` is required., doctorId: Path `doctorId` is required., patientId: Path `patientId` is required., visitId: Path `visitId` is required.
ValidationError: Visit validation failed: createdBy: Path `createdBy` is required., visitDate: Path `visitDate` is required., doctorId: Path `doctorId` is required., patientId: Path `patientId` is required., visitId: Path `visitId` is required.
    at Document.invalidate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3358:32)
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\document.js:3119:17
    at C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\schemaType.js:1416:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
{
  "errors": {
    "createdBy": {
      "name": "ValidatorError",
      "message": "Path `createdBy` is required.",
      "properties": {
        "message": "Path `createdBy` is required.",
        "type": "required",
        "path": "createdBy"
      },
      "kind": "required",
      "path": "createdBy"
    },
    "visitDate": {
      "name": "ValidatorError",
      "message": "Path `visitDate` is required.",
      "properties": {
        "message": "Path `visitDate` is required.",
        "type": "required",
        "path": "visitDate"
      },
      "kind": "required",
      "path": "visitDate"
    },
    "doctorId": {
      "name": "ValidatorError",
      "message": "Path `doctorId` is required.",
      "properties": {
        "message": "Path `doctorId` is required.",
        "type": "required",
        "path": "doctorId"
      },
      "kind": "required",
      "path": "doctorId"
    },
    "patientId": {
      "name": "ValidatorError",
      "message": "Path `patientId` is required.",
      "properties": {
        "message": "Path `patientId` is required.",
        "type": "required",
        "path": "patientId"
      },
      "kind": "required",
      "path": "patientId"
    },
    "visitId": {
      "name": "ValidatorError",
      "message": "Path `visitId` is required.",
      "properties": {
        "message": "Path `visitId` is required.",
        "type": "required",
        "path": "visitId"
      },
      "kind": "required",
      "path": "visitId"
    }
  },
  "_message": "Visit validation failed"
}
2025-09-01 00:45:07 [WARN]: MongoDB disconnected
2025-09-01 00:45:34 [INFO]: Server running in development mode on port 5000
2025-09-01 00:45:34 [INFO]: MongoDB Connected: localhost
2025-09-01 00:46:33 [INFO]: Visit started: V2500001 for patient Joan John
2025-09-01 00:46:33 [ERROR]: Error fetching visits: Cannot populate path `assignedNurse` because it is not in your schema. Set the `strictPopulate` option to false to override.
StrictPopulateError: Cannot populate path `assignedNurse` because it is not in your schema. Set the `strictPopulate` option to false to override.
    at getModelsMapForPopulate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\helpers\populate\getModelsMapForPopulate.js:50:12)
    at _populatePath (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\model.js:4466:21)
    at Function.populate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\model.js:4433:21)
    at model.Query._find (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2456:20)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async model.Query.exec (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:4627:63)
    at async C:\Users\Admin\Documents\new\server\routes\visits.js:86:20
{
  "path": "assignedNurse"
}
2025-09-01 00:46:34 [ERROR]: Error fetching active visits: Cannot populate path `assignedNurse` because it is not in your schema. Set the `strictPopulate` option to false to override.
StrictPopulateError: Cannot populate path `assignedNurse` because it is not in your schema. Set the `strictPopulate` option to false to override.
    at getModelsMapForPopulate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\helpers\populate\getModelsMapForPopulate.js:50:12)
    at _populatePath (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\model.js:4466:21)
    at Function.populate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\model.js:4433:21)
    at model.Query._find (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2456:20)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async model.Query.exec (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:4627:63)
    at async C:\Users\Admin\Documents\new\server\routes\visits.js:123:20
{
  "path": "assignedNurse"
}
2025-09-01 00:46:34 [ERROR]: Error fetching visits: Cannot populate path `assignedNurse` because it is not in your schema. Set the `strictPopulate` option to false to override.
StrictPopulateError: Cannot populate path `assignedNurse` because it is not in your schema. Set the `strictPopulate` option to false to override.
    at getModelsMapForPopulate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\helpers\populate\getModelsMapForPopulate.js:50:12)
    at _populatePath (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\model.js:4466:21)
    at Function.populate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\model.js:4433:21)
    at model.Query._find (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2456:20)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async model.Query.exec (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:4627:63)
    at async C:\Users\Admin\Documents\new\server\routes\visits.js:86:20
{
  "path": "assignedNurse"
}
2025-09-01 00:46:35 [ERROR]: Error fetching active visits: Cannot populate path `assignedNurse` because it is not in your schema. Set the `strictPopulate` option to false to override.
StrictPopulateError: Cannot populate path `assignedNurse` because it is not in your schema. Set the `strictPopulate` option to false to override.
    at getModelsMapForPopulate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\helpers\populate\getModelsMapForPopulate.js:50:12)
    at _populatePath (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\model.js:4466:21)
    at Function.populate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\model.js:4433:21)
    at model.Query._find (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2456:20)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async model.Query.exec (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:4627:63)
    at async C:\Users\Admin\Documents\new\server\routes\visits.js:123:20
{
  "path": "assignedNurse"
}
2025-09-01 00:48:54 [ERROR]: Error fetching visits: Cannot populate path `assignedNurse` because it is not in your schema. Set the `strictPopulate` option to false to override.
StrictPopulateError: Cannot populate path `assignedNurse` because it is not in your schema. Set the `strictPopulate` option to false to override.
    at getModelsMapForPopulate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\helpers\populate\getModelsMapForPopulate.js:50:12)
    at _populatePath (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\model.js:4466:21)
    at Function.populate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\model.js:4433:21)
    at model.Query._find (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2456:20)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async model.Query.exec (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:4627:63)
    at async C:\Users\Admin\Documents\new\server\routes\visits.js:86:20
{
  "path": "assignedNurse"
}
2025-09-01 00:48:54 [ERROR]: Error fetching active visits: Cannot populate path `assignedNurse` because it is not in your schema. Set the `strictPopulate` option to false to override.
StrictPopulateError: Cannot populate path `assignedNurse` because it is not in your schema. Set the `strictPopulate` option to false to override.
    at getModelsMapForPopulate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\helpers\populate\getModelsMapForPopulate.js:50:12)
    at _populatePath (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\model.js:4466:21)
    at Function.populate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\model.js:4433:21)
    at model.Query._find (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2456:20)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async model.Query.exec (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:4627:63)
    at async C:\Users\Admin\Documents\new\server\routes\visits.js:123:20
{
  "path": "assignedNurse"
}
2025-09-01 00:48:55 [ERROR]: Error fetching visits: Cannot populate path `assignedNurse` because it is not in your schema. Set the `strictPopulate` option to false to override.
StrictPopulateError: Cannot populate path `assignedNurse` because it is not in your schema. Set the `strictPopulate` option to false to override.
    at getModelsMapForPopulate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\helpers\populate\getModelsMapForPopulate.js:50:12)
    at _populatePath (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\model.js:4466:21)
    at Function.populate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\model.js:4433:21)
    at model.Query._find (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2456:20)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async model.Query.exec (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:4627:63)
    at async C:\Users\Admin\Documents\new\server\routes\visits.js:86:20
{
  "path": "assignedNurse"
}
2025-09-01 00:48:55 [ERROR]: Error fetching active visits: Cannot populate path `assignedNurse` because it is not in your schema. Set the `strictPopulate` option to false to override.
StrictPopulateError: Cannot populate path `assignedNurse` because it is not in your schema. Set the `strictPopulate` option to false to override.
    at getModelsMapForPopulate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\helpers\populate\getModelsMapForPopulate.js:50:12)
    at _populatePath (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\model.js:4466:21)
    at Function.populate (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\model.js:4433:21)
    at model.Query._find (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:2456:20)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async model.Query.exec (C:\Users\Admin\Documents\new\server\node_modules\mongoose\lib\query.js:4627:63)
    at async C:\Users\Admin\Documents\new\server\routes\visits.js:123:20
{
  "path": "assignedNurse"
}
2025-09-01 00:49:00 [WARN]: MongoDB disconnected
2025-09-01 00:49:14 [INFO]: Server running in development mode on port 5000
2025-09-01 00:49:14 [INFO]: MongoDB Connected: localhost
2025-09-01 00:50:36 [INFO]: Visit ended: V2500001 by Johnson John
2025-09-01 00:56:06 [WARN]: MongoDB disconnected
2025-09-01 00:57:44 [INFO]: Server running in development mode on port 5000
2025-09-01 00:57:44 [INFO]: MongoDB Connected: localhost
2025-09-01 01:09:59 [INFO]: Authentication attempt
{
  "email": "rachelvedastus@gmail.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-09-01 01:11:19 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-09-01 01:11:59 [WARN]: MongoDB disconnected
2025-09-01 01:12:02 [INFO]: Server running in development mode on port 5000
2025-09-01 01:12:02 [INFO]: MongoDB Connected: localhost
2025-09-01 01:12:35 [INFO]: Visit started: V2500002 for patient Emmanuel Majula
2025-09-01 01:12:51 [INFO]: Authentication attempt
{
  "email": "johnson1425@hospital.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-09-01 01:13:26 [INFO]: Authentication attempt
{
  "email": "rachelvedastus@gmail.com",
  "ip": "::1",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-09-01 01:18:42 [WARN]: MongoDB disconnected
2025-09-01 01:18:46 [INFO]: Server running in development mode on port 5000
2025-09-01 01:18:46 [INFO]: MongoDB Connected: localhost
2025-09-01 01:45:21 [WARN]: MongoDB disconnected
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 02:53:21"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 02:53:22"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 02:53:42"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 02:53:42"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 02:55:52"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 02:55:52"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 03:01:44"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 03:01:44"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 03:02:06"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 03:02:06"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 03:09:40"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 03:09:40"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 03:09:45"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 03:09:45"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 03:09:56"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 03:09:56"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 03:10:12"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 03:10:12"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 03:10:15"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 03:10:15"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 03:10:18"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 03:10:18"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 03:13:28"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 03:13:28"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 03:13:40"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 03:13:40"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 03:13:42"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 03:13:42"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 03:13:46"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 03:13:46"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 03:13:52"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 03:13:52"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 03:13:58"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 03:13:58"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 03:14:01"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 03:14:01"}
{"level":"error","message":"SyntaxError: Unexpected token '\"', \"\"johnson14\"... is not valid JSON\n    at JSON.parse (<anonymous>)\n    at createStrictSyntaxError (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\body-parser\\lib\\types\\json.js:169:10)\n    at parse (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\body-parser\\lib\\types\\json.js:86:15)\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\body-parser\\lib\\read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\raw-body\\index.js:238:16)\n    at done (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\raw-body\\index.js:227:7)\n    at IncomingMessage.onEnd (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\raw-body\\index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)","service":"user-service","timestamp":"2025-09-01 03:26:10"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 03:31:04"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 03:31:04"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 14:32:05"}
{"level":"error","message":"Token verification failed: Operation `users.findOne()` buffering timed out after 10000ms","service":"user-service","stack":"MongooseError: Operation `users.findOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\collection.js:187:23)\n    at listOnTimeout (node:internal/timers:588:17)\n    at process.processTimers (node:internal/timers:523:7)","timestamp":"2025-09-01 14:32:24"}
{"level":"error","message":"Token verification failed: Operation `users.findOne()` buffering timed out after 10000ms","service":"user-service","stack":"MongooseError: Operation `users.findOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\collection.js:187:23)\n    at listOnTimeout (node:internal/timers:588:17)\n    at process.processTimers (node:internal/timers:523:7)","timestamp":"2025-09-01 14:32:32"}
{"level":"error","message":"Error connecting to MongoDB: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017","service":"user-service","timestamp":"2025-09-01 14:32:35"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 14:33:15"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 14:33:15"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 14:46:49"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 14:46:49"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 14:55:00"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 14:55:00"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 14:56:40"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 14:56:40"}
{"level":"error","message":"SyntaxError: Unexpected token '\"', \"\"johnson14\"... is not valid JSON\n    at JSON.parse (<anonymous>)\n    at createStrictSyntaxError (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\body-parser\\lib\\types\\json.js:169:10)\n    at parse (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\body-parser\\lib\\types\\json.js:86:15)\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\body-parser\\lib\\read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\raw-body\\index.js:238:16)\n    at done (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\raw-body\\index.js:227:7)\n    at IncomingMessage.onEnd (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\raw-body\\index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)","service":"user-service","timestamp":"2025-09-01 14:57:07"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 15:00:55"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 15:00:55"}
{"level":"error","message":"SyntaxError: Unexpected token '\"', \"\"johnson14\"... is not valid JSON\n    at JSON.parse (<anonymous>)\n    at createStrictSyntaxError (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\body-parser\\lib\\types\\json.js:169:10)\n    at parse (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\body-parser\\lib\\types\\json.js:86:15)\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\body-parser\\lib\\read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\raw-body\\index.js:238:16)\n    at done (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\raw-body\\index.js:227:7)\n    at IncomingMessage.onEnd (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\raw-body\\index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)","service":"user-service","timestamp":"2025-09-01 15:01:10"}
{"level":"error","message":"SyntaxError: Unexpected token '\"', \"\"johnson14\"... is not valid JSON\n    at JSON.parse (<anonymous>)\n    at createStrictSyntaxError (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\body-parser\\lib\\types\\json.js:169:10)\n    at parse (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\body-parser\\lib\\types\\json.js:86:15)\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\body-parser\\lib\\read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\raw-body\\index.js:238:16)\n    at done (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\raw-body\\index.js:227:7)\n    at IncomingMessage.onEnd (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\raw-body\\index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)","service":"user-service","timestamp":"2025-09-01 15:04:21"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 15:39:02"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 15:39:02"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 15:56:38"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 15:56:38"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-01 16:25:24"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 16:34:35"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 16:34:35"}
{"level":"error","message":"Token verification failed: user.isLocked is not a function","service":"user-service","stack":"TypeError: user.isLocked is not a function\n    at protect (file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:49:14)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-01 16:35:57"}
{"level":"error","message":"Token verification failed: user.isLocked is not a function","service":"user-service","stack":"TypeError: user.isLocked is not a function\n    at protect (file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:49:14)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-01 16:35:57"}
{"level":"error","message":"Token verification failed: user.isLocked is not a function","service":"user-service","stack":"TypeError: user.isLocked is not a function\n    at protect (file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:49:14)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-01 16:36:13"}
{"level":"error","message":"Token verification failed: user.isLocked is not a function","service":"user-service","stack":"TypeError: user.isLocked is not a function\n    at protect (file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:49:14)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-01 16:36:13"}
{"level":"error","message":"Token verification failed: user.isLocked is not a function","service":"user-service","stack":"TypeError: user.isLocked is not a function\n    at protect (file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:49:14)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-01 16:36:24"}
{"level":"error","message":"Token verification failed: user.isLocked is not a function","service":"user-service","stack":"TypeError: user.isLocked is not a function\n    at protect (file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:49:14)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-01 16:36:24"}
{"level":"error","message":"Token verification failed: user.isLocked is not a function","service":"user-service","stack":"TypeError: user.isLocked is not a function\n    at protect (file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:49:14)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-01 16:36:42"}
{"level":"error","message":"Token verification failed: user.isLocked is not a function","service":"user-service","stack":"TypeError: user.isLocked is not a function\n    at protect (file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:49:14)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-01 16:36:42"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-01 16:41:11"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 16:41:15"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 16:41:15"}
{"level":"error","message":"Token verification failed: user.isLocked is not a function","service":"user-service","stack":"TypeError: user.isLocked is not a function\n    at protect (file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:49:14)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-01 16:41:35"}
{"level":"error","message":"Token verification failed: user.isLocked is not a function","service":"user-service","stack":"TypeError: user.isLocked is not a function\n    at protect (file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:49:14)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-01 16:41:35"}
{"level":"error","message":"Token verification failed: user.isLocked is not a function","service":"user-service","stack":"TypeError: user.isLocked is not a function\n    at protect (file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:49:14)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-01 16:54:54"}
{"level":"error","message":"Token verification failed: user.isLocked is not a function","service":"user-service","stack":"TypeError: user.isLocked is not a function\n    at protect (file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:49:14)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-01 16:54:54"}
{"level":"error","message":"Token verification failed: user.isLocked is not a function","service":"user-service","stack":"TypeError: user.isLocked is not a function\n    at protect (file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:49:14)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-01 16:55:06"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-01 16:55:21"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 16:55:24"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 16:55:24"}
{"level":"error","message":"CastError: Cast to ObjectId failed for value \"active\" (type string) at path \"_id\" for model \"Visit\"\n    at SchemaObjectId.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1258:12)\n    at SchemaType.castForQuery (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1694:17)\n    at cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\cast.js:390:32)\n    at Query.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:5060:12)\n    at Query._castConditions (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2374:10)\n    at model.Query._findOne (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2697:8)\n    at model.Query.exec (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:4627:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///C:/Users/Admin/Documents/new/server/routes/visits.js:29:19","service":"user-service","timestamp":"2025-09-01 16:56:20"}
{"level":"error","message":"CastError: Cast to ObjectId failed for value \"active\" (type string) at path \"_id\" for model \"Visit\"\n    at SchemaObjectId.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1258:12)\n    at SchemaType.castForQuery (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1694:17)\n    at cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\cast.js:390:32)\n    at Query.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:5060:12)\n    at Query._castConditions (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2374:10)\n    at model.Query._findOne (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2697:8)\n    at model.Query.exec (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:4627:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///C:/Users/Admin/Documents/new/server/routes/visits.js:29:19","service":"user-service","timestamp":"2025-09-01 16:56:21"}
{"kind":"ObjectId","level":"error","message":"Update user error: Cast to ObjectId failed for value \"preferences\" (type string) at path \"_id\" for model \"User\"","path":"_id","reason":{},"service":"user-service","stack":"CastError: Cast to ObjectId failed for value \"preferences\" (type string) at path \"_id\" for model \"User\"\n    at SchemaObjectId.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1258:12)\n    at SchemaType.castForQuery (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1694:17)\n    at cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\cast.js:390:32)\n    at Query.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:5060:12)\n    at Query._castConditions (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2374:10)\n    at model.Query._findOne (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2697:8)\n    at model.Query.exec (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:4627:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///C:/Users/Admin/Documents/new/server/routes/users.js:114:16","stringValue":"\"preferences\"","timestamp":"2025-09-01 16:57:29","value":"preferences","valueType":"string"}
{"kind":"ObjectId","level":"error","message":"Update user error: Cast to ObjectId failed for value \"preferences\" (type string) at path \"_id\" for model \"User\"","path":"_id","reason":{},"service":"user-service","stack":"CastError: Cast to ObjectId failed for value \"preferences\" (type string) at path \"_id\" for model \"User\"\n    at SchemaObjectId.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1258:12)\n    at SchemaType.castForQuery (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1694:17)\n    at cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\cast.js:390:32)\n    at Query.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:5060:12)\n    at Query._castConditions (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2374:10)\n    at model.Query._findOne (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2697:8)\n    at model.Query.exec (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:4627:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///C:/Users/Admin/Documents/new/server/routes/users.js:114:16","stringValue":"\"preferences\"","timestamp":"2025-09-01 16:57:34","value":"preferences","valueType":"string"}
{"level":"error","message":"CastError: Cast to ObjectId failed for value \"active\" (type string) at path \"_id\" for model \"Visit\"\n    at SchemaObjectId.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1258:12)\n    at SchemaType.castForQuery (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1694:17)\n    at cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\cast.js:390:32)\n    at Query.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:5060:12)\n    at Query._castConditions (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2374:10)\n    at model.Query._findOne (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2697:8)\n    at model.Query.exec (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:4627:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///C:/Users/Admin/Documents/new/server/routes/visits.js:29:19","service":"user-service","timestamp":"2025-09-01 16:58:58"}
{"level":"error","message":"CastError: Cast to ObjectId failed for value \"active\" (type string) at path \"_id\" for model \"Visit\"\n    at SchemaObjectId.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1258:12)\n    at SchemaType.castForQuery (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1694:17)\n    at cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\cast.js:390:32)\n    at Query.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:5060:12)\n    at Query._castConditions (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2374:10)\n    at model.Query._findOne (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2697:8)\n    at model.Query.exec (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:4627:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///C:/Users/Admin/Documents/new/server/routes/visits.js:29:19","service":"user-service","timestamp":"2025-09-01 16:58:59"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-01 17:01:18"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 17:01:22"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 17:01:22"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 17:37:40"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 17:37:40"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-01 17:49:26"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 17:49:43"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 17:49:43"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-01 18:00:32"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 18:00:35"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 18:00:35"}
{"level":"error","message":"CastError: Cast to ObjectId failed for value \"active\" (type string) at path \"_id\" for model \"Visit\"\n    at SchemaObjectId.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1258:12)\n    at SchemaType.castForQuery (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1694:17)\n    at cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\cast.js:390:32)\n    at Query.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:5060:12)\n    at Query._castConditions (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2374:10)\n    at model.Query._findOne (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2697:8)\n    at model.Query.exec (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:4627:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///C:/Users/Admin/Documents/new/server/routes/visits.js:29:19","service":"user-service","timestamp":"2025-09-01 18:04:15"}
{"level":"error","message":"CastError: Cast to ObjectId failed for value \"active\" (type string) at path \"_id\" for model \"Visit\"\n    at SchemaObjectId.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1258:12)\n    at SchemaType.castForQuery (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1694:17)\n    at cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\cast.js:390:32)\n    at Query.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:5060:12)\n    at Query._castConditions (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2374:10)\n    at model.Query._findOne (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2697:8)\n    at model.Query.exec (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:4627:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///C:/Users/Admin/Documents/new/server/routes/visits.js:29:19","service":"user-service","timestamp":"2025-09-01 18:04:16"}
{"kind":"ObjectId","level":"error","message":"Update user error: Cast to ObjectId failed for value \"profile\" (type string) at path \"_id\" for model \"User\"","path":"_id","reason":{},"service":"user-service","stack":"CastError: Cast to ObjectId failed for value \"profile\" (type string) at path \"_id\" for model \"User\"\n    at SchemaObjectId.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1258:12)\n    at SchemaType.castForQuery (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1694:17)\n    at cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\cast.js:390:32)\n    at Query.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:5060:12)\n    at Query._castConditions (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2374:10)\n    at model.Query._findOne (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2697:8)\n    at model.Query.exec (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:4627:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///C:/Users/Admin/Documents/new/server/routes/users.js:168:16","stringValue":"\"profile\"","timestamp":"2025-09-01 18:05:15","value":"profile","valueType":"string"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-01 18:06:56"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 18:07:00"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 18:07:00"}
{"level":"error","message":"ValidationError: Appointment validation failed: duration: Cast to Number failed for value \"1 hour\" (type string) at path \"duration\", createdBy: Path `createdBy` is required., reason: Path `reason` is required., appointmentTime: Path `appointmentTime` is required., appointmentDate: Path `appointmentDate` is required., appointmentId: Path `appointmentId` is required., type: `Follow-up` is not a valid enum value for path `type`., status: `Scheduled` is not a valid enum value for path `status`.\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at model.$set (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:1480:12)\n    at model.$set (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:1132:16)\n    at model.Document (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:178:12)\n    at model.Model (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\model.js:127:12)\n    at new model (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\model.js:4834:15)\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\model.js:2775:20\n    at Array.map (<anonymous>)\n    at Function.create (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\model.js:2763:34)\n    at file:///C:/Users/Admin/Documents/new/server/routes/appointments.js:19:43","service":"user-service","timestamp":"2025-09-01 20:45:48"}
{"level":"error","message":"ValidationError: Appointment validation failed: duration: Cast to Number failed for value \"1 hour\" (type string) at path \"duration\", createdBy: Path `createdBy` is required., reason: Path `reason` is required., appointmentTime: Path `appointmentTime` is required., appointmentDate: Path `appointmentDate` is required., appointmentId: Path `appointmentId` is required., status: `Scheduled` is not a valid enum value for path `status`.\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at model.$set (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:1480:12)\n    at model.$set (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:1132:16)\n    at model.Document (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:178:12)\n    at model.Model (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\model.js:127:12)\n    at new model (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\model.js:4834:15)\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\model.js:2775:20\n    at Array.map (<anonymous>)\n    at Function.create (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\model.js:2763:34)\n    at file:///C:/Users/Admin/Documents/new/server/routes/appointments.js:19:43","service":"user-service","timestamp":"2025-09-01 20:56:02"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-01 20:56:09"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 20:56:18"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 20:56:18"}
{"_message":"Appointment validation failed","errors":{"reason":{"kind":"required","message":"Path `reason` is required.","name":"ValidatorError","path":"reason","properties":{"length":0,"message":"Path `reason` is required.","path":"reason","type":"required","value":""},"value":""}},"level":"error","message":"Create appointment error: Appointment validation failed: reason: Path `reason` is required.","service":"user-service","stack":"ValidationError: Appointment validation failed: reason: Path `reason` is required.\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-01 20:56:23"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-01 21:00:39"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 21:00:45"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 21:00:46"}
{"level":"error","message":"CastError: Cast to ObjectId failed for value \"active\" (type string) at path \"_id\" for model \"Visit\"\n    at SchemaObjectId.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1258:12)\n    at SchemaType.castForQuery (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1694:17)\n    at cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\cast.js:390:32)\n    at Query.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:5060:12)\n    at Query._castConditions (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2374:10)\n    at model.Query._findOne (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2697:8)\n    at model.Query.exec (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:4627:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///C:/Users/Admin/Documents/new/server/routes/visits.js:29:19","service":"user-service","timestamp":"2025-09-01 21:03:31"}
{"level":"error","message":"CastError: Cast to ObjectId failed for value \"active\" (type string) at path \"_id\" for model \"Visit\"\n    at SchemaObjectId.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1258:12)\n    at SchemaType.castForQuery (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1694:17)\n    at cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\cast.js:390:32)\n    at Query.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:5060:12)\n    at Query._castConditions (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2374:10)\n    at model.Query._findOne (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2697:8)\n    at model.Query.exec (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:4627:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///C:/Users/Admin/Documents/new/server/routes/visits.js:29:19","service":"user-service","timestamp":"2025-09-01 21:03:32"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-01 21:16:55"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 21:16:58"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 21:16:58"}
{"level":"error","message":"Get visits error: Cannot populate path `doctor` because it is not in your schema. Set the `strictPopulate` option to false to override.","path":"doctor","service":"user-service","stack":"StrictPopulateError: Cannot populate path `doctor` because it is not in your schema. Set the `strictPopulate` option to false to override.\n    at getModelsMapForPopulate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\helpers\\populate\\getModelsMapForPopulate.js:50:12)\n    at _populatePath (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\model.js:4466:21)\n    at Function.populate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\model.js:4433:21)\n    at model.Query._find (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2456:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async model.Query.exec (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:4627:63)\n    at async file:///C:/Users/Admin/Documents/new/server/routes/visits.js:27:20","timestamp":"2025-09-01 21:17:02"}
{"level":"error","message":"Get visits error: Cannot populate path `doctor` because it is not in your schema. Set the `strictPopulate` option to false to override.","path":"doctor","service":"user-service","stack":"StrictPopulateError: Cannot populate path `doctor` because it is not in your schema. Set the `strictPopulate` option to false to override.\n    at getModelsMapForPopulate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\helpers\\populate\\getModelsMapForPopulate.js:50:12)\n    at _populatePath (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\model.js:4466:21)\n    at Function.populate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\model.js:4433:21)\n    at model.Query._find (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2456:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async model.Query.exec (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:4627:63)\n    at async file:///C:/Users/Admin/Documents/new/server/routes/visits.js:27:20","timestamp":"2025-09-01 21:17:03"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-01 21:22:22"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 21:22:26"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 21:22:26"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-01 21:29:04"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 21:29:08"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 21:29:08"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-01 21:32:00"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 21:32:06"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 21:32:06"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-01 21:33:12"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 21:33:16"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 21:33:16"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-01 21:37:37"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 21:37:41"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 21:37:41"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-01 21:43:33"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 21:43:37"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 21:43:37"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-01 21:46:37"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-01 21:46:41"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-01 21:46:41"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-02 00:23:11"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-02 00:23:15"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-02 00:33:01"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-02 16:58:26"}
{"cause":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{"localhost:27017":{"$clusterTime":null,"address":"localhost:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":3569529,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":null,"stale":false,"type":"Unknown"},"errorLabelSet":{},"level":"error","message":"connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{"localhost:27017":{"$clusterTime":null,"address":"localhost:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":3569529,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":null,"stale":false,"type":"Unknown"},"service":"user-service","stack":"MongooseServerSelectionError: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017\n    at _handleConnectionErrors (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\connection.js:1165:11)\n    at NativeConnection.openUri (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\connection.js:1096:11)\n    at async connectDB (file:///C:/Users/Admin/Documents/new/server/config/database.js:6:18)","timestamp":"2025-09-02 16:58:30"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-02 16:59:19"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-02 16:59:19"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-02 17:24:42"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-02 17:24:53"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-02 17:24:53"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-02 17:44:04"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-02 17:44:08"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-02 17:44:09"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-02 17:50:22"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-02 17:50:26"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-02 17:50:26"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-02 17:59:14"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-02 17:59:17"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-02 17:59:17"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-02 18:13:22"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-02 18:13:26"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-02 18:13:26"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-02 18:19:28"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-02 18:19:32"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-02 18:19:32"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-02 18:49:44"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-02 18:49:47"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-02 18:49:47"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-02 23:41:35"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-03 15:20:49"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-03 15:20:49"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-03 16:00:48"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-03 16:01:08"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-03 16:01:08"}
{"kind":"ObjectId","level":"error","message":"Update user error: Cast to ObjectId failed for value \"preferences\" (type string) at path \"_id\" for model \"User\"","path":"_id","reason":{},"service":"user-service","stack":"CastError: Cast to ObjectId failed for value \"preferences\" (type string) at path \"_id\" for model \"User\"\n    at SchemaObjectId.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1258:12)\n    at SchemaType.castForQuery (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1694:17)\n    at cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\cast.js:390:32)\n    at Query.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:5060:12)\n    at Query._castConditions (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2374:10)\n    at model.Query._findOne (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2697:8)\n    at model.Query.exec (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:4627:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///C:/Users/Admin/Documents/new/server/routes/users.js:168:16","stringValue":"\"preferences\"","timestamp":"2025-09-03 16:04:06","value":"preferences","valueType":"string"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-03 16:08:05"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-03 16:08:08"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-03 16:08:08"}
{"level":"error","message":"Update preferences error: Cannot read properties of undefined (reading 'id')","service":"user-service","stack":"TypeError: Cannot read properties of undefined (reading 'id')\n    at file:///C:/Users/Admin/Documents/new/server/routes/users.js:119:22\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\index.js:280:10)","timestamp":"2025-09-03 16:08:17"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-03 16:12:08"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-03 16:12:12"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-03 16:12:12"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-03 16:21:40"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-03 16:21:44"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-03 16:21:44"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-03 17:11:10"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-03 17:11:25"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-03 17:11:25"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-03 17:24:37"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-03 17:24:41"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-03 17:24:41"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-03 17:35:12"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-03 17:35:16"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-03 17:35:16"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-03 17:37:55"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-03 17:37:58"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-03 17:37:58"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-03 17:58:21"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-03 17:59:11"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-03 17:59:11"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-03 18:43:04"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-03 18:43:07"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-03 18:43:07"}
{"level":"error","message":"ReferenceError: logger is not defined\n    at file:///C:/Users/Admin/Documents/new/server/routes/doctors.js:44:9\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:88:5\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at protect (file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:61:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","service":"user-service","timestamp":"2025-09-03 18:43:35"}
{"level":"error","message":"ReferenceError: logger is not defined\n    at file:///C:/Users/Admin/Documents/new/server/routes/doctors.js:44:9\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:88:5\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at protect (file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:61:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","service":"user-service","timestamp":"2025-09-03 18:43:36"}
{"level":"error","message":"ReferenceError: logger is not defined\n    at file:///C:/Users/Admin/Documents/new/server/routes/doctors.js:44:9\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:88:5\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at protect (file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:61:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","service":"user-service","timestamp":"2025-09-03 18:44:04"}
{"level":"error","message":"ReferenceError: logger is not defined\n    at file:///C:/Users/Admin/Documents/new/server/routes/doctors.js:44:9\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:88:5\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at protect (file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:61:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","service":"user-service","timestamp":"2025-09-03 18:44:05"}
{"level":"error","message":"ReferenceError: logger is not defined\n    at file:///C:/Users/Admin/Documents/new/server/routes/doctors.js:44:9\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:88:5\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at protect (file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:61:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","service":"user-service","timestamp":"2025-09-03 18:44:16"}
{"level":"error","message":"ReferenceError: logger is not defined\n    at file:///C:/Users/Admin/Documents/new/server/routes/doctors.js:44:9\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:88:5\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at protect (file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:61:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","service":"user-service","timestamp":"2025-09-03 18:44:17"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-03 18:48:31"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-03 18:48:35"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-03 18:48:35"}
{"level":"error","message":"ReferenceError: logger is not defined\n    at file:///C:/Users/Admin/Documents/new/server/routes/doctors.js:45:9\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:88:5\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at protect (file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:61:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","service":"user-service","timestamp":"2025-09-03 18:48:40"}
{"level":"error","message":"ReferenceError: logger is not defined\n    at file:///C:/Users/Admin/Documents/new/server/routes/doctors.js:45:9\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:88:5\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at protect (file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:61:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","service":"user-service","timestamp":"2025-09-03 18:48:41"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-03 18:49:25"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-03 18:49:28"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-03 18:49:28"}
{"level":"error","message":"Get doctor queue error: Visit is not defined","service":"user-service","stack":"ReferenceError: Visit is not defined\n    at file:///C:/Users/Admin/Documents/new/server/routes/doctors.js:39:23\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:88:5\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at protect (file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:61:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-03 18:49:33"}
{"level":"error","message":"Get doctor queue error: Visit is not defined","service":"user-service","stack":"ReferenceError: Visit is not defined\n    at file:///C:/Users/Admin/Documents/new/server/routes/doctors.js:39:23\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:88:5\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at protect (file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:61:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-03 18:49:34"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-03 18:50:07"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-03 18:50:10"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-03 18:50:10"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-03 18:58:57"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-03 18:59:01"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-03 18:59:01"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-03 19:19:21"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-03 19:19:25"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-03 19:19:25"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-03 19:54:35"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-03 19:54:45"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-03 19:54:45"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-03 20:05:08"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-03 20:05:12"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-03 20:05:12"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-03 23:23:30"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-03 23:23:48"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-03 23:23:48"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-03 23:33:00"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-03 23:33:15"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-03 23:33:15"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-04 00:18:57"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-04 00:19:12"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-04 00:19:12"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-04 00:34:56"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-04 00:35:04"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-04 00:35:04"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-04 00:54:36"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-04 00:54:41"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-04 00:54:41"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-04 01:09:18"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-04 01:09:27"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-04 01:09:27"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-04 01:17:21"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-04 01:17:24"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-04 01:17:24"}
{"_message":"Notification validation failed","errors":{"relatedEntity.entityType":{"kind":"enum","message":"`invoice` is not a valid enum value for path `relatedEntity.entityType`.","name":"ValidatorError","path":"relatedEntity.entityType","properties":{"enumValues":["appointment","patient","visit","labtest","prescription"],"length":7,"message":"`invoice` is not a valid enum value for path `relatedEntity.entityType`.","path":"relatedEntity.entityType","type":"enum","value":"invoice"},"value":"invoice"}},"level":"error","message":"Create invoice error: Notification validation failed: relatedEntity.entityType: `invoice` is not a valid enum value for path `relatedEntity.entityType`.","service":"user-service","stack":"ValidationError: Notification validation failed: relatedEntity.entityType: `invoice` is not a valid enum value for path `relatedEntity.entityType`.\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-04 01:22:03"}
{"_message":"Notification validation failed","errors":{"relatedEntity.entityType":{"kind":"enum","message":"`invoice` is not a valid enum value for path `relatedEntity.entityType`.","name":"ValidatorError","path":"relatedEntity.entityType","properties":{"enumValues":["appointment","patient","visit","labtest","prescription"],"length":7,"message":"`invoice` is not a valid enum value for path `relatedEntity.entityType`.","path":"relatedEntity.entityType","type":"enum","value":"invoice"},"value":"invoice"}},"level":"error","message":"Create invoice error: Notification validation failed: relatedEntity.entityType: `invoice` is not a valid enum value for path `relatedEntity.entityType`.","service":"user-service","stack":"ValidationError: Notification validation failed: relatedEntity.entityType: `invoice` is not a valid enum value for path `relatedEntity.entityType`.\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-04 01:22:03"}
{"_message":"Notification validation failed","errors":{"relatedEntity.entityType":{"kind":"enum","message":"`invoice` is not a valid enum value for path `relatedEntity.entityType`.","name":"ValidatorError","path":"relatedEntity.entityType","properties":{"enumValues":["appointment","patient","visit","labtest","prescription"],"length":7,"message":"`invoice` is not a valid enum value for path `relatedEntity.entityType`.","path":"relatedEntity.entityType","type":"enum","value":"invoice"},"value":"invoice"}},"level":"error","message":"Create invoice error: Notification validation failed: relatedEntity.entityType: `invoice` is not a valid enum value for path `relatedEntity.entityType`.","service":"user-service","stack":"ValidationError: Notification validation failed: relatedEntity.entityType: `invoice` is not a valid enum value for path `relatedEntity.entityType`.\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-04 01:23:40"}
{"_message":"Notification validation failed","errors":{"relatedEntity.entityType":{"kind":"enum","message":"`invoice` is not a valid enum value for path `relatedEntity.entityType`.","name":"ValidatorError","path":"relatedEntity.entityType","properties":{"enumValues":["appointment","patient","visit","labtest","prescription"],"length":7,"message":"`invoice` is not a valid enum value for path `relatedEntity.entityType`.","path":"relatedEntity.entityType","type":"enum","value":"invoice"},"value":"invoice"}},"level":"error","message":"Create invoice error: Notification validation failed: relatedEntity.entityType: `invoice` is not a valid enum value for path `relatedEntity.entityType`.","service":"user-service","stack":"ValidationError: Notification validation failed: relatedEntity.entityType: `invoice` is not a valid enum value for path `relatedEntity.entityType`.\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-04 01:23:40"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-04 01:23:55"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-04 01:23:59"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-04 01:23:59"}
{"_message":"Notification validation failed","errors":{"relatedEntity.entityType":{"kind":"enum","message":"`invoice` is not a valid enum value for path `relatedEntity.entityType`.","name":"ValidatorError","path":"relatedEntity.entityType","properties":{"enumValues":["appointment","patient","visit","labtest","prescription"],"length":7,"message":"`invoice` is not a valid enum value for path `relatedEntity.entityType`.","path":"relatedEntity.entityType","type":"enum","value":"invoice"},"value":"invoice"}},"level":"error","message":"Create invoice error: Notification validation failed: relatedEntity.entityType: `invoice` is not a valid enum value for path `relatedEntity.entityType`.","service":"user-service","stack":"ValidationError: Notification validation failed: relatedEntity.entityType: `invoice` is not a valid enum value for path `relatedEntity.entityType`.\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-04 01:24:23"}
{"_message":"Notification validation failed","errors":{"relatedEntity.entityType":{"kind":"enum","message":"`invoice` is not a valid enum value for path `relatedEntity.entityType`.","name":"ValidatorError","path":"relatedEntity.entityType","properties":{"enumValues":["appointment","patient","visit","labtest","prescription"],"length":7,"message":"`invoice` is not a valid enum value for path `relatedEntity.entityType`.","path":"relatedEntity.entityType","type":"enum","value":"invoice"},"value":"invoice"}},"level":"error","message":"Create invoice error: Notification validation failed: relatedEntity.entityType: `invoice` is not a valid enum value for path `relatedEntity.entityType`.","service":"user-service","stack":"ValidationError: Notification validation failed: relatedEntity.entityType: `invoice` is not a valid enum value for path `relatedEntity.entityType`.\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-04 01:24:23"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-04 01:29:05"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-04 01:29:09"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-04 01:29:09"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-04 01:35:55"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-04 01:36:00"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-04 01:36:00"}
{"_message":"Notification validation failed","errors":{"relatedEntity.entityType":{"kind":"enum","message":"`invoice` is not a valid enum value for path `relatedEntity.entityType`.","name":"ValidatorError","path":"relatedEntity.entityType","properties":{"enumValues":["appointment","patient","visit","labtest","prescription"],"length":7,"message":"`invoice` is not a valid enum value for path `relatedEntity.entityType`.","path":"relatedEntity.entityType","type":"enum","value":"invoice"},"value":"invoice"}},"level":"error","message":"Create invoice error: Notification validation failed: relatedEntity.entityType: `invoice` is not a valid enum value for path `relatedEntity.entityType`.","service":"user-service","stack":"ValidationError: Notification validation failed: relatedEntity.entityType: `invoice` is not a valid enum value for path `relatedEntity.entityType`.\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-04 01:42:26"}
{"_message":"Notification validation failed","errors":{"relatedEntity.entityType":{"kind":"enum","message":"`invoice` is not a valid enum value for path `relatedEntity.entityType`.","name":"ValidatorError","path":"relatedEntity.entityType","properties":{"enumValues":["appointment","patient","visit","labtest","prescription"],"length":7,"message":"`invoice` is not a valid enum value for path `relatedEntity.entityType`.","path":"relatedEntity.entityType","type":"enum","value":"invoice"},"value":"invoice"}},"level":"error","message":"Create invoice error: Notification validation failed: relatedEntity.entityType: `invoice` is not a valid enum value for path `relatedEntity.entityType`.","service":"user-service","stack":"ValidationError: Notification validation failed: relatedEntity.entityType: `invoice` is not a valid enum value for path `relatedEntity.entityType`.\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-04 01:42:26"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-04 01:48:12"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-04 01:48:16"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-04 01:48:17"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-04 02:00:49"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-04 02:00:53"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-04 02:00:53"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-04 02:04:44"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-04 02:04:48"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-04 02:04:48"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-04 02:09:32"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-04 02:09:36"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-04 02:09:37"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-04 02:13:18"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-04 02:13:23"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-04 02:13:23"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-04 02:20:11"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-04 18:43:41"}
{"cause":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{"localhost:27017":{"$clusterTime":null,"address":"localhost:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":3677552,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":null,"stale":false,"type":"Unknown"},"errorLabelSet":{},"level":"error","message":"connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{"localhost:27017":{"$clusterTime":null,"address":"localhost:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":3677552,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":null,"stale":false,"type":"Unknown"},"service":"user-service","stack":"MongooseServerSelectionError: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017\n    at _handleConnectionErrors (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\connection.js:1165:11)\n    at NativeConnection.openUri (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\connection.js:1096:11)\n    at async connectDB (file:///C:/Users/Admin/Documents/new/server/config/database.js:6:18)","timestamp":"2025-09-04 18:43:46"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-04 18:44:46"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-04 18:44:46"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-04 22:39:03"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-04 22:39:28"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-04 22:39:28"}
{"level":"info","message":"Sending payment receipt for payment PAY-20250904-0001","service":"user-service","timestamp":"2025-09-04 22:39:48"}
{"level":"info","message":"Sending payment receipt for payment PAY-20250904-0002","service":"user-service","timestamp":"2025-09-04 23:38:48"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-04 23:40:54"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-04 23:41:14"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-04 23:41:14"}
{"level":"info","message":"Sending payment receipt for payment PAY-20250904-0001","service":"user-service","timestamp":"2025-09-04 23:52:41"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-04 23:52:56"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-04 23:52:59"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-04 23:52:59"}
{"level":"info","message":"Sending payment receipt for payment PAY-20250904-0001","service":"user-service","timestamp":"2025-09-04 23:55:51"}
{"level":"info","message":"Visit 68b9fcd2c1c81495ad5bac7b activated for invoice INV-202509-00001","service":"user-service","timestamp":"2025-09-04 23:55:51"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-04 23:56:02"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-04 23:56:05"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-04 23:56:05"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-04 23:58:13"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-04 23:58:17"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-04 23:58:17"}
{"level":"info","message":"Sending payment receipt for payment PAY-20250904-0002","service":"user-service","timestamp":"2025-09-04 23:59:44"}
{"level":"info","message":"Visit 68b9fda4f020a9fc93f42c29 activated for invoice INV-202509-00002","service":"user-service","timestamp":"2025-09-04 23:59:44"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-05 00:11:06"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-05 00:11:10"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-05 00:11:10"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-05 00:25:05"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-05 00:25:09"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-05 00:25:09"}
{"level":"info","message":"Doctor 68b464ef446fab3d7288aa73 started visit 68b9fda4f020a9fc93f42c29","service":"user-service","timestamp":"2025-09-05 00:25:15"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-05 00:37:28"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-06 22:53:02"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-06 22:53:02"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-06 23:06:14"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-06 23:06:24"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-06 23:06:24"}
{"_message":"Appointment validation failed","errors":{"reason":{"kind":"required","message":"Path `reason` is required.","name":"ValidatorError","path":"reason","properties":{"length":0,"message":"Path `reason` is required.","path":"reason","type":"required","value":""},"value":""}},"level":"error","message":"Create appointment error: Appointment validation failed: reason: Path `reason` is required.","service":"user-service","stack":"ValidationError: Appointment validation failed: reason: Path `reason` is required.\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-06 23:10:54"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-06 23:55:15"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-06 23:55:52"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-06 23:55:53"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-07 00:01:11"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-07 00:01:18"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-07 00:01:18"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-07 00:02:14"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-07 00:02:19"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-07 00:02:19"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-07 00:05:49"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-07 00:05:54"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-07 00:05:54"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-07 00:18:43"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-07 00:18:47"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-07 00:18:47"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-07 00:46:07"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-07 00:46:21"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-07 00:46:21"}
{"level":"info","message":"Sending payment receipt for payment PAY-20250907-0001","service":"user-service","timestamp":"2025-09-07 00:54:21"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-07 00:54:48"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-07 00:54:52"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-07 00:54:52"}
{"level":"info","message":"Sending payment receipt for payment PAY-20250907-0002","service":"user-service","timestamp":"2025-09-07 00:55:57"}
{"level":"info","message":"Sending payment receipt for payment PAY-20250907-0003","service":"user-service","timestamp":"2025-09-07 00:56:37"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-07 00:57:24"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-07 00:57:27"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-07 00:57:27"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-07 01:03:04"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-07 22:49:06"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-07 22:49:07"}
{"code":5107201,"codeName":"Location5107201","errorLabelSet":{},"errorResponse":{"code":5107201,"codeName":"Location5107201","errmsg":"invalid argument to $limit stage: Expected an integer, but found NaN in: $limit: nan.0","ok":0},"level":"error","message":"Get invoices error: invalid argument to $limit stage: Expected an integer, but found NaN in: $limit: nan.0","ok":0,"service":"user-service","stack":"MongoServerError: invalid argument to $limit stage: Expected an integer, but found NaN in: $limit: nan.0\n    at Connection.sendCommand (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\cmap\\connection.js:305:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Connection.command (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\cmap\\connection.js:333:26)\n    at async Server.command (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\sdam\\server.js:171:29)\n    at async AggregateOperation.executeCommand (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\operations\\command.js:76:16)\n    at async AggregateOperation.execute (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\operations\\aggregate.js:86:16)\n    at async tryOperation (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:207:20)\n    at async executeOperation (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async AggregationCursor._initialize (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\cursor\\aggregation_cursor.js:56:26)\n    at async AggregationCursor.cursorInit (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\cursor\\abstract_cursor.js:632:27)","timestamp":"2025-09-07 23:01:32"}
{"code":5107201,"codeName":"Location5107201","errorLabelSet":{},"errorResponse":{"code":5107201,"codeName":"Location5107201","errmsg":"invalid argument to $limit stage: Expected an integer, but found NaN in: $limit: nan.0","ok":0},"level":"error","message":"Get invoices error: invalid argument to $limit stage: Expected an integer, but found NaN in: $limit: nan.0","ok":0,"service":"user-service","stack":"MongoServerError: invalid argument to $limit stage: Expected an integer, but found NaN in: $limit: nan.0\n    at Connection.sendCommand (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\cmap\\connection.js:305:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Connection.command (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\cmap\\connection.js:333:26)\n    at async Server.command (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\sdam\\server.js:171:29)\n    at async AggregateOperation.executeCommand (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\operations\\command.js:76:16)\n    at async AggregateOperation.execute (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\operations\\aggregate.js:86:16)\n    at async tryOperation (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:207:20)\n    at async executeOperation (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async AggregationCursor._initialize (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\cursor\\aggregation_cursor.js:56:26)\n    at async AggregationCursor.cursorInit (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\cursor\\abstract_cursor.js:632:27)","timestamp":"2025-09-07 23:03:47"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-07 23:05:50"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-07 23:08:25"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-07 23:08:26"}
{"level":"error","message":"Delete appointment error: appointment.remove is not a function","service":"user-service","stack":"TypeError: appointment.remove is not a function\n    at file:///C:/Users/Admin/Documents/new/server/routes/appointments.js:148:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-07 23:30:04"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-07 23:56:47"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-08 20:06:33"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-08 20:06:34"}
{"kind":"ObjectId","level":"error","message":"Update user error: Cast to ObjectId failed for value \"change-password\" (type string) at path \"_id\" for model \"User\"","path":"_id","reason":{},"service":"user-service","stack":"CastError: Cast to ObjectId failed for value \"change-password\" (type string) at path \"_id\" for model \"User\"\n    at SchemaObjectId.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1258:12)\n    at SchemaType.castForQuery (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1694:17)\n    at cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\cast.js:390:32)\n    at Query.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:5060:12)\n    at Query._castConditions (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2374:10)\n    at model.Query._findOne (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2697:8)\n    at model.Query.exec (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:4627:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///C:/Users/Admin/Documents/new/server/routes/users.js:190:16","stringValue":"\"change-password\"","timestamp":"2025-09-08 20:17:58","value":"change-password","valueType":"string"}
{"kind":"ObjectId","level":"error","message":"Update user error: Cast to ObjectId failed for value \"profile\" (type string) at path \"_id\" for model \"User\"","path":"_id","reason":{},"service":"user-service","stack":"CastError: Cast to ObjectId failed for value \"profile\" (type string) at path \"_id\" for model \"User\"\n    at SchemaObjectId.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1258:12)\n    at SchemaType.castForQuery (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1694:17)\n    at cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\cast.js:390:32)\n    at Query.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:5060:12)\n    at Query._castConditions (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2374:10)\n    at model.Query._findOne (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2697:8)\n    at model.Query.exec (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:4627:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///C:/Users/Admin/Documents/new/server/routes/users.js:190:16","stringValue":"\"profile\"","timestamp":"2025-09-08 20:37:11","value":"profile","valueType":"string"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-08 20:52:50"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-08 20:56:18"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-08 20:56:18"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-08 21:08:15"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-08 21:08:18"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-08 21:08:19"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-08 21:18:33"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-08 21:18:37"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-08 21:18:37"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-08 21:34:22"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-08 21:34:26"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-08 21:34:26"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-09 18:21:48"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-09 18:21:48"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-09 18:30:30"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-09 18:30:33"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-09 18:30:33"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-09 18:35:11"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-09 18:35:16"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-09 18:35:16"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-09 18:36:37"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-09 18:36:42"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-09 18:36:42"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-09 18:43:39"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-09 18:43:43"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-09 18:43:43"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-09 18:45:10"}
{"level":"info","message":"MongoDB reconnected","service":"user-service","timestamp":"2025-09-09 18:45:20"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-09 18:46:27"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-09 18:46:45"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-09 18:46:45"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-09 18:48:45"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-09 18:48:45"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-09 18:56:51"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-09 18:56:57"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-09 18:56:57"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-09 19:03:42"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-09 19:03:55"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-09 19:03:55"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-09 19:04:57"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-09 19:05:04"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-09 19:05:04"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-09 19:21:31"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-09 19:21:31"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-09 19:34:06"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-10 19:21:54"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-10 19:21:56"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-10 19:23:47"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-11 16:22:26"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-11 16:22:29"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-11 17:46:33"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-11 17:46:43"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-11 17:46:43"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-14 15:52:36"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-14 15:52:36"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-16 01:50:50"}
{"cause":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{"localhost:27017":{"$clusterTime":null,"address":"localhost:27017","arbiters":[],"electionId":null,"error":null,"hosts":[],"iscryptd":false,"lastUpdateTime":121568943,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":null,"stale":false,"type":"Unknown"},"errorLabelSet":{},"level":"error","message":"Server selection timed out after 5000 ms","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{"localhost:27017":{"$clusterTime":null,"address":"localhost:27017","arbiters":[],"electionId":null,"error":null,"hosts":[],"iscryptd":false,"lastUpdateTime":121568943,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":null,"stale":false,"type":"Unknown"},"service":"user-service","stack":"MongooseServerSelectionError: Server selection timed out after 5000 ms\n    at _handleConnectionErrors (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\connection.js:1165:11)\n    at NativeConnection.openUri (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\connection.js:1096:11)\n    at async connectDB (file:///C:/Users/Admin/Documents/new/server/config/database.js:6:18)","timestamp":"2025-09-16 01:50:55"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-16 01:55:48"}
{"cause":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{"localhost:27017":{"$clusterTime":null,"address":"localhost:27017","arbiters":[],"electionId":null,"error":null,"hosts":[],"iscryptd":false,"lastUpdateTime":121866696,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":null,"stale":false,"type":"Unknown"},"errorLabelSet":{},"level":"error","message":"Server selection timed out after 5000 ms","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{"localhost:27017":{"$clusterTime":null,"address":"localhost:27017","arbiters":[],"electionId":null,"error":null,"hosts":[],"iscryptd":false,"lastUpdateTime":121866696,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":null,"stale":false,"type":"Unknown"},"service":"user-service","stack":"MongooseServerSelectionError: Server selection timed out after 5000 ms\n    at _handleConnectionErrors (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\connection.js:1165:11)\n    at NativeConnection.openUri (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\connection.js:1096:11)\n    at async connectDB (file:///C:/Users/Admin/Documents/new/server/config/database.js:6:18)","timestamp":"2025-09-16 01:55:53"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-16 02:04:45"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-16 02:04:45"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-16 02:14:16"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-16 02:14:28"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-16 02:14:28"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-16 02:21:37"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-16 02:21:40"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-16 02:21:40"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-16 15:38:15"}
{"level":"info","message":"MongoDB reconnected","service":"user-service","timestamp":"2025-09-16 15:38:37"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-16 17:33:44"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-16 17:33:59"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-16 17:33:59"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-16 17:47:05"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-16 17:47:09"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-16 17:47:09"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-16 17:50:48"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-16 17:50:51"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-16 17:50:51"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-16 17:57:01"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-16 17:57:04"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-16 17:57:04"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-16 22:32:26"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-16 22:32:42"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-16 22:32:42"}
{"level":"error","message":"Delete appointment error: appointment.remove is not a function","service":"user-service","stack":"TypeError: appointment.remove is not a function\n    at file:///C:/Users/Admin/Documents/new/server/routes/appointments.js:151:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-17 01:53:44"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-17 01:54:00"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-17 01:54:05"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-17 01:54:05"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-17 01:58:58"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-17 11:38:10"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-17 11:38:10"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-17 12:46:57"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-17 12:47:22"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-17 12:47:22"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-17 18:22:00"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-19 05:02:34"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-19 05:02:34"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-19 05:13:42"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-19 05:13:51"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-19 05:13:51"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-19 05:28:33"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-19 05:28:37"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-19 05:28:37"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-19 05:33:03"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-19 10:46:44"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-19 10:46:45"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-19 10:56:41"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-19 10:56:56"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-19 10:56:56"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-19 11:06:55"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-19 11:06:58"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-19 11:06:58"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-19 11:20:24"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-19 11:20:27"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-19 11:20:27"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-19 11:34:32"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-19 11:34:35"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-19 11:34:35"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-19 11:46:33"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-19 11:47:27"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-19 11:47:27"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-19 11:58:24"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-19 11:58:27"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-19 11:58:27"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-19 12:00:21"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-19 12:10:38"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-19 12:10:38"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-19 17:54:18"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-19 17:54:27"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-19 17:54:27"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-19 18:11:19"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-19 18:11:22"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-19 18:11:22"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-19 18:20:28"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-19 18:20:31"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-19 18:20:31"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-19 18:28:17"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-19 18:28:28"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-19 18:28:28"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-19 18:35:53"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-19 18:35:55"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-19 18:35:56"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-19 18:42:32"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-19 18:42:36"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-19 18:42:36"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-19 18:51:56"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-19 18:51:59"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-19 18:51:59"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-19 19:01:25"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-19 19:01:29"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-19 19:01:29"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-19 19:11:50"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-19 19:11:53"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-19 19:11:53"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-19 21:19:20"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-20 10:13:00"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-20 10:13:01"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-20 10:20:47"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-20 10:20:52"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-20 10:20:52"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-20 10:32:11"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-20 10:32:19"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-20 10:32:19"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-20 10:37:15"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-20 10:37:19"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-20 10:37:19"}
{"level":"info","message":"Sending payment receipt for payment PAY-20250920-0001","service":"user-service","timestamp":"2025-09-20 10:45:53"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-20 10:47:14"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-20 10:47:17"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-20 10:47:17"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-20 10:49:08"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-20 10:49:12"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-20 10:49:13"}
{"level":"info","message":"Sending payment receipt for payment PAY-20250920-0002","service":"user-service","timestamp":"2025-09-20 10:49:19"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-20 10:54:29"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-20 10:54:34"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-20 10:54:34"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-20 15:56:37"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-20 15:56:38"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-20 16:03:26"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-20 16:03:38"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-20 16:03:38"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-20 18:36:18"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-20 18:36:36"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-20 18:36:36"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-20 18:44:14"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-20 18:44:18"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-20 18:44:19"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-20 18:48:54"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-20 18:48:57"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-20 18:48:57"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-20 18:51:43"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-20 18:51:47"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-20 18:51:47"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-20 21:20:18"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-20 21:20:46"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-20 21:20:46"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-21 13:29:38"}
{"level":"info","message":"MongoDB reconnected","service":"user-service","timestamp":"2025-09-21 13:29:48"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-21 14:25:01"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-21 14:25:50"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-21 14:25:50"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-21 14:34:38"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-21 14:34:42"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-21 14:34:42"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-21 14:35:08"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-21 14:35:11"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-21 14:35:11"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-21 14:45:15"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-21 14:45:18"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-21 14:45:18"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-21 14:48:07"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-21 14:48:10"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-21 14:48:10"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-21 15:25:50"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-21 15:25:53"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-21 15:25:53"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-21 15:37:00"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-21 15:37:03"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-21 15:37:03"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-21 15:39:32"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-21 15:39:35"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-21 15:39:35"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-21 15:47:51"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-21 15:47:55"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-21 15:47:55"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-21 15:57:48"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-21 15:57:51"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-21 15:57:51"}
{"kind":"ObjectId","level":"error","message":"Get single visit error: Cast to ObjectId failed for value \"undefined\" (type string) at path \"_id\" for model \"Visit\"","path":"_id","reason":{},"service":"user-service","stack":"CastError: Cast to ObjectId failed for value \"undefined\" (type string) at path \"_id\" for model \"Visit\"\n    at SchemaObjectId.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1258:12)\n    at SchemaType.castForQuery (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1694:17)\n    at cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\cast.js:390:32)\n    at Query.cast (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:5060:12)\n    at Query._castConditions (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2374:10)\n    at model.Query._findOne (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:2697:8)\n    at model.Query.exec (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:4627:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///C:/Users/Admin/Documents/new/server/routes/visits.js:36:23","stringValue":"\"undefined\"","timestamp":"2025-09-21 16:45:18","value":"undefined","valueType":"string"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-21 16:46:01"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-21 16:46:04"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-21 16:46:04"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-21 16:47:58"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-22 00:24:11"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-22 00:24:11"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-22 00:34:12"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-22 00:34:12"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-22 02:10:35"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-22 02:11:06"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-22 02:11:06"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-22 02:35:10"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-22 02:35:13"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-22 02:35:13"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-22 02:57:29"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-22 02:57:33"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-22 02:57:33"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-22 02:58:37"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-22 02:58:42"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-22 02:58:42"}
{"level":"error","message":"Add lab order error: LabTest is not defined","service":"user-service","stack":"ReferenceError: LabTest is not defined\n    at file:///C:/Users/Admin/Documents/new/server/routes/visits.js:94:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-22 02:58:53"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-22 02:59:57"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-22 03:00:01"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-22 03:00:01"}
{"_message":"LabTest validation failed","errors":{"category":{"kind":"required","message":"Path `category` is required.","name":"ValidatorError","path":"category","properties":{"message":"Path `category` is required.","path":"category","type":"required"}},"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"message":"Path `name` is required.","path":"name","type":"required"}}},"level":"error","message":"Add lab order error: LabTest validation failed: category: Path `category` is required., name: Path `name` is required.","service":"user-service","stack":"ValidationError: LabTest validation failed: category: Path `category` is required., name: Path `name` is required.\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-22 03:01:10"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-22 03:02:23"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-22 03:02:27"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-22 03:02:27"}
{"_message":"Visit validation failed","errors":{"labOrders.0.testName":{"kind":"required","message":"Path `testName` is required.","name":"ValidatorError","path":"testName","properties":{"message":"Path `testName` is required.","path":"testName","type":"required"}}},"level":"error","message":"Add lab order error: Visit validation failed: labOrders.0.testName: Path `testName` is required.","service":"user-service","stack":"ValidationError: Visit validation failed: labOrders.0.testName: Path `testName` is required.\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at Subdocument.invalidate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\types\\subdocument.js:229:12)\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-22 03:02:39"}
{"_message":"Visit validation failed","errors":{"labOrders.0.testName":{"kind":"required","message":"Path `testName` is required.","name":"ValidatorError","path":"testName","properties":{"message":"Path `testName` is required.","path":"testName","type":"required"}}},"level":"error","message":"Add lab order error: Visit validation failed: labOrders.0.testName: Path `testName` is required.","service":"user-service","stack":"ValidationError: Visit validation failed: labOrders.0.testName: Path `testName` is required.\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at Subdocument.invalidate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\types\\subdocument.js:229:12)\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-22 03:03:25"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-22 03:06:54"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-22 03:06:57"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-22 03:06:57"}
{"_message":"Visit validation failed","errors":{"labOrders.0.testName":{"kind":"required","message":"Path `testName` is required.","name":"ValidatorError","path":"testName","properties":{"message":"Path `testName` is required.","path":"testName","type":"required"}}},"level":"error","message":"Add lab order error: Visit validation failed: labOrders.0.testName: Path `testName` is required.","service":"user-service","stack":"ValidationError: Visit validation failed: labOrders.0.testName: Path `testName` is required.\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at Subdocument.invalidate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\types\\subdocument.js:229:12)\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-22 03:07:10"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-22 03:14:01"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-22 03:14:04"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-22 03:14:04"}
{"_message":"Visit validation failed","errors":{"labOrders.0.status":{"kind":"enum","message":"`Pending` is not a valid enum value for path `status`.","name":"ValidatorError","path":"status","properties":{"enumValues":["ordered","completed","cancelled"],"length":7,"message":"`Pending` is not a valid enum value for path `status`.","path":"status","type":"enum","value":"Pending"},"value":"Pending"}},"level":"error","message":"Add lab order error: Visit validation failed: labOrders.0.status: `Pending` is not a valid enum value for path `status`.","service":"user-service","stack":"ValidationError: Visit validation failed: labOrders.0.status: `Pending` is not a valid enum value for path `status`.\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at Subdocument.invalidate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\types\\subdocument.js:229:12)\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-22 03:14:16"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-22 03:15:55"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-22 03:15:58"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-22 03:15:58"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-22 03:36:05"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-22 03:37:27"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-22 03:37:27"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-22 03:38:38"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-22 03:38:42"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-22 03:38:42"}
{"_message":"Visit validation failed","errors":{"labOrders.0.patient":{"kind":"required","message":"Path `patient` is required.","name":"ValidatorError","path":"patient","properties":{"message":"Path `patient` is required.","path":"patient","type":"required"}},"labOrders.0.status":{"kind":"enum","message":"`Ordered` is not a valid enum value for path `status`.","name":"ValidatorError","path":"status","properties":{"enumValues":["Pending","Completed","Cancelled"],"length":7,"message":"`Ordered` is not a valid enum value for path `status`.","path":"status","type":"enum","value":"Ordered"},"value":"Ordered"}},"level":"error","message":"Add lab order error: Visit validation failed: labOrders.0.patient: Path `patient` is required., labOrders.0.status: `Ordered` is not a valid enum value for path `status`.","service":"user-service","stack":"ValidationError: Visit validation failed: labOrders.0.patient: Path `patient` is required., labOrders.0.status: `Ordered` is not a valid enum value for path `status`.\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at Subdocument.invalidate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\types\\subdocument.js:229:12)\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-22 03:39:12"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-22 03:47:25"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-22 03:47:29"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-22 03:47:29"}
{"level":"error","message":"Add lab order error: status is not defined","service":"user-service","stack":"ReferenceError: status is not defined\n    at file:///C:/Users/Admin/Documents/new/server/routes/visits.js:99:21\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-22 03:48:13"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-22 03:49:11"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-22 03:49:14"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-22 03:49:14"}
{"_message":"Visit validation failed","errors":{"labOrders.0.patient":{"kind":"required","message":"Path `patient` is required.","name":"ValidatorError","path":"patient","properties":{"message":"Path `patient` is required.","path":"patient","type":"required"}},"labOrders.0.status":{"kind":"enum","message":"`Ordered` is not a valid enum value for path `status`.","name":"ValidatorError","path":"status","properties":{"enumValues":["Pending","Completed","Cancelled"],"length":7,"message":"`Ordered` is not a valid enum value for path `status`.","path":"status","type":"enum","value":"Ordered"},"value":"Ordered"}},"level":"error","message":"Add lab order error: Visit validation failed: labOrders.0.patient: Path `patient` is required., labOrders.0.status: `Ordered` is not a valid enum value for path `status`.","service":"user-service","stack":"ValidationError: Visit validation failed: labOrders.0.patient: Path `patient` is required., labOrders.0.status: `Ordered` is not a valid enum value for path `status`.\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at Subdocument.invalidate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\types\\subdocument.js:229:12)\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-22 03:49:26"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-22 03:58:19"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-22 03:58:23"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-22 03:58:23"}
{"_message":"Visit validation failed","errors":{"labOrders.0.patient":{"kind":"required","message":"Path `patient` is required.","name":"ValidatorError","path":"patient","properties":{"message":"Path `patient` is required.","path":"patient","type":"required"}},"labOrders.0.status":{"kind":"enum","message":"`Ordered` is not a valid enum value for path `status`.","name":"ValidatorError","path":"status","properties":{"enumValues":["Pending","Completed","Cancelled"],"length":7,"message":"`Ordered` is not a valid enum value for path `status`.","path":"status","type":"enum","value":"Ordered"},"value":"Ordered"}},"level":"error","message":"Add lab order error: Visit validation failed: labOrders.0.patient: Path `patient` is required., labOrders.0.status: `Ordered` is not a valid enum value for path `status`.","service":"user-service","stack":"ValidationError: Visit validation failed: labOrders.0.patient: Path `patient` is required., labOrders.0.status: `Ordered` is not a valid enum value for path `status`.\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at Subdocument.invalidate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\types\\subdocument.js:229:12)\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-22 03:58:34"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-22 04:06:39"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-22 04:06:43"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-22 04:06:43"}
{"_message":"Visit validation failed","errors":{"labOrders.0.patient":{"kind":"required","message":"Path `patient` is required.","name":"ValidatorError","path":"patient","properties":{"message":"Path `patient` is required.","path":"patient","type":"required"}},"labOrders.0.status":{"kind":"enum","message":"`Ordered` is not a valid enum value for path `status`.","name":"ValidatorError","path":"status","properties":{"enumValues":["Pending","Completed","Cancelled"],"length":7,"message":"`Ordered` is not a valid enum value for path `status`.","path":"status","type":"enum","value":"Ordered"},"value":"Ordered"}},"level":"error","message":"Add lab order error: Visit validation failed: labOrders.0.patient: Path `patient` is required., labOrders.0.status: `Ordered` is not a valid enum value for path `status`.","service":"user-service","stack":"ValidationError: Visit validation failed: labOrders.0.patient: Path `patient` is required., labOrders.0.status: `Ordered` is not a valid enum value for path `status`.\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at Subdocument.invalidate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\types\\subdocument.js:229:12)\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-22 04:07:25"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-22 04:08:33"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-22 11:01:52"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-22 11:01:52"}
{"level":"info","message":"Sending payment receipt for payment PAY-20250922-0001","service":"user-service","timestamp":"2025-09-22 11:17:05"}
{"level":"info","message":"Visit 68d105c101b7c2862526a415 activated for invoice INV-202509-00007","service":"user-service","timestamp":"2025-09-22 11:17:06"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-22 11:19:38"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-22 11:20:20"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-22 11:20:20"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-22 16:47:26"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-22 16:47:34"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-22 16:47:34"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-22 17:13:38"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-22 17:13:41"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-22 17:13:41"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-22 17:24:58"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-22 17:25:01"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-22 17:25:01"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-22 17:29:32"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-22 17:29:35"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-22 17:29:35"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-22 17:54:27"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-22 17:54:30"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-22 17:54:30"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-22 17:55:03"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-23 00:01:17"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-23 00:01:17"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-23 01:31:24"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-23 01:33:35"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-23 01:33:35"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-23 02:34:50"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-23 02:35:07"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-23 02:35:07"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-23 02:36:56"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-23 02:46:20"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-23 02:46:20"}
{"level":"error","message":"Delete appointment error: appointment.remove is not a function","service":"user-service","stack":"TypeError: appointment.remove is not a function\n    at file:///C:/Users/Admin/Documents/new/server/routes/appointments.js:151:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-23 03:13:02"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-23 03:16:38"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-23 03:16:43"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-23 03:16:43"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-23 03:51:53"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-23 04:00:17"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-23 04:00:17"}
{"error":"nodemailer.createTransporter is not a function","level":"error","message":"Email sending error:","recipient":"johnsonemmanuel1425@gmail.com","service":"user-service","stack":"TypeError: nodemailer.createTransporter is not a function\n    at sendEmail (file:///C:/Users/Admin/Documents/new/server/utils/sendEmail.js:6:36)\n    at file:///C:/Users/Admin/Documents/new/server/routes/auth.js:194:13\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","subject":"Password Reset","timestamp":"2025-09-23 04:10:27"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-23 04:12:50"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-23 04:12:54"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-23 04:12:54"}
{"level":"info","message":"SMTP connection verified successfully","service":"user-service","timestamp":"2025-09-23 04:13:10"}
{"level":"info","message":"Email sent successfully to johnsonemmanuel1425@gmail.com. Message ID: <dffbf207-2eb6-0d8a-83ac-64af1c880096@gmail.com>","service":"user-service","timestamp":"2025-09-23 04:13:14"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-23 04:21:32"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-23 04:21:38"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-23 04:21:38"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-23 04:25:30"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-23 04:25:34"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-23 04:25:34"}
{"level":"info","message":"SMTP connection verified successfully","service":"user-service","timestamp":"2025-09-23 04:29:26"}
{"level":"info","message":"Email sent successfully to johnsonemmanuel1425@gmail.com. Message ID: <a1951570-de8e-7263-774b-239a6a2a863a@gmail.com>","service":"user-service","timestamp":"2025-09-23 04:29:29"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-23 05:12:57"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-23 05:13:23"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-23 05:13:23"}
{"level":"info","message":"SMTP connection verified successfully","service":"user-service","timestamp":"2025-09-23 05:14:52"}
{"level":"info","message":"Email sent successfully to johnsonemmanuel1425@gmail.com. Message ID: <afcce050-ec9a-ea81-62e7-bafecb4335e4@gmail.com>","service":"user-service","timestamp":"2025-09-23 05:14:55"}
{"level":"info","message":"SMTP connection verified successfully","service":"user-service","timestamp":"2025-09-23 05:18:13"}
{"level":"info","message":"Email sent successfully to johnsonemmanuel1425@gmail.com. Message ID: <3b564dc3-d00e-1c85-77c6-fe5788a05b30@gmail.com>","service":"user-service","timestamp":"2025-09-23 05:18:17"}
{"level":"info","message":"SMTP connection verified successfully","service":"user-service","timestamp":"2025-09-23 05:20:15"}
{"level":"info","message":"Email sent successfully to johnsonemmanuel1425@gmail.com. Message ID: <31babbd6-671d-2d67-29ae-051967bfe7f1@gmail.com>","service":"user-service","timestamp":"2025-09-23 05:20:18"}
{"level":"info","message":"SMTP connection verified successfully","service":"user-service","timestamp":"2025-09-23 05:21:52"}
{"level":"info","message":"Email sent successfully to johnsonemmanuel1425@gmail.com. Message ID: <4b5331a2-7974-3316-0cfa-1f1ca9b916fc@gmail.com>","service":"user-service","timestamp":"2025-09-23 05:21:55"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-23 05:52:34"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-23 12:30:49"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-23 12:30:49"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-23 19:37:49"}
{"level":"info","message":"MongoDB reconnected","service":"user-service","timestamp":"2025-09-23 19:37:59"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-24 12:02:20"}
{"level":"info","message":"MongoDB reconnected","service":"user-service","timestamp":"2025-09-24 12:02:31"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-24 12:28:42"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-24 12:29:09"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-24 12:29:09"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-24 14:23:43"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-24 14:23:58"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-24 14:23:58"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-24 14:36:54"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-24 14:37:00"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-24 14:37:00"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-24 15:54:52"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-24 15:54:56"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-24 15:54:56"}
{"level":"error","message":"Corpse registration error: dateOfBirth is not defined","service":"user-service","stack":"ReferenceError: dateOfBirth is not defined\n    at file:///C:/Users/Admin/Documents/new/server/routes/corpses.js:35:7\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:88:5\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)","timestamp":"2025-09-24 15:55:00"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-24 15:56:24"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-24 15:56:27"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-24 15:56:27"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-24 16:04:09"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-24 16:04:12"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-24 16:04:12"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-24 16:27:23"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-24 16:27:26"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-24 16:27:26"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-24 17:17:20"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-24 17:17:26"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-24 17:17:26"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-24 19:01:09"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-24 19:01:43"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-24 19:01:43"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-24 19:03:33"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-24 19:03:37"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-24 19:03:37"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-24 19:10:22"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-24 19:10:26"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-24 19:10:26"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-24 19:14:35"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-24 19:14:40"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-24 19:14:40"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-24 19:15:34"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-24 19:15:38"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-24 19:15:38"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-25 00:45:27"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-25 00:47:56"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-25 00:47:56"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-25 02:45:40"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-25 02:46:59"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-25 02:47:00"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-25 02:57:36"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-25 02:57:44"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-25 02:57:44"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-25 04:12:53"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-25 11:29:26"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-25 11:29:27"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-25 12:23:29"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-25 12:23:40"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-25 12:23:40"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-25 15:10:46"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-25 15:11:42"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-25 15:11:42"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-25 20:09:14"}
{"level":"info","message":"MongoDB reconnected","service":"user-service","timestamp":"2025-09-25 20:09:24"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-25 20:10:34"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-25 20:11:21"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-25 20:11:21"}
{"level":"info","message":"Doctor 68b464ef446fab3d7288aa73 started visit 68d105c101b7c2862526a415","service":"user-service","timestamp":"2025-09-25 20:30:32"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-26 00:17:16"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-26 00:17:58"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-26 00:17:58"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-26 00:25:16"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-26 00:25:19"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-26 00:25:19"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-26 00:34:36"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-26 00:34:39"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-26 00:34:40"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-26 00:49:07"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-26 11:03:54"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-26 11:03:54"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-27 01:48:37"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-27 01:48:57"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-27 01:48:57"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-27 01:52:13"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-27 12:02:12"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-27 12:02:12"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-27 13:18:55"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-27 13:18:55"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-27 13:46:48"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-27 13:47:01"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-27 13:47:01"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-27 13:58:40"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-27 13:58:43"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-27 13:58:43"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-27 14:24:54"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-27 14:25:04"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-27 14:25:04"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-27 14:42:54"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-27 14:42:57"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-27 14:42:57"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-27 14:50:40"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-27 14:50:43"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-27 14:50:43"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-27 14:55:01"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-27 14:55:06"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-27 14:55:06"}
{"level":"info","message":"Sending payment receipt for payment PAY-20250927-0001","service":"user-service","timestamp":"2025-09-27 14:55:51"}
{"level":"info","message":"Visit 68d7d0bfb36a87d70b41ba01 activated for invoice INV-202509-00008","service":"user-service","timestamp":"2025-09-27 14:55:51"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-27 14:58:11"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-27 14:58:18"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-27 14:58:18"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-27 15:18:53"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-27 15:18:57"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-27 15:18:57"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-27 16:26:18"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-27 16:26:27"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-27 16:26:27"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-27 16:35:24"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-27 16:35:29"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-27 16:35:29"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-27 16:43:55"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-27 16:43:59"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-27 16:43:59"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-27 16:45:11"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-27 16:45:55"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-27 16:45:55"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-27 18:09:23"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-27 18:09:48"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-27 18:09:48"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-27 18:15:34"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-27 18:15:38"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-27 18:15:38"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-27 20:29:45"}
{"level":"info","message":"MongoDB reconnected","service":"user-service","timestamp":"2025-09-27 20:29:55"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-27 21:01:27"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-27 21:01:30"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-27 21:01:30"}
{"level":"error","message":"ValidationError: LabTest validation failed: orderedBy: Path `orderedBy` is required., patient: Path `patient` is required.\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","service":"user-service","timestamp":"2025-09-27 21:02:23"}
{"level":"error","message":"ValidationError: LabTest validation failed: orderedBy: Path `orderedBy` is required., patient: Path `patient` is required.\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","service":"user-service","timestamp":"2025-09-27 21:02:33"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-27 21:09:30"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-27 21:14:34"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-27 21:14:34"}
{"level":"error","message":"ValidationError: LabTest validation failed: orderedBy: Path `orderedBy` is required., patient: Path `patient` is required.\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","service":"user-service","timestamp":"2025-09-27 21:15:40"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-27 21:16:10"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-27 21:16:13"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-27 21:16:13"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-27 21:19:57"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-27 21:20:00"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-27 21:20:00"}
{"level":"info","message":"Sending payment receipt for payment PAY-20250927-0002","service":"user-service","timestamp":"2025-09-27 21:21:07"}
{"level":"info","message":"Sending payment receipt for payment PAY-20250927-0003","service":"user-service","timestamp":"2025-09-27 21:21:19"}
{"level":"info","message":"Sending payment receipt for payment PAY-20250927-0004","service":"user-service","timestamp":"2025-09-27 21:21:24"}
{"level":"info","message":"Sending payment receipt for payment PAY-20250927-0005","service":"user-service","timestamp":"2025-09-27 21:21:29"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-27 21:22:19"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-27 21:22:22"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-27 21:22:22"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-28 11:30:32"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-28 11:30:32"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-28 15:08:34"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-29 23:11:05"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-29 23:11:05"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-29 23:34:35"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-29 23:34:49"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-29 23:34:49"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-29 23:36:13"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-29 23:36:20"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-29 23:36:20"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-29 23:37:40"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-29 23:37:43"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-29 23:37:43"}
{"code":11000,"codeName":"DuplicateKey","errorLabelSet":{},"errorResponse":{"code":11000,"codeName":"DuplicateKey","errmsg":"Plan executor error during findAndModify :: caused by :: E11000 duplicate key error collection: hospital_management.users index: email_1 dup key: { email: \"carlminaj@gmail.com\" }","keyPattern":{"email":1},"keyValue":{"email":"carlminaj@gmail.com"},"ok":0},"keyPattern":{"email":1},"keyValue":{"email":"carlminaj@gmail.com"},"level":"error","message":"Update user error: Plan executor error during findAndModify :: caused by :: E11000 duplicate key error collection: hospital_management.users index: email_1 dup key: { email: \"carlminaj@gmail.com\" }","ok":0,"service":"user-service","stack":"MongoServerError: Plan executor error during findAndModify :: caused by :: E11000 duplicate key error collection: hospital_management.users index: email_1 dup key: { email: \"carlminaj@gmail.com\" }\n    at Connection.sendCommand (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\cmap\\connection.js:305:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Connection.command (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\cmap\\connection.js:333:26)\n    at async Server.command (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\sdam\\server.js:171:29)\n    at async FindOneAndUpdateOperation.executeCommand (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\operations\\command.js:76:16)\n    at async FindOneAndUpdateOperation.execute (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\operations\\find_and_modify.js:85:24)\n    at async tryOperation (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:207:20)\n    at async executeOperation (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async Collection.findOneAndUpdate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\collection.js:500:16)\n    at async model.Query._findOneAndUpdate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:3536:13)","timestamp":"2025-09-29 23:37:48"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-29 23:39:18"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-29 23:39:21"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-29 23:39:21"}
{"code":11000,"codeName":"DuplicateKey","errorLabelSet":{},"errorResponse":{"code":11000,"codeName":"DuplicateKey","errmsg":"Plan executor error during findAndModify :: caused by :: E11000 duplicate key error collection: hospital_management.users index: email_1 dup key: { email: \"carlminaj@gmail.com\" }","keyPattern":{"email":1},"keyValue":{"email":"carlminaj@gmail.com"},"ok":0},"keyPattern":{"email":1},"keyValue":{"email":"carlminaj@gmail.com"},"level":"error","message":"Update user error: Plan executor error during findAndModify :: caused by :: E11000 duplicate key error collection: hospital_management.users index: email_1 dup key: { email: \"carlminaj@gmail.com\" }","ok":0,"service":"user-service","stack":"MongoServerError: Plan executor error during findAndModify :: caused by :: E11000 duplicate key error collection: hospital_management.users index: email_1 dup key: { email: \"carlminaj@gmail.com\" }\n    at Connection.sendCommand (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\cmap\\connection.js:305:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Connection.command (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\cmap\\connection.js:333:26)\n    at async Server.command (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\sdam\\server.js:171:29)\n    at async FindOneAndUpdateOperation.executeCommand (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\operations\\command.js:76:16)\n    at async FindOneAndUpdateOperation.execute (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\operations\\find_and_modify.js:85:24)\n    at async tryOperation (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:207:20)\n    at async executeOperation (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async Collection.findOneAndUpdate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\collection.js:500:16)\n    at async model.Query._findOneAndUpdate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:3536:13)","timestamp":"2025-09-29 23:39:26"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-29 23:40:37"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-29 23:40:41"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-29 23:40:41"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-29 23:44:49"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-30 10:11:58"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-30 10:11:58"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-30 10:24:14"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-30 10:24:18"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-30 10:24:18"}
{"code":11000,"codeName":"DuplicateKey","errorLabelSet":{},"errorResponse":{"code":11000,"codeName":"DuplicateKey","errmsg":"Plan executor error during findAndModify :: caused by :: E11000 duplicate key error collection: hospital_management.users index: email_1 dup key: { email: \"aminashabani227@gmail.com\" }","keyPattern":{"email":1},"keyValue":{"email":"aminashabani227@gmail.com"},"ok":0},"keyPattern":{"email":1},"keyValue":{"email":"aminashabani227@gmail.com"},"level":"error","message":"Update user error: Plan executor error during findAndModify :: caused by :: E11000 duplicate key error collection: hospital_management.users index: email_1 dup key: { email: \"aminashabani227@gmail.com\" }","ok":0,"service":"user-service","stack":"MongoServerError: Plan executor error during findAndModify :: caused by :: E11000 duplicate key error collection: hospital_management.users index: email_1 dup key: { email: \"aminashabani227@gmail.com\" }\n    at Connection.sendCommand (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\cmap\\connection.js:305:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Connection.command (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\cmap\\connection.js:333:26)\n    at async Server.command (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\sdam\\server.js:171:29)\n    at async FindOneAndUpdateOperation.executeCommand (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\operations\\command.js:76:16)\n    at async FindOneAndUpdateOperation.execute (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\operations\\find_and_modify.js:85:24)\n    at async tryOperation (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:207:20)\n    at async executeOperation (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async Collection.findOneAndUpdate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\collection.js:500:16)\n    at async model.Query._findOneAndUpdate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:3536:13)","timestamp":"2025-09-30 10:25:04"}
{"code":11000,"codeName":"DuplicateKey","errorLabelSet":{},"errorResponse":{"code":11000,"codeName":"DuplicateKey","errmsg":"Plan executor error during findAndModify :: caused by :: E11000 duplicate key error collection: hospital_management.users index: email_1 dup key: { email: \"aminashabani227@gmail.com\" }","keyPattern":{"email":1},"keyValue":{"email":"aminashabani227@gmail.com"},"ok":0},"keyPattern":{"email":1},"keyValue":{"email":"aminashabani227@gmail.com"},"level":"error","message":"Update user error: Plan executor error during findAndModify :: caused by :: E11000 duplicate key error collection: hospital_management.users index: email_1 dup key: { email: \"aminashabani227@gmail.com\" }","ok":0,"service":"user-service","stack":"MongoServerError: Plan executor error during findAndModify :: caused by :: E11000 duplicate key error collection: hospital_management.users index: email_1 dup key: { email: \"aminashabani227@gmail.com\" }\n    at Connection.sendCommand (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\cmap\\connection.js:305:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Connection.command (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\cmap\\connection.js:333:26)\n    at async Server.command (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\sdam\\server.js:171:29)\n    at async FindOneAndUpdateOperation.executeCommand (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\operations\\command.js:76:16)\n    at async FindOneAndUpdateOperation.execute (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\operations\\find_and_modify.js:85:24)\n    at async tryOperation (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:207:20)\n    at async executeOperation (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async Collection.findOneAndUpdate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongodb\\lib\\collection.js:500:16)\n    at async model.Query._findOneAndUpdate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\query.js:3536:13)","timestamp":"2025-09-30 10:26:48"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-30 10:27:01"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-30 10:27:04"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-30 10:27:04"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-30 10:36:07"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-30 10:36:10"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-30 10:36:10"}
{"code":"EDNS","command":"CONN","error":"getaddrinfo ENOTFOUND smtp.gmail.com","level":"error","message":"Email sending error:","recipient":"jamesndagi@gmail.com","service":"user-service","stack":"Error: getaddrinfo ENOTFOUND smtp.gmail.com\n    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)","subject":"Email Verification","timestamp":"2025-09-30 10:48:39"}
{"level":"error","message":"Verification email error: Failed to send email: getaddrinfo ENOTFOUND smtp.gmail.com","service":"user-service","stack":"Error: Failed to send email: getaddrinfo ENOTFOUND smtp.gmail.com\n    at sendEmail (file:///C:/Users/Admin/Documents/new/server/utils/sendEmail.js:58:11)\n    at async file:///C:/Users/Admin/Documents/new/server/routes/users.js:102:9","timestamp":"2025-09-30 10:48:39"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-30 10:49:58"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-30 10:50:45"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-30 10:50:45"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-30 19:05:04"}
{"level":"info","message":"MongoDB reconnected","service":"user-service","timestamp":"2025-09-30 19:05:14"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-30 19:49:22"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-09-30 19:49:38"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-09-30 19:49:38"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-09-30 22:39:08"}
{"level":"info","message":"MongoDB reconnected","service":"user-service","timestamp":"2025-09-30 22:39:19"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-01 04:31:41"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-01 04:32:32"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-01 04:32:32"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-01 05:19:00"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-01 05:19:23"}
{"level":"warn","message":"Security: Running in development mode - ensure HTTPS in production","service":"user-service","timestamp":"2025-10-01 05:19:23"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-01 05:19:23"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-01 05:25:06"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-01 05:25:09"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-01 05:25:09"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-01 05:26:00"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-01 05:26:05"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-01 05:26:05"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-01 05:26:36"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-01 11:44:51"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-01 11:44:51"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-01 11:49:46"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-01 11:49:51"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-01 11:49:51"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-01 14:35:14"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-01 14:35:14"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-01 15:04:51"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-01 15:05:15"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-01 15:05:15"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-01 15:30:52"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-01 15:30:55"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-01 15:30:55"}
{"_message":"RadiologyRequest validation failed","errors":{"scanType":{"kind":"required","message":"Please specify the scan type","name":"ValidatorError","path":"scanType","properties":{"message":"Please specify the scan type","path":"scanType","type":"required"}}},"level":"error","message":"Create radiology request error: RadiologyRequest validation failed: scanType: Please specify the scan type","service":"user-service","stack":"ValidationError: RadiologyRequest validation failed: scanType: Please specify the scan type\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-10-01 15:33:12"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-01 15:37:48"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-01 15:37:57"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-01 15:37:57"}
{"_message":"RadiologyRequest validation failed","errors":{"patient":{"kind":"required","message":"Path `patient` is required.","name":"ValidatorError","path":"patient","properties":{"message":"Path `patient` is required.","path":"patient","type":"required"}},"scanType":{"kind":"required","message":"Please specify the scan type","name":"ValidatorError","path":"scanType","properties":{"message":"Please specify the scan type","path":"scanType","type":"required"}}},"level":"error","message":"Create radiology request error: RadiologyRequest validation failed: scanType: Please specify the scan type, patient: Path `patient` is required.","service":"user-service","stack":"ValidationError: RadiologyRequest validation failed: scanType: Please specify the scan type, patient: Path `patient` is required.\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-10-01 15:38:31"}
{"_message":"RadiologyRequest validation failed","errors":{"bodyPart":{"kind":"required","message":"Please specify the body part to be scanned","name":"ValidatorError","path":"bodyPart","properties":{"message":"Please specify the body part to be scanned","path":"bodyPart","type":"required"}},"reason":{"kind":"required","message":"Please provide a reason for the scan","name":"ValidatorError","path":"reason","properties":{"message":"Please provide a reason for the scan","path":"reason","type":"required"}},"scanType":{"kind":"required","message":"Please specify the scan type","name":"ValidatorError","path":"scanType","properties":{"message":"Please specify the scan type","path":"scanType","type":"required"}}},"level":"error","message":"Create radiology request error: RadiologyRequest validation failed: reason: Please provide a reason for the scan, bodyPart: Please specify the body part to be scanned, scanType: Please specify the scan type","service":"user-service","stack":"ValidationError: RadiologyRequest validation failed: reason: Please provide a reason for the scan, bodyPart: Please specify the body part to be scanned, scanType: Please specify the scan type\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-10-01 15:41:36"}
{"_message":"RadiologyRequest validation failed","errors":{"bodyPart":{"kind":"required","message":"Please specify the body part to be scanned","name":"ValidatorError","path":"bodyPart","properties":{"message":"Please specify the body part to be scanned","path":"bodyPart","type":"required"}},"reason":{"kind":"required","message":"Please provide a reason for the scan","name":"ValidatorError","path":"reason","properties":{"message":"Please provide a reason for the scan","path":"reason","type":"required"}},"scanType":{"kind":"required","message":"Please specify the scan type","name":"ValidatorError","path":"scanType","properties":{"message":"Please specify the scan type","path":"scanType","type":"required"}}},"level":"error","message":"Create radiology request error: RadiologyRequest validation failed: reason: Please provide a reason for the scan, bodyPart: Please specify the body part to be scanned, scanType: Please specify the scan type","service":"user-service","stack":"ValidationError: RadiologyRequest validation failed: reason: Please provide a reason for the scan, bodyPart: Please specify the body part to be scanned, scanType: Please specify the scan type\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-10-01 15:45:49"}
{"_message":"RadiologyRequest validation failed","errors":{"bodyPart":{"kind":"required","message":"Please specify the body part to be scanned","name":"ValidatorError","path":"bodyPart","properties":{"message":"Please specify the body part to be scanned","path":"bodyPart","type":"required"}},"reason":{"kind":"required","message":"Please provide a reason for the scan","name":"ValidatorError","path":"reason","properties":{"message":"Please provide a reason for the scan","path":"reason","type":"required"}},"scanType":{"kind":"required","message":"Please specify the scan type","name":"ValidatorError","path":"scanType","properties":{"message":"Please specify the scan type","path":"scanType","type":"required"}}},"level":"error","message":"Create radiology request error: RadiologyRequest validation failed: reason: Please provide a reason for the scan, bodyPart: Please specify the body part to be scanned, scanType: Please specify the scan type","service":"user-service","stack":"ValidationError: RadiologyRequest validation failed: reason: Please provide a reason for the scan, bodyPart: Please specify the body part to be scanned, scanType: Please specify the scan type\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\mongoose\\lib\\schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-10-01 15:46:34"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-01 15:55:01"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-01 15:55:08"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-01 15:55:08"}
{"level":"error","message":"Create radiology request error: orderData is not defined","service":"user-service","stack":"ReferenceError: orderData is not defined\n    at createRadiologyRequest (file:///C:/Users/Admin/Documents/new/server/controllers/radiologyController.js:10:7)\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:88:5\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:145:7)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:145:7)","timestamp":"2025-10-01 15:55:21"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-01 15:56:33"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-01 15:56:37"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-01 15:56:37"}
{"level":"error","message":"Create radiology request error: patient is not defined","service":"user-service","stack":"ReferenceError: patient is not defined\n    at createRadiologyRequest (file:///C:/Users/Admin/Documents/new/server/controllers/radiologyController.js:11:7)\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:88:5\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:145:7)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:145:7)","timestamp":"2025-10-01 15:56:52"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-01 15:57:12"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-01 15:57:16"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-01 15:57:16"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-01 15:58:26"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-01 15:58:31"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-01 15:58:31"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-01 16:08:53"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-01 16:08:56"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-01 16:08:56"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-02 11:00:09"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-02 11:00:37"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-02 11:00:38"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-02 11:02:33"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-02 11:02:36"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-02 11:02:36"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-02 12:54:12"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-02 12:55:59"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-02 12:55:59"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-02 14:15:16"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-02 14:15:28"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-02 14:15:28"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-02 14:28:12"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-02 14:28:16"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-02 14:28:16"}
{"level":"error","message":"Get medicine by ID error Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle","service":"user-service","stack":"TypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle\n    at JSON.stringify (<anonymous>)\n    at stringify (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\response.js:1160:12)\n    at ServerResponse.json (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\response.js:271:14)\n    at file:///C:/Users/Admin/Documents/new/server/routes/medications.js:72:21\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:88:5\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-10-02 14:31:30"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-02 14:31:52"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-02 14:31:56"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-02 14:31:56"}
{"level":"error","message":"Get medicine by ID error Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle","service":"user-service","stack":"TypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle\n    at JSON.stringify (<anonymous>)\n    at stringify (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\response.js:1160:12)\n    at ServerResponse.json (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\response.js:271:14)\n    at file:///C:/Users/Admin/Documents/new/server/routes/medications.js:72:21\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:88:5\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-10-02 14:32:03"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-02 14:33:04"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-02 14:33:07"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-02 14:33:07"}
{"level":"error","message":"Get medicine by ID error Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle","service":"user-service","stack":"TypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle\n    at JSON.stringify (<anonymous>)\n    at stringify (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\response.js:1160:12)\n    at ServerResponse.json (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\response.js:271:14)\n    at file:///C:/Users/Admin/Documents/new/server/routes/medications.js:72:21\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:88:5\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-10-02 14:33:10"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-02 14:35:33"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-02 14:35:37"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-02 14:35:37"}
{"level":"error","message":"Get medicine by ID error Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle","service":"user-service","stack":"TypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle\n    at JSON.stringify (<anonymous>)\n    at stringify (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\response.js:1160:12)\n    at ServerResponse.json (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\response.js:271:14)\n    at file:///C:/Users/Admin/Documents/new/server/routes/medications.js:72:21\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:88:5\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-10-02 14:35:40"}
{"level":"error","message":"Get medicine by ID error Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle","service":"user-service","stack":"TypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle\n    at JSON.stringify (<anonymous>)\n    at stringify (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\response.js:1160:12)\n    at ServerResponse.json (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\response.js:271:14)\n    at file:///C:/Users/Admin/Documents/new/server/routes/medications.js:72:21\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:88:5\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-10-02 14:35:45"}
{"level":"error","message":"Get medicine by ID error Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle","service":"user-service","stack":"TypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle\n    at JSON.stringify (<anonymous>)\n    at stringify (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\response.js:1160:12)\n    at ServerResponse.json (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\response.js:271:14)\n    at file:///C:/Users/Admin/Documents/new/server/routes/medications.js:72:21\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:88:5\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-10-02 14:36:03"}
{"level":"error","message":"Get medicine by ID error Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle","service":"user-service","stack":"TypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle\n    at JSON.stringify (<anonymous>)\n    at stringify (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\response.js:1160:12)\n    at ServerResponse.json (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\response.js:271:14)\n    at file:///C:/Users/Admin/Documents/new/server/routes/medications.js:72:21\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:88:5\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-10-02 14:36:17"}
{"level":"error","message":"Get medicine by ID error Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle","service":"user-service","stack":"TypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle\n    at JSON.stringify (<anonymous>)\n    at stringify (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\response.js:1160:12)\n    at ServerResponse.json (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\response.js:271:14)\n    at file:///C:/Users/Admin/Documents/new/server/routes/medications.js:72:21\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:88:5\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-10-02 14:36:19"}
{"level":"error","message":"Get medicine by ID error Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle","service":"user-service","stack":"TypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle\n    at JSON.stringify (<anonymous>)\n    at stringify (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\response.js:1160:12)\n    at ServerResponse.json (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\response.js:271:14)\n    at file:///C:/Users/Admin/Documents/new/server/routes/medications.js:72:21\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:88:5\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-10-02 14:36:22"}
{"level":"error","message":"Get medicine by ID error Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle","service":"user-service","stack":"TypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle\n    at JSON.stringify (<anonymous>)\n    at stringify (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\response.js:1160:12)\n    at ServerResponse.json (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\response.js:271:14)\n    at file:///C:/Users/Admin/Documents/new/server/routes/medications.js:72:21\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:88:5\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-10-02 14:37:26"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-02 14:40:15"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-02 14:40:19"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-02 14:40:19"}
{"level":"error","message":"Get medicine by ID error Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle","service":"user-service","stack":"TypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle\n    at JSON.stringify (<anonymous>)\n    at stringify (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\response.js:1160:12)\n    at ServerResponse.json (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\response.js:271:14)\n    at file:///C:/Users/Admin/Documents/new/server/routes/medications.js:72:21\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:88:5\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-10-02 14:42:47"}
{"level":"error","message":"Get medicine by ID error Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle","service":"user-service","stack":"TypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle\n    at JSON.stringify (<anonymous>)\n    at stringify (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\response.js:1160:12)\n    at ServerResponse.json (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\response.js:271:14)\n    at file:///C:/Users/Admin/Documents/new/server/routes/medications.js:72:21\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:88:5\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-10-02 14:43:24"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-02 14:46:49"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-02 14:46:52"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-02 14:46:52"}
{"level":"error","message":"Get medicine by ID error Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle","service":"user-service","stack":"TypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle\n    at JSON.stringify (<anonymous>)\n    at stringify (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\response.js:1160:12)\n    at ServerResponse.json (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\response.js:271:14)\n    at file:///C:/Users/Admin/Documents/new/server/routes/medications.js:72:21\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:88:5\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-10-02 14:46:55"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-02 14:48:05"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-02 14:48:09"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-02 14:48:09"}
{"level":"error","message":"Get medicine by ID error Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle","service":"user-service","stack":"TypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle\n    at JSON.stringify (<anonymous>)\n    at stringify (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\response.js:1160:12)\n    at ServerResponse.json (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\response.js:271:14)\n    at file:///C:/Users/Admin/Documents/new/server/routes/medications.js:72:21\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:88:5\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-10-02 14:48:12"}
{"level":"error","message":"Get medicine by ID error Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle","service":"user-service","stack":"TypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle\n    at JSON.stringify (<anonymous>)\n    at stringify (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\response.js:1160:12)\n    at ServerResponse.json (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\response.js:271:14)\n    at file:///C:/Users/Admin/Documents/new/server/routes/medications.js:72:21\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:88:5\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-10-02 14:51:19"}
{"level":"error","message":"Get medicine by ID error Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle","service":"user-service","stack":"TypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle\n    at JSON.stringify (<anonymous>)\n    at stringify (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\response.js:1160:12)\n    at ServerResponse.json (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\response.js:271:14)\n    at file:///C:/Users/Admin/Documents/new/server/routes/medications.js:72:21\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///C:/Users/Admin/Documents/new/server/middleware/auth.js:88:5\n    at newFn (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\new\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-10-02 14:55:30"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-02 14:58:08"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-02 14:58:13"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-02 14:58:13"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-02 15:28:18"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-02 15:28:24"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-02 15:28:24"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-02 15:34:52"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-02 15:34:57"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-02 15:34:57"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-02 15:37:43"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-02 15:37:46"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-02 15:37:46"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-02 15:42:20"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-02 15:42:24"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-02 15:42:24"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-02 15:57:44"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-02 15:57:47"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-02 15:57:47"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-02 16:08:50"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-02 16:08:53"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-02 16:08:53"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-02 17:34:43"}
{"level":"info","message":"MongoDB reconnected","service":"user-service","timestamp":"2025-10-02 17:34:53"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-03 22:30:35"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-03 22:30:35"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-04 19:03:28"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-04 19:04:04"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-04 19:04:04"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-06 18:20:49"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-06 18:21:34"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-06 18:21:34"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-06 18:35:23"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-06 18:35:28"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-06 18:35:29"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-06 19:05:14"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-06 19:05:37"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-06 19:05:37"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-06 19:25:44"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-06 19:26:50"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-06 19:26:50"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-06 19:27:55"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-06 19:37:40"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-06 19:37:40"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-06 19:43:36"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-06 23:36:03"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-06 23:36:03"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-07 02:10:31"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-07 02:11:17"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-07 02:11:17"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-07 02:26:34"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-07 02:26:48"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-07 02:26:48"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-07 02:40:05"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-07 02:40:11"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-07 02:40:11"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-07 11:14:53"}
{"level":"info","message":"MongoDB reconnected","service":"user-service","timestamp":"2025-10-07 11:15:30"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-07 11:48:04"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-07 11:48:43"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-07 11:48:43"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-07 11:57:03"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-07 11:57:10"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-07 11:57:10"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-07 12:35:26"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-07 12:35:45"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-07 12:35:45"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-07 12:39:07"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-07 12:39:12"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-07 12:39:12"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-07 12:48:28"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-07 12:48:35"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-07 12:48:35"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-07 12:52:40"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-07 12:52:46"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-07 12:52:46"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-07 13:26:57"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-07 13:27:17"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-07 13:27:17"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-07 13:34:39"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-07 13:34:43"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-07 13:34:43"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-07 13:37:58"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-07 13:38:05"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-07 13:38:05"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-07 13:41:54"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-07 13:42:00"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-07 13:42:00"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-07 13:47:48"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-07 13:47:53"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-07 13:47:53"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-07 14:00:33"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-07 14:00:40"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-07 14:00:40"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-07 14:26:26"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-07 14:26:31"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-07 14:26:31"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-08 10:46:30"}
{"level":"info","message":"MongoDB reconnected","service":"user-service","timestamp":"2025-10-08 10:47:01"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-08 10:51:21"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-08 10:51:35"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-08 10:51:35"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-08 11:33:57"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-08 11:34:17"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-08 11:34:17"}
{"kind":"ObjectId","level":"error","message":"Get prescription error Cast to ObjectId failed for value \"undefined\" (type string) at path \"_id\" for model \"Visit\"","path":"_id","reason":{},"service":"user-service","stack":"CastError: Cast to ObjectId failed for value \"undefined\" (type string) at path \"_id\" for model \"Visit\"\n    at SchemaObjectId.cast (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\schemaType.js:1258:12)\n    at SchemaType.castForQuery (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\schemaType.js:1694:17)\n    at cast (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\cast.js:390:32)\n    at Query.cast (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\query.js:5060:12)\n    at Query._castConditions (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\query.js:2374:10)\n    at model.Query._findOne (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\query.js:2697:8)\n    at model.Query.exec (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\query.js:4627:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///C:/Users/Admin/Documents/server/routes/visits.js:210:23","stringValue":"\"undefined\"","timestamp":"2025-10-08 11:42:50","value":"undefined","valueType":"string"}
{"kind":"ObjectId","level":"error","message":"Get prescription error Cast to ObjectId failed for value \"undefined\" (type string) at path \"_id\" for model \"Visit\"","path":"_id","reason":{},"service":"user-service","stack":"CastError: Cast to ObjectId failed for value \"undefined\" (type string) at path \"_id\" for model \"Visit\"\n    at SchemaObjectId.cast (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\schemaType.js:1258:12)\n    at SchemaType.castForQuery (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\schemaType.js:1694:17)\n    at cast (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\cast.js:390:32)\n    at Query.cast (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\query.js:5060:12)\n    at Query._castConditions (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\query.js:2374:10)\n    at model.Query._findOne (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\query.js:2697:8)\n    at model.Query.exec (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\query.js:4627:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///C:/Users/Admin/Documents/server/routes/visits.js:210:23","stringValue":"\"undefined\"","timestamp":"2025-10-08 11:42:56","value":"undefined","valueType":"string"}
{"kind":"ObjectId","level":"error","message":"Get prescription error Cast to ObjectId failed for value \"undefined\" (type string) at path \"_id\" for model \"Visit\"","path":"_id","reason":{},"service":"user-service","stack":"CastError: Cast to ObjectId failed for value \"undefined\" (type string) at path \"_id\" for model \"Visit\"\n    at SchemaObjectId.cast (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\schemaType.js:1258:12)\n    at SchemaType.castForQuery (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\schemaType.js:1694:17)\n    at cast (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\cast.js:390:32)\n    at Query.cast (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\query.js:5060:12)\n    at Query._castConditions (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\query.js:2374:10)\n    at model.Query._findOne (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\query.js:2697:8)\n    at model.Query.exec (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\query.js:4627:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///C:/Users/Admin/Documents/server/routes/visits.js:210:23","stringValue":"\"undefined\"","timestamp":"2025-10-08 11:42:59","value":"undefined","valueType":"string"}
{"kind":"ObjectId","level":"error","message":"Get prescription error Cast to ObjectId failed for value \"undefined\" (type string) at path \"_id\" for model \"Visit\"","path":"_id","reason":{},"service":"user-service","stack":"CastError: Cast to ObjectId failed for value \"undefined\" (type string) at path \"_id\" for model \"Visit\"\n    at SchemaObjectId.cast (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\schemaType.js:1258:12)\n    at SchemaType.castForQuery (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\schemaType.js:1694:17)\n    at cast (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\cast.js:390:32)\n    at Query.cast (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\query.js:5060:12)\n    at Query._castConditions (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\query.js:2374:10)\n    at model.Query._findOne (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\query.js:2697:8)\n    at model.Query.exec (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\query.js:4627:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///C:/Users/Admin/Documents/server/routes/visits.js:210:23","stringValue":"\"undefined\"","timestamp":"2025-10-08 11:43:06","value":"undefined","valueType":"string"}
{"kind":"ObjectId","level":"error","message":"Get prescription error Cast to ObjectId failed for value \"undefined\" (type string) at path \"_id\" for model \"Visit\"","path":"_id","reason":{},"service":"user-service","stack":"CastError: Cast to ObjectId failed for value \"undefined\" (type string) at path \"_id\" for model \"Visit\"\n    at SchemaObjectId.cast (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\schemaType.js:1258:12)\n    at SchemaType.castForQuery (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\schemaType.js:1694:17)\n    at cast (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\cast.js:390:32)\n    at Query.cast (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\query.js:5060:12)\n    at Query._castConditions (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\query.js:2374:10)\n    at model.Query._findOne (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\query.js:2697:8)\n    at model.Query.exec (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\query.js:4627:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///C:/Users/Admin/Documents/server/routes/visits.js:210:23","stringValue":"\"undefined\"","timestamp":"2025-10-08 11:43:07","value":"undefined","valueType":"string"}
{"kind":"ObjectId","level":"error","message":"Get prescription error Cast to ObjectId failed for value \"undefined\" (type string) at path \"_id\" for model \"Visit\"","path":"_id","reason":{},"service":"user-service","stack":"CastError: Cast to ObjectId failed for value \"undefined\" (type string) at path \"_id\" for model \"Visit\"\n    at SchemaObjectId.cast (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\schemaType.js:1258:12)\n    at SchemaType.castForQuery (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\schemaType.js:1694:17)\n    at cast (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\cast.js:390:32)\n    at Query.cast (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\query.js:5060:12)\n    at Query._castConditions (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\query.js:2374:10)\n    at model.Query._findOne (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\query.js:2697:8)\n    at model.Query.exec (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\query.js:4627:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///C:/Users/Admin/Documents/server/routes/visits.js:210:23","stringValue":"\"undefined\"","timestamp":"2025-10-08 11:44:44","value":"undefined","valueType":"string"}
{"kind":"ObjectId","level":"error","message":"Get prescription error Cast to ObjectId failed for value \"undefined\" (type string) at path \"_id\" for model \"Visit\"","path":"_id","reason":{},"service":"user-service","stack":"CastError: Cast to ObjectId failed for value \"undefined\" (type string) at path \"_id\" for model \"Visit\"\n    at SchemaObjectId.cast (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\schemaType.js:1258:12)\n    at SchemaType.castForQuery (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\schemaType.js:1694:17)\n    at cast (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\cast.js:390:32)\n    at Query.cast (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\query.js:5060:12)\n    at Query._castConditions (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\query.js:2374:10)\n    at model.Query._findOne (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\query.js:2697:8)\n    at model.Query.exec (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\query.js:4627:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///C:/Users/Admin/Documents/server/routes/visits.js:210:23","stringValue":"\"undefined\"","timestamp":"2025-10-08 11:45:18","value":"undefined","valueType":"string"}
{"kind":"ObjectId","level":"error","message":"Get prescription error Cast to ObjectId failed for value \"undefined\" (type string) at path \"_id\" for model \"Visit\"","path":"_id","reason":{},"service":"user-service","stack":"CastError: Cast to ObjectId failed for value \"undefined\" (type string) at path \"_id\" for model \"Visit\"\n    at SchemaObjectId.cast (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\schemaType.js:1258:12)\n    at SchemaType.castForQuery (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\schemaType.js:1694:17)\n    at cast (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\cast.js:390:32)\n    at Query.cast (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\query.js:5060:12)\n    at Query._castConditions (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\query.js:2374:10)\n    at model.Query._findOne (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\query.js:2697:8)\n    at model.Query.exec (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\query.js:4627:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///C:/Users/Admin/Documents/server/routes/visits.js:210:23","stringValue":"\"undefined\"","timestamp":"2025-10-08 11:45:18","value":"undefined","valueType":"string"}
{"kind":"ObjectId","level":"error","message":"Get single visit error: Cast to ObjectId failed for value \"active\" (type string) at path \"_id\" for model \"Visit\"","path":"_id","reason":{},"service":"user-service","stack":"CastError: Cast to ObjectId failed for value \"active\" (type string) at path \"_id\" for model \"Visit\"\n    at SchemaObjectId.cast (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\schemaType.js:1258:12)\n    at SchemaType.castForQuery (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\schemaType.js:1694:17)\n    at cast (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\cast.js:390:32)\n    at Query.cast (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\query.js:5060:12)\n    at Query._castConditions (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\query.js:2374:10)\n    at model.Query._findOne (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\query.js:2697:8)\n    at model.Query.exec (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\query.js:4627:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///C:/Users/Admin/Documents/server/routes/visits.js:37:23","stringValue":"\"active\"","timestamp":"2025-10-08 11:48:38","value":"active","valueType":"string"}
{"kind":"ObjectId","level":"error","message":"Get prescription error Cast to ObjectId failed for value \"undefined\" (type string) at path \"_id\" for model \"Visit\"","path":"_id","reason":{},"service":"user-service","stack":"CastError: Cast to ObjectId failed for value \"undefined\" (type string) at path \"_id\" for model \"Visit\"\n    at SchemaObjectId.cast (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\schemaType.js:1258:12)\n    at SchemaType.castForQuery (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\schemaType.js:1694:17)\n    at cast (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\cast.js:390:32)\n    at Query.cast (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\query.js:5060:12)\n    at Query._castConditions (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\query.js:2374:10)\n    at model.Query._findOne (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\query.js:2697:8)\n    at model.Query.exec (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\query.js:4627:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///C:/Users/Admin/Documents/server/routes/visits.js:210:23","stringValue":"\"undefined\"","timestamp":"2025-10-08 11:48:56","value":"undefined","valueType":"string"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-08 11:49:06"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-08 11:49:11"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-08 11:49:11"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-08 11:56:44"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-08 11:56:49"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-08 11:56:50"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-08 12:07:19"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-08 12:07:24"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-08 12:07:24"}
{"level":"error","message":"ValidationError: LabTest validation failed: orderedBy: Path `orderedBy` is required., patient: Path `patient` is required.\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","service":"user-service","timestamp":"2025-10-08 16:00:07"}
{"level":"error","message":"ValidationError: LabTest validation failed: orderedBy: Path `orderedBy` is required., patient: Path `patient` is required.\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","service":"user-service","timestamp":"2025-10-08 16:00:38"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-08 16:05:36"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-08 16:05:58"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-08 16:05:59"}
{"level":"error","message":"ValidationError: LabTest validation failed: orderedBy: Path `orderedBy` is required., patient: Path `patient` is required.\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","service":"user-service","timestamp":"2025-10-08 16:06:09"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-08 16:15:40"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-08 16:15:46"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-08 16:15:46"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-08 16:20:21"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-08 16:20:26"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-08 16:20:26"}
{"level":"error","message":"ValidationError: LabTest validation failed: orderedBy: Path `orderedBy` is required.\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","service":"user-service","timestamp":"2025-10-08 16:24:30"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-08 16:34:54"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-08 16:35:00"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-08 16:35:00"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-08 16:43:24"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-08 16:43:34"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-08 16:43:34"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-08 17:09:52"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-08 17:09:58"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-08 17:09:58"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-08 17:17:34"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-08 17:18:05"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-08 17:18:05"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-08 17:25:53"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-08 17:26:23"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-08 17:26:23"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-08 17:26:46"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-08 17:26:50"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-08 17:26:50"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-08 17:34:57"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-08 17:35:07"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-08 17:35:07"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-08 17:38:24"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-08 17:38:28"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-08 17:38:29"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-08 18:00:23"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-08 18:00:35"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-08 18:00:35"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-08 18:03:25"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-08 18:04:55"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-08 18:04:55"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-09 00:49:26"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-09 00:52:06"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-09 00:52:11"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-09 01:11:36"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-09 01:11:57"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-09 01:11:57"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-09 01:13:04"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-09 01:13:10"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-09 01:13:10"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-09 01:14:34"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-09 01:14:40"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-09 01:14:40"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-09 01:26:04"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-09 01:26:56"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-09 01:26:57"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-09 01:48:25"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-09 01:52:50"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-09 01:52:50"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-09 02:01:52"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-09 02:02:07"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-09 02:02:07"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-09 02:14:41"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-09 02:14:58"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-09 02:14:58"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-09 02:34:09"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-09 02:34:45"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-09 02:34:45"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-09 03:12:29"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-09 03:14:53"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-09 03:14:53"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-09 03:28:58"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-09 03:29:30"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-09 03:29:30"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-09 03:30:06"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-09 03:30:13"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-09 03:30:13"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-09 03:50:32"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-09 03:50:53"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-09 03:50:53"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-09 04:33:12"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-09 04:34:29"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-09 04:34:30"}
{"level":"info","message":"Sending payment receipt for payment PAY-20251009-0001","service":"user-service","timestamp":"2025-10-09 04:45:50"}
{"level":"info","message":"Visit 68e713bddabe5ba37fae2c03 activated for invoice INV-202510-00001","service":"user-service","timestamp":"2025-10-09 04:45:50"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-09 04:45:58"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-09 04:46:12"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-09 04:46:13"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-09 05:01:48"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-09 05:02:04"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-09 05:02:04"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-09 13:47:09"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-09 14:01:34"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-09 14:01:35"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-09 14:44:40"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-09 14:45:29"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-09 14:45:30"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-09 15:20:16"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-09 15:21:46"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-09 15:21:47"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-09 15:34:58"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-09 15:35:06"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-09 15:35:07"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-09 15:45:03"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-09 15:45:17"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-09 15:45:17"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-09 15:58:32"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-09 15:58:44"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-09 15:58:44"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-09 16:07:15"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-09 16:07:21"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-09 16:07:21"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-09 22:29:40"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-09 22:30:22"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-09 22:30:22"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-10 00:06:33"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-10 00:08:47"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-10 00:08:47"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-10 01:12:19"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-10 01:13:56"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-10 01:13:56"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-10 01:17:15"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-10 01:17:23"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-10 01:17:23"}
{"_message":"Validation failed","errors":{"insurance.provider":{"kind":"enum","message":"`` is not a valid enum value for path `insurance.provider`.","name":"ValidatorError","path":"insurance.provider","properties":{"enumValues":["NHIF","NSSF","ASSEMBLE","BRITAM"],"fullPath":"insurance.provider","length":0,"message":"`` is not a valid enum value for path `insurance.provider`.","path":"insurance.provider","type":"enum","value":""},"value":""}},"level":"error","message":"Update patient error: Validation failed: insurance.provider: `` is not a valid enum value for path `insurance.provider`.","service":"user-service","stack":"ValidationError: Validation failed: insurance.provider: `` is not a valid enum value for path `insurance.provider`.\n    at _done (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\helpers\\updateValidators.js:231:19)\n    at C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\helpers\\updateValidators.js:207:11\n    at schemaPath.doValidate.updateValidator (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\helpers\\updateValidators.js:165:13)\n    at C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\schemaType.js:1408:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-10-10 01:17:31"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-10 01:23:44"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-10 01:23:50"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-10 01:23:50"}
{"_message":"Validation failed","errors":{"insurance.provider":{"kind":"enum","message":"`` is not a valid enum value for path `insurance.provider`.","name":"ValidatorError","path":"insurance.provider","properties":{"enumValues":["NHIF","NSSF","ASSEMBLE","BRITAM"],"fullPath":"insurance.provider","length":0,"message":"`` is not a valid enum value for path `insurance.provider`.","path":"insurance.provider","type":"enum","value":""},"value":""}},"level":"error","message":"Update patient error: Validation failed: insurance.provider: `` is not a valid enum value for path `insurance.provider`.","service":"user-service","stack":"ValidationError: Validation failed: insurance.provider: `` is not a valid enum value for path `insurance.provider`.\n    at _done (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\helpers\\updateValidators.js:231:19)\n    at C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\helpers\\updateValidators.js:207:11\n    at schemaPath.doValidate.updateValidator (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\helpers\\updateValidators.js:165:13)\n    at C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\schemaType.js:1408:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-10-10 01:24:03"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-10 01:25:22"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-10 01:25:28"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-10 01:25:28"}
{"_message":"Validation failed","errors":{"insurance.provider":{"kind":"enum","message":"`` is not a valid enum value for path `insurance.provider`.","name":"ValidatorError","path":"insurance.provider","properties":{"enumValues":["NHIF","NSSF","ASSEMBLE","BRITAM"],"fullPath":"insurance.provider","length":0,"message":"`` is not a valid enum value for path `insurance.provider`.","path":"insurance.provider","type":"enum","value":""},"value":""}},"level":"error","message":"Update patient error: Validation failed: insurance.provider: `` is not a valid enum value for path `insurance.provider`.","service":"user-service","stack":"ValidationError: Validation failed: insurance.provider: `` is not a valid enum value for path `insurance.provider`.\n    at _done (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\helpers\\updateValidators.js:231:19)\n    at C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\helpers\\updateValidators.js:207:11\n    at schemaPath.doValidate.updateValidator (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\helpers\\updateValidators.js:165:13)\n    at C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\schemaType.js:1408:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-10-10 01:25:32"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-10 01:26:55"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-10 01:27:00"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-10 01:27:00"}
{"_message":"Validation failed","errors":{"insurance.provider":{"kind":"enum","message":"Invalid insurance provider","name":"ValidatorError","path":"insurance.provider","properties":{"enumValues":["NHIF","NSSF","ASSEMBLE","BRITAM"],"fullPath":"insurance.provider","length":0,"message":"Invalid insurance provider","path":"insurance.provider","type":"enum","value":""},"value":""}},"level":"error","message":"Update patient error: Validation failed: insurance.provider: Invalid insurance provider","service":"user-service","stack":"ValidationError: Validation failed: insurance.provider: Invalid insurance provider\n    at _done (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\helpers\\updateValidators.js:231:19)\n    at C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\helpers\\updateValidators.js:207:11\n    at schemaPath.doValidate.updateValidator (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\helpers\\updateValidators.js:165:13)\n    at C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\schemaType.js:1408:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-10-10 01:27:07"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-10 01:29:39"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-10 01:29:45"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-10 01:29:45"}
{"level":"info","message":"Invoice INV-202510-00003 auto-marked as paid for insured patient 68d16078fe340b0d18823b37","service":"user-service","timestamp":"2025-10-10 01:33:26"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-10 01:39:47"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-10 01:40:51"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-10 01:40:51"}
{"level":"info","message":"Visit created for patient 68d16078fe340b0d18823b37. Insurance status: true, Visit status: In Queue","service":"user-service","timestamp":"2025-10-10 01:41:55"}
{"level":"info","message":"Invoice INV-202510-00004 auto-marked as paid for insured patient 68d16078fe340b0d18823b37","service":"user-service","timestamp":"2025-10-10 01:41:55"}
{"level":"info","message":"Sending payment receipt for payment PAY-20251010-0001","service":"user-service","timestamp":"2025-10-10 01:54:30"}
{"level":"info","message":"Visit 68e838075634be855bced2da activated for invoice INV-202510-00002","service":"user-service","timestamp":"2025-10-10 01:54:31"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-10 01:54:40"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-10 01:54:57"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-10 01:54:57"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-10 02:00:03"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-10 02:00:11"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-10 02:00:11"}
{"_message":"RadiologyRequest validation failed","errors":{"bodyPart":{"kind":"required","message":"Please specify the body part to be scanned","name":"ValidatorError","path":"bodyPart","properties":{"message":"Please specify the body part to be scanned","path":"bodyPart","type":"required"}},"reason":{"kind":"required","message":"Please provide a reason for the scan","name":"ValidatorError","path":"reason","properties":{"message":"Please provide a reason for the scan","path":"reason","type":"required"}},"scanType":{"kind":"required","message":"Please specify the scan type","name":"ValidatorError","path":"scanType","properties":{"message":"Please specify the scan type","path":"scanType","type":"required"}}},"level":"error","message":"Create radiology request error: RadiologyRequest validation failed: reason: Please provide a reason for the scan, bodyPart: Please specify the body part to be scanned, scanType: Please specify the scan type","service":"user-service","stack":"ValidationError: RadiologyRequest validation failed: reason: Please provide a reason for the scan, bodyPart: Please specify the body part to be scanned, scanType: Please specify the scan type\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\Admin\\Documents\\server\\node_modules\\mongoose\\lib\\schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-10-10 02:00:16"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-10 02:03:06"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-10 02:03:11"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-10 02:03:12"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-10 02:11:37"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-10 02:11:43"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-10 02:11:43"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-10 02:13:11"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-10 02:13:18"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-10 02:13:18"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-10 04:11:55"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-10 20:42:58"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-10 20:42:58"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-11 01:31:13"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-11 01:32:01"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-11 01:32:02"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-11 01:35:10"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-11 01:35:20"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-11 01:35:20"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-11 05:18:56"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-11 05:19:11"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-11 05:19:11"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-11 11:19:27"}
{"level":"info","message":"MongoDB reconnected","service":"user-service","timestamp":"2025-10-11 11:19:49"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-11 17:03:59"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-11 17:04:13"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-11 17:04:13"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-11 17:35:33"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-11 17:35:38"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-11 17:35:38"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-12 01:56:32"}
{"level":"info","message":"MongoDB reconnected","service":"user-service","timestamp":"2025-10-12 01:56:52"}
{"level":"info","message":"Invoice INV-202510-00005 auto-marked as paid for insured patient 68d16078fe340b0d18823b37","service":"user-service","timestamp":"2025-10-12 16:00:41"}
{"level":"info","message":"Sending payment receipt for payment PAY-20251012-0001","service":"user-service","timestamp":"2025-10-12 16:01:22"}
{"code":"EDNS","command":"CONN","error":"getaddrinfo ENOTFOUND smtp.gmail.com","level":"error","message":"Email sending error:","recipient":"juliethemma@gmail.com","service":"user-service","stack":"Error: getaddrinfo ENOTFOUND smtp.gmail.com\n    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)","subject":"Email Verification","timestamp":"2025-10-12 16:10:47"}
{"level":"error","message":"Verification email error: Failed to send email: getaddrinfo ENOTFOUND smtp.gmail.com","service":"user-service","stack":"Error: Failed to send email: getaddrinfo ENOTFOUND smtp.gmail.com\n    at sendEmail (file:///C:/Users/Admin/Documents/server/utils/sendEmail.js:58:11)\n    at async file:///C:/Users/Admin/Documents/server/routes/users.js:102:9","timestamp":"2025-10-12 16:10:47"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-13 08:13:12"}
{"level":"info","message":"MongoDB reconnected","service":"user-service","timestamp":"2025-10-13 08:13:28"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-14 00:58:26"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-15 16:39:11"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-15 16:39:11"}
{"level":"info","message":"Visit created for patient 68b374d55cf5bd769e4899ac. Insurance status: true, Visit status: In Queue","service":"user-service","timestamp":"2025-10-15 17:56:50"}
{"level":"info","message":"Invoice INV-202510-00007 auto-marked as paid for insured patient 68b374d55cf5bd769e4899ac","service":"user-service","timestamp":"2025-10-15 17:56:50"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-15 18:08:08"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-15 18:08:49"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-15 18:08:49"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-15 20:42:52"}
{"level":"info","message":"MongoDB reconnected","service":"user-service","timestamp":"2025-10-15 20:43:02"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-15 21:16:36"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-15 21:18:46"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-15 21:18:46"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-15 21:25:56"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-15 21:26:13"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-15 21:26:14"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-15 21:32:43"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-15 21:32:49"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-15 21:32:49"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-15 21:32:49"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-16 00:46:33"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-16 00:48:11"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-16 00:48:11"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-16 00:48:12"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-16 01:02:47"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-16 01:02:56"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-16 01:02:56"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-16 01:02:56"}
{"level":"info","message":"SMTP connection verified successfully","service":"user-service","timestamp":"2025-10-16 01:05:37"}
{"level":"info","message":"Email sent successfully to aminashabani227@gmail.com. Message ID: <0dfe3cdb-a019-b9dd-9841-e1d1b78c6b8d@gmail.com>","service":"user-service","timestamp":"2025-10-16 01:05:40"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-16 01:17:24"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-16 15:38:29"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-16 15:38:29"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-16 15:38:30"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-16 15:45:48"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-16 15:47:18"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-16 15:47:18"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-16 15:47:19"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-17 09:52:36"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-17 09:53:07"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-17 09:53:07"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-17 09:53:08"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-17 14:03:30"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-20 10:09:10"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-20 10:09:10"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-20 10:09:12"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-20 10:30:15"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-20 10:32:25"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-20 10:32:25"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-20 10:32:26"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-20 10:44:59"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-20 10:45:52"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-20 10:45:52"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-20 10:45:52"}
{"level":"info","message":"Doctor 68b46351446fab3d7288aa63 started visit 68d7d0bfb36a87d70b41ba01","service":"user-service","timestamp":"2025-10-20 10:57:46"}
{"level":"info","message":"SMTP connection verified successfully","service":"user-service","timestamp":"2025-10-20 11:07:58"}
{"level":"info","message":"Email sent successfully to alfredkelvin587@gmail.com. Message ID: <bc4002fa-1d47-9ea7-d3a8-5af87feec709@gmail.com>","service":"user-service","timestamp":"2025-10-20 11:08:03"}
{"_message":"IPDRecord validation failed","errors":{"admittingDoctor":{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"Kelvin Mhanganya\" (type string) at path \"admittingDoctor\" because of \"BSONError\"","name":"CastError","path":"admittingDoctor","reason":{},"stringValue":"\"Kelvin Mhanganya\"","value":"Kelvin Mhanganya","valueType":"string"}},"level":"error","message":"Create IPD record error: IPDRecord validation failed: admittingDoctor: Cast to ObjectId failed for value \"Kelvin Mhanganya\" (type string) at path \"admittingDoctor\" because of \"BSONError\"","service":"user-service","stack":"ValidationError: IPDRecord validation failed: admittingDoctor: Cast to ObjectId failed for value \"Kelvin Mhanganya\" (type string) at path \"admittingDoctor\" because of \"BSONError\"\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at model.$set (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\document.js:1480:12)\n    at model.$set (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\document.js:1132:16)\n    at model.Document (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\document.js:178:12)\n    at model.Model (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\model.js:127:12)\n    at new model (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\model.js:4834:15)\n    at C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\model.js:2775:20\n    at Array.map (<anonymous>)\n    at Function.create (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\model.js:2763:34)\n    at file:///C:/Users/Admin/Documents/my-app/server/routes/ipd-records.js:222:39","timestamp":"2025-10-20 11:09:25"}
{"_message":"IPDRecord validation failed","errors":{"admittingDoctor":{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"Kelvin Mhanganya\" (type string) at path \"admittingDoctor\" because of \"BSONError\"","name":"CastError","path":"admittingDoctor","reason":{},"stringValue":"\"Kelvin Mhanganya\"","value":"Kelvin Mhanganya","valueType":"string"}},"level":"error","message":"Create IPD record error: IPDRecord validation failed: admittingDoctor: Cast to ObjectId failed for value \"Kelvin Mhanganya\" (type string) at path \"admittingDoctor\" because of \"BSONError\"","service":"user-service","stack":"ValidationError: IPDRecord validation failed: admittingDoctor: Cast to ObjectId failed for value \"Kelvin Mhanganya\" (type string) at path \"admittingDoctor\" because of \"BSONError\"\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at model.$set (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\document.js:1480:12)\n    at model.$set (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\document.js:1132:16)\n    at model.Document (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\document.js:178:12)\n    at model.Model (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\model.js:127:12)\n    at new model (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\model.js:4834:15)\n    at C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\model.js:2775:20\n    at Array.map (<anonymous>)\n    at Function.create (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\model.js:2763:34)\n    at file:///C:/Users/Admin/Documents/my-app/server/routes/ipd-records.js:222:39","timestamp":"2025-10-20 11:09:42"}
{"_message":"Patient validation failed","errors":{"gender":{"kind":"enum","message":"`male` is not a valid enum value for path `gender`.","name":"ValidatorError","path":"gender","properties":{"enumValues":["Male","Female","Other"],"length":4,"message":"`male` is not a valid enum value for path `gender`.","path":"gender","type":"enum","value":"male"},"value":"male"},"middleName":{"kind":"required","message":"Middle name is required","name":"ValidatorError","path":"middleName","properties":{"message":"Middle name is required","path":"middleName","type":"required"}}},"level":"error","message":"Create IPD record error: Patient validation failed: middleName: Middle name is required, gender: `male` is not a valid enum value for path `gender`.","service":"user-service","stack":"ValidationError: Patient validation failed: middleName: Middle name is required, gender: `male` is not a valid enum value for path `gender`.\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-10-20 11:46:08"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-20 11:54:14"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-20 11:54:48"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-20 11:54:48"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-20 11:54:48"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-22 16:44:02"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-22 16:44:02"}
{"cause":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{"localhost:27017":{"$clusterTime":null,"address":"localhost:27017","arbiters":[],"electionId":null,"error":null,"hosts":[],"iscryptd":false,"lastUpdateTime":398799419,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":null,"stale":false,"type":"Unknown"},"errorLabelSet":{},"level":"error","message":"Server selection timed out after 5000 ms","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{"localhost:27017":{"$clusterTime":null,"address":"localhost:27017","arbiters":[],"electionId":null,"error":null,"hosts":[],"iscryptd":false,"lastUpdateTime":398799419,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":null,"stale":false,"type":"Unknown"},"service":"user-service","stack":"MongooseServerSelectionError: Server selection timed out after 5000 ms\n    at _handleConnectionErrors (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\connection.js:1165:11)\n    at NativeConnection.openUri (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\connection.js:1096:11)\n    at async connectDB (file:///C:/Users/Admin/Documents/my-app/server/config/database.js:6:18)","timestamp":"2025-10-22 16:44:07"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-22 16:50:30"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-22 16:50:30"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-22 16:50:32"}
{"level":"error","message":"Get IPD records error: Cannot populate path `attendingPhysician` because it is not in your schema. Set the `strictPopulate` option to false to override.","path":"attendingPhysician","service":"user-service","stack":"StrictPopulateError: Cannot populate path `attendingPhysician` because it is not in your schema. Set the `strictPopulate` option to false to override.\n    at getModelsMapForPopulate (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\helpers\\populate\\getModelsMapForPopulate.js:50:12)\n    at _populatePath (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\model.js:4466:21)\n    at Function.populate (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\model.js:4433:21)\n    at model.Query._find (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\query.js:2456:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async model.Query.exec (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\query.js:4627:63)\n    at async file:///C:/Users/Admin/Documents/my-app/server/routes/ipd-records.js:52:21","timestamp":"2025-10-22 17:13:00"}
{"level":"error","message":"Get IPD records error: Cannot populate path `attendingPhysician` because it is not in your schema. Set the `strictPopulate` option to false to override.","path":"attendingPhysician","service":"user-service","stack":"StrictPopulateError: Cannot populate path `attendingPhysician` because it is not in your schema. Set the `strictPopulate` option to false to override.\n    at getModelsMapForPopulate (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\helpers\\populate\\getModelsMapForPopulate.js:50:12)\n    at _populatePath (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\model.js:4466:21)\n    at Function.populate (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\model.js:4433:21)\n    at model.Query._find (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\query.js:2456:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async model.Query.exec (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\query.js:4627:63)\n    at async file:///C:/Users/Admin/Documents/my-app/server/routes/ipd-records.js:52:21","timestamp":"2025-10-22 17:13:01"}
{"level":"error","message":"Get IPD records error: Cannot populate path `attendingPhysician` because it is not in your schema. Set the `strictPopulate` option to false to override.","path":"attendingPhysician","service":"user-service","stack":"StrictPopulateError: Cannot populate path `attendingPhysician` because it is not in your schema. Set the `strictPopulate` option to false to override.\n    at getModelsMapForPopulate (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\helpers\\populate\\getModelsMapForPopulate.js:50:12)\n    at _populatePath (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\model.js:4466:21)\n    at Function.populate (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\model.js:4433:21)\n    at model.Query._find (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\query.js:2456:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async model.Query.exec (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\query.js:4627:63)\n    at async file:///C:/Users/Admin/Documents/my-app/server/routes/ipd-records.js:52:21","timestamp":"2025-10-22 17:14:11"}
{"level":"error","message":"Get IPD records error: Cannot populate path `attendingPhysician` because it is not in your schema. Set the `strictPopulate` option to false to override.","path":"attendingPhysician","service":"user-service","stack":"StrictPopulateError: Cannot populate path `attendingPhysician` because it is not in your schema. Set the `strictPopulate` option to false to override.\n    at getModelsMapForPopulate (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\helpers\\populate\\getModelsMapForPopulate.js:50:12)\n    at _populatePath (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\model.js:4466:21)\n    at Function.populate (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\model.js:4433:21)\n    at model.Query._find (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\query.js:2456:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async model.Query.exec (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\query.js:4627:63)\n    at async file:///C:/Users/Admin/Documents/my-app/server/routes/ipd-records.js:52:21","timestamp":"2025-10-22 17:14:28"}
{"level":"error","message":"Get IPD records error: Cannot populate path `attendingPhysician` because it is not in your schema. Set the `strictPopulate` option to false to override.","path":"attendingPhysician","service":"user-service","stack":"StrictPopulateError: Cannot populate path `attendingPhysician` because it is not in your schema. Set the `strictPopulate` option to false to override.\n    at getModelsMapForPopulate (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\helpers\\populate\\getModelsMapForPopulate.js:50:12)\n    at _populatePath (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\model.js:4466:21)\n    at Function.populate (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\model.js:4433:21)\n    at model.Query._find (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\query.js:2456:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async model.Query.exec (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\query.js:4627:63)\n    at async file:///C:/Users/Admin/Documents/my-app/server/routes/ipd-records.js:52:21","timestamp":"2025-10-22 17:14:29"}
{"level":"error","message":"Get IPD records error: Cannot populate path `attendingPhysician` because it is not in your schema. Set the `strictPopulate` option to false to override.","path":"attendingPhysician","service":"user-service","stack":"StrictPopulateError: Cannot populate path `attendingPhysician` because it is not in your schema. Set the `strictPopulate` option to false to override.\n    at getModelsMapForPopulate (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\helpers\\populate\\getModelsMapForPopulate.js:50:12)\n    at _populatePath (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\model.js:4466:21)\n    at Function.populate (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\model.js:4433:21)\n    at model.Query._find (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\query.js:2456:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async model.Query.exec (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\query.js:4627:63)\n    at async file:///C:/Users/Admin/Documents/my-app/server/routes/ipd-records.js:52:21","timestamp":"2025-10-22 17:19:08"}
{"level":"error","message":"Get IPD records error: Cannot populate path `attendingPhysician` because it is not in your schema. Set the `strictPopulate` option to false to override.","path":"attendingPhysician","service":"user-service","stack":"StrictPopulateError: Cannot populate path `attendingPhysician` because it is not in your schema. Set the `strictPopulate` option to false to override.\n    at getModelsMapForPopulate (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\helpers\\populate\\getModelsMapForPopulate.js:50:12)\n    at _populatePath (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\model.js:4466:21)\n    at Function.populate (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\model.js:4433:21)\n    at model.Query._find (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\query.js:2456:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async model.Query.exec (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\query.js:4627:63)\n    at async file:///C:/Users/Admin/Documents/my-app/server/routes/ipd-records.js:52:21","timestamp":"2025-10-22 17:19:08"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-22 17:19:30"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-22 17:21:06"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-22 17:21:06"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-22 17:21:06"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-22 18:54:37"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-22 18:55:18"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-22 18:55:18"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-22 18:55:19"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-22 19:56:40"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-22 19:57:10"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-22 19:57:10"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-22 19:57:11"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-22 20:00:54"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-22 20:00:59"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-22 20:00:59"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-22 20:00:59"}
{"_message":"Patient validation failed","errors":{"gender":{"kind":"enum","message":"`male` is not a valid enum value for path `gender`.","name":"ValidatorError","path":"gender","properties":{"enumValues":["Male","Female","Other"],"length":4,"message":"`male` is not a valid enum value for path `gender`.","path":"gender","type":"enum","value":"male"},"value":"male"},"middleName":{"kind":"required","message":"Middle name is required","name":"ValidatorError","path":"middleName","properties":{"message":"Middle name is required","path":"middleName","type":"required"}}},"level":"error","message":"Discharge patient error: Patient validation failed: middleName: Middle name is required, gender: `male` is not a valid enum value for path `gender`.","service":"user-service","stack":"ValidationError: Patient validation failed: middleName: Middle name is required, gender: `male` is not a valid enum value for path `gender`.\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-10-22 20:04:47"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-22 20:31:19"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-23 01:01:28"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-23 01:01:28"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-23 01:01:29"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-23 03:03:48"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-23 20:29:06"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-23 20:29:06"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-23 20:29:06"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-23 20:37:41"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-23 20:37:46"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-23 20:37:46"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-23 20:37:46"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-23 20:40:57"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-23 20:41:00"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-23 20:41:00"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-23 20:41:00"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-24 01:02:52"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-24 01:03:10"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-24 01:03:10"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-24 01:03:10"}
{"level":"error","message":"Get theatre statistics error: Theatre.getStatistics is not a function","service":"user-service","stack":"TypeError: Theatre.getStatistics is not a function\n    at file:///C:/Users/Admin/Documents/my-app/server/routes/theatres.js:62:33\n    at newFn (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///C:/Users/Admin/Documents/my-app/server/middleware/auth.js:88:5\n    at newFn (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at protect (file:///C:/Users/Admin/Documents/my-app/server/middleware/auth.js:61:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-10-24 01:03:42"}
{"level":"error","message":"Get theatre statistics error: Theatre.getStatistics is not a function","service":"user-service","stack":"TypeError: Theatre.getStatistics is not a function\n    at file:///C:/Users/Admin/Documents/my-app/server/routes/theatres.js:62:33\n    at newFn (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///C:/Users/Admin/Documents/my-app/server/middleware/auth.js:88:5\n    at newFn (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at protect (file:///C:/Users/Admin/Documents/my-app/server/middleware/auth.js:61:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-10-24 01:03:42"}
{"level":"error","message":"Get theatre statistics error: Theatre.getStatistics is not a function","service":"user-service","stack":"TypeError: Theatre.getStatistics is not a function\n    at file:///C:/Users/Admin/Documents/my-app/server/routes/theatres.js:62:33\n    at newFn (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///C:/Users/Admin/Documents/my-app/server/middleware/auth.js:88:5\n    at newFn (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at protect (file:///C:/Users/Admin/Documents/my-app/server/middleware/auth.js:61:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-10-24 01:03:51"}
{"level":"error","message":"Get theatre statistics error: Theatre.getStatistics is not a function","service":"user-service","stack":"TypeError: Theatre.getStatistics is not a function\n    at file:///C:/Users/Admin/Documents/my-app/server/routes/theatres.js:62:33\n    at newFn (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///C:/Users/Admin/Documents/my-app/server/middleware/auth.js:88:5\n    at newFn (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at protect (file:///C:/Users/Admin/Documents/my-app/server/middleware/auth.js:61:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-10-24 01:03:51"}
{"level":"error","message":"Get theatre statistics error: Theatre.getStatistics is not a function","service":"user-service","stack":"TypeError: Theatre.getStatistics is not a function\n    at file:///C:/Users/Admin/Documents/my-app/server/routes/theatres.js:62:33\n    at newFn (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///C:/Users/Admin/Documents/my-app/server/middleware/auth.js:88:5\n    at newFn (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at protect (file:///C:/Users/Admin/Documents/my-app/server/middleware/auth.js:61:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-10-24 01:05:37"}
{"level":"error","message":"Get theatre statistics error: Theatre.getStatistics is not a function","service":"user-service","stack":"TypeError: Theatre.getStatistics is not a function\n    at file:///C:/Users/Admin/Documents/my-app/server/routes/theatres.js:62:33\n    at newFn (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///C:/Users/Admin/Documents/my-app/server/middleware/auth.js:88:5\n    at newFn (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at protect (file:///C:/Users/Admin/Documents/my-app/server/middleware/auth.js:61:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-10-24 01:06:15"}
{"level":"error","message":"Get theatre statistics error: Theatre.getStatistics is not a function","service":"user-service","stack":"TypeError: Theatre.getStatistics is not a function\n    at file:///C:/Users/Admin/Documents/my-app/server/routes/theatres.js:62:33\n    at newFn (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///C:/Users/Admin/Documents/my-app/server/middleware/auth.js:88:5\n    at newFn (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at protect (file:///C:/Users/Admin/Documents/my-app/server/middleware/auth.js:61:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-10-24 01:06:28"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-24 01:14:57"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-24 01:15:00"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-24 01:15:00"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-24 01:15:00"}
{"_message":"TheatreProcedure validation failed","errors":{"theatre_room":{"kind":"required","message":"Theatre room is required","name":"ValidatorError","path":"theatre_room","properties":{"message":"Theatre room is required","path":"theatre_room","type":"required"}}},"level":"error","message":"Create theatre procedure error TheatreProcedure validation failed: theatre_room: Theatre room is required","service":"user-service","stack":"ValidationError: TheatreProcedure validation failed: theatre_room: Theatre room is required\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-10-24 01:18:19"}
{"_message":"TheatreProcedure validation failed","errors":{"theatre_room":{"kind":"required","message":"Theatre room is required","name":"ValidatorError","path":"theatre_room","properties":{"message":"Theatre room is required","path":"theatre_room","type":"required"}}},"level":"error","message":"Create theatre procedure error TheatreProcedure validation failed: theatre_room: Theatre room is required","service":"user-service","stack":"ValidationError: TheatreProcedure validation failed: theatre_room: Theatre room is required\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-10-24 01:23:13"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-24 01:24:31"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-24 01:24:35"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-24 01:24:35"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-24 01:24:35"}
{"level":"error","message":"Get theatre statistics error: Theatre.getStatistics is not a function","service":"user-service","stack":"TypeError: Theatre.getStatistics is not a function\n    at file:///C:/Users/Admin/Documents/my-app/server/routes/theatres.js:62:33\n    at newFn (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///C:/Users/Admin/Documents/my-app/server/middleware/auth.js:88:5\n    at newFn (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at protect (file:///C:/Users/Admin/Documents/my-app/server/middleware/auth.js:61:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-10-24 01:24:57"}
{"level":"error","message":"Get theatre statistics error: Theatre.getStatistics is not a function","service":"user-service","stack":"TypeError: Theatre.getStatistics is not a function\n    at file:///C:/Users/Admin/Documents/my-app/server/routes/theatres.js:62:33\n    at newFn (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///C:/Users/Admin/Documents/my-app/server/middleware/auth.js:88:5\n    at newFn (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at protect (file:///C:/Users/Admin/Documents/my-app/server/middleware/auth.js:61:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-10-24 01:24:57"}
{"level":"error","message":"Get theatre statistics error: Theatre.getStatistics is not a function","service":"user-service","stack":"TypeError: Theatre.getStatistics is not a function\n    at file:///C:/Users/Admin/Documents/my-app/server/routes/theatres.js:62:33\n    at newFn (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///C:/Users/Admin/Documents/my-app/server/middleware/auth.js:88:5\n    at newFn (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at protect (file:///C:/Users/Admin/Documents/my-app/server/middleware/auth.js:61:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-10-24 01:27:13"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: hospital_management.theatreprocedures index: procedureNumber_1 dup key: { procedureNumber: null }","index":0,"keyPattern":{"procedureNumber":1},"keyValue":{"procedureNumber":null}},"index":0,"keyPattern":{"procedureNumber":1},"keyValue":{"procedureNumber":null},"level":"error","message":"Create theatre procedure error E11000 duplicate key error collection: hospital_management.theatreprocedures index: procedureNumber_1 dup key: { procedureNumber: null }","service":"user-service","stack":"MongoServerError: E11000 duplicate key error collection: hospital_management.theatreprocedures index: procedureNumber_1 dup key: { procedureNumber: null }\n    at InsertOneOperation.execute (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongodb\\lib\\operations\\insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async tryOperation (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:207:20)\n    at async executeOperation (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async Collection.insertOne (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongodb\\lib\\collection.js:157:16)","timestamp":"2025-10-24 01:40:33"}
{"_message":"Patient validation failed","errors":{"gender":{"kind":"enum","message":"`male` is not a valid enum value for path `gender`.","name":"ValidatorError","path":"gender","properties":{"enumValues":["Male","Female","Other"],"length":4,"message":"`male` is not a valid enum value for path `gender`.","path":"gender","type":"enum","value":"male"},"value":"male"},"middleName":{"kind":"required","message":"Middle name is required","name":"ValidatorError","path":"middleName","properties":{"message":"Middle name is required","path":"middleName","type":"required"}}},"level":"error","message":"Create theatre procedure error Patient validation failed: middleName: Middle name is required, gender: `male` is not a valid enum value for path `gender`.","service":"user-service","stack":"ValidationError: Patient validation failed: middleName: Middle name is required, gender: `male` is not a valid enum value for path `gender`.\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-10-24 01:41:42"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-24 01:43:21"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-24 01:43:24"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-24 01:43:24"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-24 01:43:24"}
{"_message":"Patient validation failed","errors":{"gender":{"kind":"enum","message":"`male` is not a valid enum value for path `gender`.","name":"ValidatorError","path":"gender","properties":{"enumValues":["Male","Female","Other"],"length":4,"message":"`male` is not a valid enum value for path `gender`.","path":"gender","type":"enum","value":"male"},"value":"male"},"middleName":{"kind":"required","message":"Middle name is required","name":"ValidatorError","path":"middleName","properties":{"message":"Middle name is required","path":"middleName","type":"required"}}},"level":"error","message":"Create theatre procedure error Patient validation failed: middleName: Middle name is required, gender: `male` is not a valid enum value for path `gender`.","service":"user-service","stack":"ValidationError: Patient validation failed: middleName: Middle name is required, gender: `male` is not a valid enum value for path `gender`.\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-10-24 01:45:00"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-24 01:46:57"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-24 01:47:01"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-24 01:47:01"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-24 01:47:01"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: hospital_management.theatreprocedures index: procedureNumber_1 dup key: { procedureNumber: null }","index":0,"keyPattern":{"procedureNumber":1},"keyValue":{"procedureNumber":null}},"index":0,"keyPattern":{"procedureNumber":1},"keyValue":{"procedureNumber":null},"level":"error","message":"Create theatre procedure error E11000 duplicate key error collection: hospital_management.theatreprocedures index: procedureNumber_1 dup key: { procedureNumber: null }","service":"user-service","stack":"MongoServerError: E11000 duplicate key error collection: hospital_management.theatreprocedures index: procedureNumber_1 dup key: { procedureNumber: null }\n    at InsertOneOperation.execute (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongodb\\lib\\operations\\insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async tryOperation (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:207:20)\n    at async executeOperation (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async Collection.insertOne (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongodb\\lib\\collection.js:157:16)","timestamp":"2025-10-24 01:48:10"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-24 01:48:22"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-24 01:48:25"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-24 01:48:25"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-24 01:48:25"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-24 01:51:06"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-24 14:29:32"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-24 14:29:32"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-24 14:29:32"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-24 14:51:38"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-24 14:52:21"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-24 14:52:21"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-24 14:52:21"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-24 15:02:56"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-24 15:03:11"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-24 15:03:11"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-24 15:03:11"}
{"level":"error","message":"ReferenceError: error is not defined\n    at file:///C:/Users/Admin/Documents/my-app/server/routes/theatre-procedures.js:69:55\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","service":"user-service","timestamp":"2025-10-24 15:05:16"}
{"level":"error","message":"ReferenceError: error is not defined\n    at file:///C:/Users/Admin/Documents/my-app/server/routes/theatre-procedures.js:69:55\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","service":"user-service","timestamp":"2025-10-24 15:05:16"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-24 15:06:30"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-24 15:06:33"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-24 15:06:33"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-24 15:06:33"}
{"level":"error","message":"Get theatre procedures error: Cannot populate path `anesthesiologist` because it is not in your schema. Set the `strictPopulate` option to false to override.","path":"anesthesiologist","service":"user-service","stack":"StrictPopulateError: Cannot populate path `anesthesiologist` because it is not in your schema. Set the `strictPopulate` option to false to override.\n    at getModelsMapForPopulate (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\helpers\\populate\\getModelsMapForPopulate.js:50:12)\n    at _populatePath (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\model.js:4466:21)\n    at Function.populate (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\model.js:4433:21)\n    at model.Query._find (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\query.js:2456:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async model.Query.exec (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\query.js:4627:63)\n    at async file:///C:/Users/Admin/Documents/my-app/server/routes/theatre-procedures.js:48:28","timestamp":"2025-10-24 15:06:53"}
{"level":"error","message":"Get theatre procedures error: Cannot populate path `anesthesiologist` because it is not in your schema. Set the `strictPopulate` option to false to override.","path":"anesthesiologist","service":"user-service","stack":"StrictPopulateError: Cannot populate path `anesthesiologist` because it is not in your schema. Set the `strictPopulate` option to false to override.\n    at getModelsMapForPopulate (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\helpers\\populate\\getModelsMapForPopulate.js:50:12)\n    at _populatePath (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\model.js:4466:21)\n    at Function.populate (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\model.js:4433:21)\n    at model.Query._find (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\query.js:2456:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async model.Query.exec (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\query.js:4627:63)\n    at async file:///C:/Users/Admin/Documents/my-app/server/routes/theatre-procedures.js:48:28","timestamp":"2025-10-24 15:06:53"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-24 15:09:08"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-24 15:09:11"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-24 15:09:11"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-24 15:09:11"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-24 15:35:14"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-24 15:35:34"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-24 15:35:34"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-24 15:35:34"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-24 16:24:22"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-24 16:25:02"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-24 16:25:02"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-24 16:25:02"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-24 16:59:02"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-24 16:59:02"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-24 16:59:02"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-24 18:14:36"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-24 18:15:00"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-24 18:15:00"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-24 18:15:00"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-24 18:16:59"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-24 18:17:02"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-24 18:17:02"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-24 18:17:02"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-24 18:17:25"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-24 18:17:28"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-24 18:17:28"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-24 18:17:28"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-24 18:18:06"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-24 18:18:17"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-24 18:18:17"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-24 18:18:17"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-24 18:31:43"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-24 18:31:46"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-24 18:31:46"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-24 18:31:46"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-24 18:33:06"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-24 18:33:16"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-24 18:33:16"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-24 18:33:16"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-24 18:36:28"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-25 16:18:33"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-25 16:18:33"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-25 16:18:33"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-25 17:49:10"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-25 17:49:10"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-25 17:49:11"}
{"_message":"Visit validation failed","errors":{"reason":{"kind":"required","message":"Path `reason` is required.","name":"ValidatorError","path":"reason","properties":{"length":0,"message":"Path `reason` is required.","path":"reason","type":"required","value":""},"value":""}},"level":"error","message":"Create visit error: Visit validation failed: reason: Path `reason` is required.","service":"user-service","stack":"ValidationError: Visit validation failed: reason: Path `reason` is required.\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-10-26 00:10:48"}
{"level":"info","message":"Visit created for patient 68d16078fe340b0d18823b37. Insurance status: true, Visit status: In Queue","service":"user-service","timestamp":"2025-10-26 00:11:03"}
{"level":"info","message":"Invoice INV-202510-00008 auto-marked as paid for insured patient 68d16078fe340b0d18823b37","service":"user-service","timestamp":"2025-10-26 00:11:04"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-26 00:14:25"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-26 00:15:22"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-26 00:15:22"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-26 00:15:22"}
{"_message":"Invoice validation failed","errors":{"insuranceCoverage.provider":{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"ASSEMBLE\" (type string) at path \"insuranceCoverage.provider\" because of \"BSONError\"","name":"CastError","path":"insuranceCoverage.provider","reason":{},"stringValue":"\"ASSEMBLE\"","value":"ASSEMBLE","valueType":"string"}},"level":"error","message":"Add lab order with invoice error: Invoice validation failed: insuranceCoverage.provider: Cast to ObjectId failed for value \"ASSEMBLE\" (type string) at path \"insuranceCoverage.provider\" because of \"BSONError\"","service":"user-service","stack":"ValidationError: Invoice validation failed: insuranceCoverage.provider: Cast to ObjectId failed for value \"ASSEMBLE\" (type string) at path \"insuranceCoverage.provider\" because of \"BSONError\"\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at model.$set (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\document.js:1480:12)\n    at model.$set (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\document.js:1227:14)\n    at model.set [as insuranceCoverage] (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\helpers\\document\\compile.js:189:13)\n    at createServiceInvoice (file:///C:/Users/Admin/Documents/my-app/server/routes/visits.js:88:31)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///C:/Users/Admin/Documents/my-app/server/routes/visits.js:114:39","timestamp":"2025-10-26 00:15:34"}
{"_message":"Invoice validation failed","errors":{"insuranceCoverage.provider":{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"ASSEMBLE\" (type string) at path \"insuranceCoverage.provider\" because of \"BSONError\"","name":"CastError","path":"insuranceCoverage.provider","reason":{},"stringValue":"\"ASSEMBLE\"","value":"ASSEMBLE","valueType":"string"}},"level":"error","message":"Add lab order with invoice error: Invoice validation failed: insuranceCoverage.provider: Cast to ObjectId failed for value \"ASSEMBLE\" (type string) at path \"insuranceCoverage.provider\" because of \"BSONError\"","service":"user-service","stack":"ValidationError: Invoice validation failed: insuranceCoverage.provider: Cast to ObjectId failed for value \"ASSEMBLE\" (type string) at path \"insuranceCoverage.provider\" because of \"BSONError\"\n    at Document.invalidate (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at model.$set (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\document.js:1480:12)\n    at model.$set (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\document.js:1227:14)\n    at model.set [as insuranceCoverage] (C:\\Users\\Admin\\Documents\\my-app\\server\\node_modules\\mongoose\\lib\\helpers\\document\\compile.js:189:13)\n    at createServiceInvoice (file:///C:/Users/Admin/Documents/my-app/server/routes/visits.js:88:31)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///C:/Users/Admin/Documents/my-app/server/routes/visits.js:114:39","timestamp":"2025-10-26 00:15:38"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-26 00:30:26"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-26 15:17:34"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-26 15:17:34"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-26 15:17:35"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-26 16:13:04"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-26 16:13:38"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-26 16:13:38"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-26 16:13:38"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-26 17:11:16"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-26 17:12:06"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-26 17:12:06"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-26 17:12:06"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-26 17:12:48"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-26 17:12:52"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-26 17:12:52"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-26 17:12:52"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-26 17:13:42"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-26 17:13:46"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-26 17:13:46"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-26 17:13:46"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-26 17:14:35"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-26 17:14:39"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-26 17:14:39"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-26 17:14:39"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-26 17:30:13"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-26 17:30:34"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-26 17:30:34"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-26 17:30:34"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-26 18:02:50"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-26 18:06:04"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-26 18:06:04"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-26 18:06:04"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-26 18:09:19"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-26 18:14:06"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-26 18:14:06"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-26 18:14:06"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-26 18:19:32"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-26 18:19:49"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-26 18:19:49"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-26 18:19:49"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-26 18:23:30"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-26 18:23:34"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-26 18:23:34"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-26 18:23:34"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-26 18:33:15"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-26 18:33:31"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-26 18:33:31"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-26 18:33:31"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-26 18:58:57"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-26 20:40:09"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-26 20:40:09"}
{"code":"ETIMEOUT","hostname":"hospitalmanagement.hu7y8qo.mongodb.net","level":"error","message":"Database connection failed: queryTxt ETIMEOUT hospitalmanagement.hu7y8qo.mongodb.net","service":"user-service","stack":"Error: queryTxt ETIMEOUT hospitalmanagement.hu7y8qo.mongodb.net\n    at QueryReqWrap.onresolve [as oncomplete] (node:internal/dns/promises:294:17)","syscall":"queryTxt","timestamp":"2025-10-26 20:41:02"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-26 20:41:45"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-26 20:41:45"}
{"code":"ETIMEOUT","hostname":"hospitalmanagement.hu7y8qo.mongodb.net","level":"error","message":"Database connection failed: queryTxt ETIMEOUT hospitalmanagement.hu7y8qo.mongodb.net","service":"user-service","stack":"Error: queryTxt ETIMEOUT hospitalmanagement.hu7y8qo.mongodb.net\n    at QueryReqWrap.onresolve [as oncomplete] (node:internal/dns/promises:294:17)","syscall":"queryTxt","timestamp":"2025-10-26 20:42:34"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-26 20:43:37"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-26 20:43:37"}
{"code":"ETIMEOUT","hostname":"hospitalmanagement.hu7y8qo.mongodb.net","level":"error","message":"Database connection failed: queryTxt ETIMEOUT hospitalmanagement.hu7y8qo.mongodb.net","service":"user-service","stack":"Error: queryTxt ETIMEOUT hospitalmanagement.hu7y8qo.mongodb.net\n    at QueryReqWrap.onresolve [as oncomplete] (node:internal/dns/promises:294:17)","syscall":"queryTxt","timestamp":"2025-10-26 20:44:22"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-26 20:46:30"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-26 20:46:30"}
{"code":"ETIMEOUT","hostname":"_mongodb._tcp.hospitalmanagement.hu7y8qo.mongodb.net","level":"error","message":"Database connection failed: querySrv ETIMEOUT _mongodb._tcp.hospitalmanagement.hu7y8qo.mongodb.net","service":"user-service","stack":"Error: querySrv ETIMEOUT _mongodb._tcp.hospitalmanagement.hu7y8qo.mongodb.net\n    at QueryReqWrap.onresolve [as oncomplete] (node:internal/dns/promises:294:17)","syscall":"querySrv","timestamp":"2025-10-26 20:47:25"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-26 20:49:38"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-26 20:49:38"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-26 20:49:38"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-26 23:22:42"}
{"level":"info","message":"MongoDB reconnected","service":"user-service","timestamp":"2025-10-26 23:22:53"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-26 23:51:06"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-26 23:52:59"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-26 23:52:59"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-26 23:52:59"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-27 00:09:21"}
{"level":"info","message":"Server running in development mode on port 5000","service":"user-service","timestamp":"2025-10-27 13:12:12"}
{"level":"info","message":"Server accessible at http://0.0.0.0:5000","service":"user-service","timestamp":"2025-10-27 13:12:12"}
{"level":"info","message":"MongoDB Connected: localhost","service":"user-service","timestamp":"2025-10-27 13:12:12"}
{"level":"info","message":"Visit created for patient 68d16078fe340b0d18823b37. Insurance status: true, Visit status: In Queue","service":"user-service","timestamp":"2025-10-27 13:40:03"}
{"level":"info","message":"Invoice INV-202510-00009 auto-marked as paid for insured patient 68d16078fe340b0d18823b37","service":"user-service","timestamp":"2025-10-27 13:40:05"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-28 13:28:44"}
{"level":"info","message":"MongoDB reconnected","service":"user-service","timestamp":"2025-10-28 13:29:02"}
{"level":"warn","message":"MongoDB disconnected","service":"user-service","timestamp":"2025-10-28 14:22:19"}
